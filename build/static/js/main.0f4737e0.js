/*! For license information please see main.0f4737e0.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,n,t)=>{e.exports=t(202)},153:(e,n,t)=>{var o=t(43),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,n,t){var o,i={},u=null,c=null;for(o in void 0!==t&&(u=""+t),void 0!==n.key&&(u=""+n.key),void 0!==n.ref&&(c=n.ref),n)l.call(n,o)&&!s.hasOwnProperty(o)&&(i[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps)void 0===i[o]&&(i[o]=n[o]);return{$$typeof:r,type:e,key:u,ref:c,props:i,_owner:a.current}}n.jsx=u,n.jsxs=u},202:(e,n)=>{var t=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function y(e,n,t){this.props=e,this.context=n,this.refs=g,this.updater=t||m}function v(){}function b(e,n,t){this.props=e,this.context=n,this.refs=g,this.updater=t||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,n){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var C=b.prototype=new v;C.constructor=b,h(C,y.prototype),C.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,T={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function w(e,n,o){var r,i={},l=null,a=null;if(null!=n)for(r in void 0!==n.ref&&(a=n.ref),void 0!==n.key&&(l=""+n.key),n)S.call(n,r)&&!_.hasOwnProperty(r)&&(i[r]=n[r]);var s=arguments.length-2;if(1===s)i.children=o;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:t,type:e,key:l,ref:a,props:i,_owner:T.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===t}var A=/\/+/g;function O(e,n){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return n[e]})}(""+e.key):n.toString(36)}function x(e,n,r,i,l){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var s=!1;if(null===e)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case t:case o:s=!0}}if(s)return l=l(s=e),e=""===i?"."+O(s,0):i,E(l)?(r="",null!=e&&(r=e.replace(A,"$&/")+"/"),x(l,n,r,"",function(e){return e})):null!=l&&(I(l)&&(l=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(l,r+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(A,"$&/")+"/")+e)),n.push(l)),1;if(s=0,i=""===i?".":i+":",E(e))for(var u=0;u<e.length;u++){var c=i+O(a=e[u],u);s+=x(a,n,r,c,l)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)s+=x(a=a.value,n,r,c=i+O(a,u++),l);else if("object"===a)throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return s}function k(e,n,t){if(null==e)return e;var o=[],r=0;return x(e,o,"","",function(e){return n.call(t,e,r++)}),o}function N(e){if(-1===e._status){var n=e._result;(n=n()).then(function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)},function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)}),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},M={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:T};function D(){throw Error("act(...) is not supported in production builds of React.")}n.Children={map:k,forEach:function(e,n,t){k(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return k(e,function(){n++}),n},toArray:function(e){return k(e,function(e){return e})||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=y,n.Fragment=r,n.Profiler=l,n.PureComponent=b,n.StrictMode=i,n.Suspense=c,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,n.act=D,n.cloneElement=function(e,n,o){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=h({},e.props),i=e.key,l=e.ref,a=e._owner;if(null!=n){if(void 0!==n.ref&&(l=n.ref,a=T.current),void 0!==n.key&&(i=""+n.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in n)S.call(n,u)&&!_.hasOwnProperty(u)&&(r[u]=void 0===n[u]&&void 0!==s?s[u]:n[u])}var u=arguments.length-2;if(1===u)r.children=o;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:t,type:e.type,key:i,ref:l,props:r,_owner:a}},n.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},n.createElement=w,n.createFactory=function(e){var n=w.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:u,render:e}},n.isValidElement=I,n.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:N}},n.memo=function(e,n){return{$$typeof:d,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=R.transition;R.transition={};try{e()}finally{R.transition=n}},n.unstable_act=D,n.useCallback=function(e,n){return P.current.useCallback(e,n)},n.useContext=function(e){return P.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return P.current.useDeferredValue(e)},n.useEffect=function(e,n){return P.current.useEffect(e,n)},n.useId=function(){return P.current.useId()},n.useImperativeHandle=function(e,n,t){return P.current.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return P.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return P.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return P.current.useMemo(e,n)},n.useReducer=function(e,n,t){return P.current.useReducer(e,n,t)},n.useRef=function(e){return P.current.useRef(e)},n.useState=function(e){return P.current.useState(e)},n.useSyncExternalStore=function(e,n,t){return P.current.useSyncExternalStore(e,n,t)},n.useTransition=function(){return P.current.useTransition()},n.version="18.3.1"},234:(e,n)=>{function t(e,n){var t=e.length;e.push(n);e:for(;0<t;){var o=t-1>>>1,r=e[o];if(!(0<i(r,n)))break e;e[o]=n,e[t]=r,t=o}}function o(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var o=0,r=e.length,l=r>>>1;o<l;){var a=2*(o+1)-1,s=e[a],u=a+1,c=e[u];if(0>i(s,t))u<r&&0>i(c,s)?(e[o]=c,e[u]=t,o=u):(e[o]=s,e[a]=t,o=a);else{if(!(u<r&&0>i(c,t)))break e;e[o]=c,e[u]=t,o=u}}}return n}function i(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;n.unstable_now=function(){return l.now()}}else{var a=Date,s=a.now();n.unstable_now=function(){return a.now()-s}}var u=[],c=[],d=1,p=null,f=3,m=!1,h=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function C(e){for(var n=o(c);null!==n;){if(null===n.callback)r(c);else{if(!(n.startTime<=e))break;r(c),n.sortIndex=n.expirationTime,t(u,n)}n=o(c)}}function E(e){if(g=!1,C(e),!h)if(null!==o(u))h=!0,R(S);else{var n=o(c);null!==n&&M(E,n.startTime-e)}}function S(e,t){h=!1,g&&(g=!1,v(I),I=-1),m=!0;var i=f;try{for(C(t),p=o(u);null!==p&&(!(p.expirationTime>t)||e&&!x());){var l=p.callback;if("function"===typeof l){p.callback=null,f=p.priorityLevel;var a=l(p.expirationTime<=t);t=n.unstable_now(),"function"===typeof a?p.callback=a:p===o(u)&&r(u),C(t)}else r(u);p=o(u)}if(null!==p)var s=!0;else{var d=o(c);null!==d&&M(E,d.startTime-t),s=!1}return s}finally{p=null,f=i,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,_=!1,w=null,I=-1,A=5,O=-1;function x(){return!(n.unstable_now()-O<A)}function k(){if(null!==w){var e=n.unstable_now();O=e;var t=!0;try{t=w(!0,e)}finally{t?T():(_=!1,w=null)}}else _=!1}if("function"===typeof b)T=function(){b(k)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=k,T=function(){P.postMessage(null)}}else T=function(){y(k,0)};function R(e){w=e,_||(_=!0,T())}function M(e,t){I=y(function(){e(n.unstable_now())},t)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){h||m||(h=!0,R(S))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return o(u)},n.unstable_next=function(e){switch(f){case 1:case 2:case 3:var n=3;break;default:n=f}var t=f;f=n;try{return e()}finally{f=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=f;f=e;try{return n()}finally{f=t}},n.unstable_scheduleCallback=function(e,r,i){var l=n.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?l+i:l:i=l,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>l?(e.sortIndex=i,t(c,e),null===o(u)&&e===o(c)&&(g?(v(I),I=-1):g=!0,M(E,i-l))):(e.sortIndex=a,t(u,e),h||m||(h=!0,R(S))),e},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(e){var n=f;return function(){var t=f;f=n;try{return e.apply(this,arguments)}finally{f=t}}}},391:(e,n,t)=>{var o=t(950);n.createRoot=o.createRoot,n.hydrateRoot=o.hydrateRoot},579:(e,n,t)=>{e.exports=t(153)},730:(e,n,t)=>{var o=t(43),r=t(853);function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,a={};function s(e,n){u(e,n),u(e+"Capture",n)}function u(e,n){for(a[e]=n,e=0;e<n.length;e++)l.add(n[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function h(e,n,t,o,r,i,l){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=i,this.removeEmptyString=l}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];g[n]=new h(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,n,t,o){var r=g.hasOwnProperty(n)?g[n]:null;(null!==r?0!==r.type:o||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(function(e,n,t,o){if(null===n||"undefined"===typeof n||function(e,n,t,o){if(null!==t&&0===t.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==t?!t.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,t,o))return!0;if(o)return!1;if(null!==t)switch(t.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,t,r,o)&&(t=null),o||null===r?function(e){return!!d.call(m,e)||!d.call(f,e)&&(p.test(e)?m[e]=!0:(f[e]=!0,!1))}(n)&&(null===t?e.removeAttribute(n):e.setAttribute(n,""+t)):r.mustUseProperty?e[r.propertyName]=null===t?3!==r.type&&"":t:(n=r.attributeName,o=r.attributeNamespace,null===t?e.removeAttribute(n):(t=3===(r=r.type)||4===r&&!0===t?"":""+t,o?e.setAttributeNS(o,n,t):e.setAttribute(n,t))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(y,v);g[n]=new h(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(y,v);g[n]=new h(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(y,v);g[n]=new h(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});var C=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var L,U=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);L=n&&n[1]||""}return"\n"+L+e}var F=!1;function q(e,n){if(!e||F)return"";F=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(u){var o=u}Reflect.construct(e,[],n)}else{try{n.call()}catch(u){o=u}e.call(n.prototype)}else{try{throw Error()}catch(u){o=u}e()}}catch(u){if(u&&o&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),i=o.stack.split("\n"),l=r.length-1,a=i.length-1;1<=l&&0<=a&&r[l]!==i[a];)a--;for(;1<=l&&0<=a;l--,a--)if(r[l]!==i[a]){if(1!==l||1!==a)do{if(l--,0>--a||r[l]!==i[a]){var s="\n"+r[l].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=l&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?j(e):""}function H(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case w:return"Profiler";case _:return"StrictMode";case x:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case O:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(n=e.displayName||null)?n:G(e.type)||"Memo";case P:n=e._payload,e=e._init;try{return G(e(n))}catch(t){}}return null}function V(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(n);case 8:return n===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof n)return n.displayName||n.name||null;if("string"===typeof n)return n}return null}function B(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function z(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function J(e){e._valueTracker||(e._valueTracker=function(e){var n=z(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&"undefined"!==typeof t&&"function"===typeof t.get&&"function"===typeof t.set){var r=t.get,i=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return r.call(this)},set:function(e){o=""+e,i.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function W(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),o="";return e&&(o=z(e)?e.checked?"true":"false":e.value),(e=o)!==t&&(n.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function K(e,n){var t=n.checked;return U({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:e._wrapperState.initialChecked})}function Q(e,n){var t=null==n.defaultValue?"":n.defaultValue,o=null!=n.checked?n.checked:n.defaultChecked;t=B(null!=n.value?n.value:t),e._wrapperState={initialChecked:o,initialValue:t,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function $(e,n){null!=(n=n.checked)&&b(e,"checked",n,!1)}function X(e,n){$(e,n);var t=B(n.value),o=n.type;if(null!=t)"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if("submit"===o||"reset"===o)return void e.removeAttribute("value");n.hasOwnProperty("value")?ee(e,n.type,t):n.hasOwnProperty("defaultValue")&&ee(e,n.type,B(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function Z(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!("submit"!==o&&"reset"!==o||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}""!==(t=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==t&&(e.name=t)}function ee(e,n,t){"number"===n&&Y(e.ownerDocument)===e||(null==t?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var ne=Array.isArray;function te(e,n,t,o){if(e=e.options,n){n={};for(var r=0;r<t.length;r++)n["$"+t[r]]=!0;for(t=0;t<e.length;t++)r=n.hasOwnProperty("$"+e[t].value),e[t].selected!==r&&(e[t].selected=r),r&&o&&(e[t].defaultSelected=!0)}else{for(t=""+B(t),n=null,r=0;r<e.length;r++){if(e[r].value===t)return e[r].selected=!0,void(o&&(e[r].defaultSelected=!0));null!==n||e[r].disabled||(n=e[r])}null!==n&&(n.selected=!0)}}function oe(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(i(91));return U({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,n){var t=n.value;if(null==t){if(t=n.children,n=n.defaultValue,null!=t){if(null!=n)throw Error(i(92));if(ne(t)){if(1<t.length)throw Error(i(93));t=t[0]}n=t}null==n&&(n=""),t=n}e._wrapperState={initialValue:B(t)}}function ie(e,n){var t=B(n.value),o=B(n.defaultValue);null!=t&&((t=""+t)!==e.value&&(e.value=t),null==n.defaultValue&&e.defaultValue!==t&&(e.defaultValue=t)),null!=o&&(e.defaultValue=""+o)}function le(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,t,o){MSApp.execUnsafeLocalFunction(function(){return ce(e,n)})}:ce);function pe(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function he(e,n,t){return null==n||"boolean"===typeof n||""===n?"":t||"number"!==typeof n||0===n||fe.hasOwnProperty(e)&&fe[e]?(""+n).trim():n+"px"}function ge(e,n){for(var t in e=e.style,n)if(n.hasOwnProperty(t)){var o=0===t.indexOf("--"),r=he(t,n[t],o);"float"===t&&(t="cssFloat"),o?e.setProperty(t,r):e[t]=r}}Object.keys(fe).forEach(function(e){me.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),fe[n]=fe[e]})});var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,n){if(n){if(ye[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(i(60));if("object"!==typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=n.style&&"object"!==typeof n.style)throw Error(i(62))}}function be(e,n){if(-1===e.indexOf("-"))return"string"===typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ce=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,_e=null;function we(e){if(e=Cr(e)){if("function"!==typeof Se)throw Error(i(280));var n=e.stateNode;n&&(n=Sr(n),Se(e.stateNode,e.type,n))}}function Ie(e){Te?_e?_e.push(e):_e=[e]:Te=e}function Ae(){if(Te){var e=Te,n=_e;if(_e=Te=null,we(e),n)for(e=0;e<n.length;e++)we(n[e])}}function Oe(e,n){return e(n)}function xe(){}var ke=!1;function Ne(e,n,t){if(ke)return e(n,t);ke=!0;try{return Oe(e,n,t)}finally{ke=!1,(null!==Te||null!==_e)&&(xe(),Ae())}}function Pe(e,n){var t=e.stateNode;if(null===t)return null;var o=Sr(t);if(null===o)return null;t=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(t&&"function"!==typeof t)throw Error(i(231,n,typeof t));return t}var Re=!1;if(c)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ce){Re=!1}function De(e,n,t,o,r,i,l,a,s){var u=Array.prototype.slice.call(arguments,3);try{n.apply(t,u)}catch(c){this.onError(c)}}var Le=!1,Ue=null,je=!1,Fe=null,qe={onError:function(e){Le=!0,Ue=e}};function He(e,n,t,o,r,i,l,a,s){Le=!1,Ue=null,De.apply(qe,arguments)}function Ge(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!==(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function Ve(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function Be(e){if(Ge(e)!==e)throw Error(i(188))}function ze(e){return null!==(e=function(e){var n=e.alternate;if(!n){if(null===(n=Ge(e)))throw Error(i(188));return n!==e?null:e}for(var t=e,o=n;;){var r=t.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(o=r.return)){t=o;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===t)return Be(r),e;if(l===o)return Be(r),n;l=l.sibling}throw Error(i(188))}if(t.return!==o.return)t=r,o=l;else{for(var a=!1,s=r.child;s;){if(s===t){a=!0,t=r,o=l;break}if(s===o){a=!0,o=r,t=l;break}s=s.sibling}if(!a){for(s=l.child;s;){if(s===t){a=!0,t=l,o=r;break}if(s===o){a=!0,o=l,t=r;break}s=s.sibling}if(!a)throw Error(i(189))}}if(t.alternate!==o)throw Error(i(190))}if(3!==t.tag)throw Error(i(188));return t.stateNode.current===t?e:n}(e))?Je(e):null}function Je(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var n=Je(e);if(null!==n)return n;e=e.sibling}return null}var We=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,Qe=r.unstable_requestPaint,$e=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,en=r.unstable_UserBlockingPriority,nn=r.unstable_NormalPriority,tn=r.unstable_LowPriority,on=r.unstable_IdlePriority,rn=null,ln=null;var an=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(sn(e)/un|0)|0},sn=Math.log,un=Math.LN2;var cn=64,dn=4194304;function pn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fn(e,n){var t=e.pendingLanes;if(0===t)return 0;var o=0,r=e.suspendedLanes,i=e.pingedLanes,l=268435455&t;if(0!==l){var a=l&~r;0!==a?o=pn(a):0!==(i&=l)&&(o=pn(i))}else 0!==(l=t&~r)?o=pn(l):0!==i&&(o=pn(i));if(0===o)return 0;if(0!==n&&n!==o&&0===(n&r)&&((r=o&-o)>=(i=n&-n)||16===r&&0!==(4194240&i)))return n;if(0!==(4&o)&&(o|=16&t),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=o;0<n;)r=1<<(t=31-an(n)),o|=e[t],n&=~r;return o}function mn(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function hn(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gn(){var e=cn;return 0===(4194240&(cn<<=1))&&(cn=64),e}function yn(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function vn(e,n,t){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[n=31-an(n)]=t}function bn(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var o=31-an(t),r=1<<o;r&n|e[o]&n&&(e[o]|=n),t&=~r}}var Cn=0;function En(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Sn,Tn,_n,wn,In,An=!1,On=[],xn=null,kn=null,Nn=null,Pn=new Map,Rn=new Map,Mn=[],Dn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ln(e,n){switch(e){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Pn.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(n.pointerId)}}function Un(e,n,t,o,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:n,domEventName:t,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},null!==n&&(null!==(n=Cr(n))&&Tn(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,null!==r&&-1===n.indexOf(r)&&n.push(r),e)}function jn(e){var n=br(e.target);if(null!==n){var t=Ge(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=Ve(t)))return e.blockedOn=n,void In(e.priority,function(){_n(t)})}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function Fn(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=Qn(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==t)return null!==(n=Cr(t))&&Tn(n),e.blockedOn=t,!1;var o=new(t=e.nativeEvent).constructor(t.type,t);Ce=o,t.target.dispatchEvent(o),Ce=null,n.shift()}return!0}function qn(e,n,t){Fn(e)&&t.delete(n)}function Hn(){An=!1,null!==xn&&Fn(xn)&&(xn=null),null!==kn&&Fn(kn)&&(kn=null),null!==Nn&&Fn(Nn)&&(Nn=null),Pn.forEach(qn),Rn.forEach(qn)}function Gn(e,n){e.blockedOn===n&&(e.blockedOn=null,An||(An=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hn)))}function Vn(e){function n(n){return Gn(n,e)}if(0<On.length){Gn(On[0],e);for(var t=1;t<On.length;t++){var o=On[t];o.blockedOn===e&&(o.blockedOn=null)}}for(null!==xn&&Gn(xn,e),null!==kn&&Gn(kn,e),null!==Nn&&Gn(Nn,e),Pn.forEach(n),Rn.forEach(n),t=0;t<Mn.length;t++)(o=Mn[t]).blockedOn===e&&(o.blockedOn=null);for(;0<Mn.length&&null===(t=Mn[0]).blockedOn;)jn(t),null===t.blockedOn&&Mn.shift()}var Bn=C.ReactCurrentBatchConfig,zn=!0;function Jn(e,n,t,o){var r=Cn,i=Bn.transition;Bn.transition=null;try{Cn=1,Yn(e,n,t,o)}finally{Cn=r,Bn.transition=i}}function Wn(e,n,t,o){var r=Cn,i=Bn.transition;Bn.transition=null;try{Cn=4,Yn(e,n,t,o)}finally{Cn=r,Bn.transition=i}}function Yn(e,n,t,o){if(zn){var r=Qn(e,n,t,o);if(null===r)zo(e,n,o,Kn,t),Ln(e,o);else if(function(e,n,t,o,r){switch(n){case"focusin":return xn=Un(xn,e,n,t,o,r),!0;case"dragenter":return kn=Un(kn,e,n,t,o,r),!0;case"mouseover":return Nn=Un(Nn,e,n,t,o,r),!0;case"pointerover":var i=r.pointerId;return Pn.set(i,Un(Pn.get(i)||null,e,n,t,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Rn.set(i,Un(Rn.get(i)||null,e,n,t,o,r)),!0}return!1}(r,e,n,t,o))o.stopPropagation();else if(Ln(e,o),4&n&&-1<Dn.indexOf(e)){for(;null!==r;){var i=Cr(r);if(null!==i&&Sn(i),null===(i=Qn(e,n,t,o))&&zo(e,n,o,Kn,t),i===r)break;r=i}null!==r&&o.stopPropagation()}else zo(e,n,o,null,t)}}var Kn=null;function Qn(e,n,t,o){if(Kn=null,null!==(e=br(e=Ee(o))))if(null===(n=Ge(e)))e=null;else if(13===(t=n.tag)){if(null!==(e=Ve(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Kn=e,null}function $n(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case en:return 4;case nn:case tn:return 16;case on:return 536870912;default:return 16}default:return 16}}var Xn=null,Zn=null,et=null;function nt(){if(et)return et;var e,n,t=Zn,o=t.length,r="value"in Xn?Xn.value:Xn.textContent,i=r.length;for(e=0;e<o&&t[e]===r[e];e++);var l=o-e;for(n=1;n<=l&&t[o-n]===r[i-n];n++);return et=r.slice(e,1<n?1-n:void 0)}function tt(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function ot(){return!0}function rt(){return!1}function it(e){function n(n,t,o,r,i){for(var l in this._reactName=n,this._targetInst=o,this.type=t,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?ot:rt,this.isPropagationStopped=rt,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ot)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ot)},persist:function(){},isPersistent:ot}),n}var lt,at,st,ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ct=it(ut),dt=U({},ut,{view:0,detail:0}),pt=it(dt),ft=U({},dt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wt,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==st&&(st&&"mousemove"===e.type?(lt=e.screenX-st.screenX,at=e.screenY-st.screenY):at=lt=0,st=e),lt)},movementY:function(e){return"movementY"in e?e.movementY:at}}),mt=it(ft),ht=it(U({},ft,{dataTransfer:0})),gt=it(U({},dt,{relatedTarget:0})),yt=it(U({},ut,{animationName:0,elapsedTime:0,pseudoElement:0})),vt=U({},ut,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bt=it(vt),Ct=it(U({},ut,{data:0})),Et={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},St={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _t(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=Tt[e])&&!!n[e]}function wt(){return _t}var It=U({},dt,{key:function(e){if(e.key){var n=Et[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=tt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?St[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wt,charCode:function(e){return"keypress"===e.type?tt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),At=it(It),Ot=it(U({},ft,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xt=it(U({},dt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wt})),kt=it(U({},ut,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nt=U({},ft,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pt=it(Nt),Rt=[9,13,27,32],Mt=c&&"CompositionEvent"in window,Dt=null;c&&"documentMode"in document&&(Dt=document.documentMode);var Lt=c&&"TextEvent"in window&&!Dt,Ut=c&&(!Mt||Dt&&8<Dt&&11>=Dt),jt=String.fromCharCode(32),Ft=!1;function qt(e,n){switch(e){case"keyup":return-1!==Rt.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ht(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gt=!1;var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!Vt[e.type]:"textarea"===n}function zt(e,n,t,o){Ie(o),0<(n=Wo(n,"onChange")).length&&(t=new ct("onChange","change",null,t,o),e.push({event:t,listeners:n}))}var Jt=null,Wt=null;function Yt(e){Fo(e,0)}function Kt(e){if(W(Er(e)))return e}function Qt(e,n){if("change"===e)return n}var $t=!1;if(c){var Xt;if(c){var Zt="oninput"in document;if(!Zt){var eo=document.createElement("div");eo.setAttribute("oninput","return;"),Zt="function"===typeof eo.oninput}Xt=Zt}else Xt=!1;$t=Xt&&(!document.documentMode||9<document.documentMode)}function no(){Jt&&(Jt.detachEvent("onpropertychange",to),Wt=Jt=null)}function to(e){if("value"===e.propertyName&&Kt(Wt)){var n=[];zt(n,Wt,e,Ee(e)),Ne(Yt,n)}}function oo(e,n,t){"focusin"===e?(no(),Wt=t,(Jt=n).attachEvent("onpropertychange",to)):"focusout"===e&&no()}function ro(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kt(Wt)}function io(e,n){if("click"===e)return Kt(n)}function lo(e,n){if("input"===e||"change"===e)return Kt(n)}var ao="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n};function so(e,n){if(ao(e,n))return!0;if("object"!==typeof e||null===e||"object"!==typeof n||null===n)return!1;var t=Object.keys(e),o=Object.keys(n);if(t.length!==o.length)return!1;for(o=0;o<t.length;o++){var r=t[o];if(!d.call(n,r)||!ao(e[r],n[r]))return!1}return!0}function uo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function co(e,n){var t,o=uo(e);for(e=0;o;){if(3===o.nodeType){if(t=e+o.textContent.length,e<=n&&t>=n)return{node:o,offset:n-e};e=t}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uo(o)}}function po(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?po(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function fo(){for(var e=window,n=Y();n instanceof e.HTMLIFrameElement;){try{var t="string"===typeof n.contentWindow.location.href}catch(o){t=!1}if(!t)break;n=Y((e=n.contentWindow).document)}return n}function mo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}function ho(e){var n=fo(),t=e.focusedElem,o=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&po(t.ownerDocument.documentElement,t)){if(null!==o&&mo(t))if(n=o.start,void 0===(e=o.end)&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if((e=(n=t.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var r=t.textContent.length,i=Math.min(o.start,r);o=void 0===o.end?i:Math.min(o.end,r),!e.extend&&i>o&&(r=o,o=i,i=r),r=co(t,i);var l=co(t,o);r&&l&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((n=n.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),i>o?(e.addRange(n),e.extend(l.node,l.offset)):(n.setEnd(l.node,l.offset),e.addRange(n)))}for(n=[],e=t;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<n.length;t++)(e=n[t]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var go=c&&"documentMode"in document&&11>=document.documentMode,yo=null,vo=null,bo=null,Co=!1;function Eo(e,n,t){var o=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;Co||null==yo||yo!==Y(o)||("selectionStart"in(o=yo)&&mo(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},bo&&so(bo,o)||(bo=o,0<(o=Wo(vo,"onSelect")).length&&(n=new ct("onSelect","select",null,n,t),e.push({event:n,listeners:o}),n.target=yo)))}function So(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var To={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionend:So("Transition","TransitionEnd")},_o={},wo={};function Io(e){if(_o[e])return _o[e];if(!To[e])return e;var n,t=To[e];for(n in t)if(t.hasOwnProperty(n)&&n in wo)return _o[e]=t[n];return e}c&&(wo=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);var Ao=Io("animationend"),Oo=Io("animationiteration"),xo=Io("animationstart"),ko=Io("transitionend"),No=new Map,Po="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ro(e,n){No.set(e,n),s(n,[e])}for(var Mo=0;Mo<Po.length;Mo++){var Do=Po[Mo];Ro(Do.toLowerCase(),"on"+(Do[0].toUpperCase()+Do.slice(1)))}Ro(Ao,"onAnimationEnd"),Ro(Oo,"onAnimationIteration"),Ro(xo,"onAnimationStart"),Ro("dblclick","onDoubleClick"),Ro("focusin","onFocus"),Ro("focusout","onBlur"),Ro(ko,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uo=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function jo(e,n,t){var o=e.type||"unknown-event";e.currentTarget=t,function(e,n,t,o,r,l,a,s,u){if(He.apply(this,arguments),Le){if(!Le)throw Error(i(198));var c=Ue;Le=!1,Ue=null,je||(je=!0,Fe=c)}}(o,n,void 0,e),e.currentTarget=null}function Fo(e,n){n=0!==(4&n);for(var t=0;t<e.length;t++){var o=e[t],r=o.event;o=o.listeners;e:{var i=void 0;if(n)for(var l=o.length-1;0<=l;l--){var a=o[l],s=a.instance,u=a.currentTarget;if(a=a.listener,s!==i&&r.isPropagationStopped())break e;jo(r,a,u),i=s}else for(l=0;l<o.length;l++){if(s=(a=o[l]).instance,u=a.currentTarget,a=a.listener,s!==i&&r.isPropagationStopped())break e;jo(r,a,u),i=s}}}if(je)throw e=Fe,je=!1,Fe=null,e}function qo(e,n){var t=n[gr];void 0===t&&(t=n[gr]=new Set);var o=e+"__bubble";t.has(o)||(Bo(n,e,2,!1),t.add(o))}function Ho(e,n,t){var o=0;n&&(o|=4),Bo(t,e,o,n)}var Go="_reactListening"+Math.random().toString(36).slice(2);function Vo(e){if(!e[Go]){e[Go]=!0,l.forEach(function(n){"selectionchange"!==n&&(Uo.has(n)||Ho(n,!1,e),Ho(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[Go]||(n[Go]=!0,Ho("selectionchange",!1,n))}}function Bo(e,n,t,o){switch($n(n)){case 1:var r=Jn;break;case 4:r=Wn;break;default:r=Yn}t=r.bind(null,n,t,e),r=void 0,!Re||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(r=!0),o?void 0!==r?e.addEventListener(n,t,{capture:!0,passive:r}):e.addEventListener(n,t,!0):void 0!==r?e.addEventListener(n,t,{passive:r}):e.addEventListener(n,t,!1)}function zo(e,n,t,o,r){var i=o;if(0===(1&n)&&0===(2&n)&&null!==o)e:for(;;){if(null===o)return;var l=o.tag;if(3===l||4===l){var a=o.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===l)for(l=o.return;null!==l;){var s=l.tag;if((3===s||4===s)&&((s=l.stateNode.containerInfo)===r||8===s.nodeType&&s.parentNode===r))return;l=l.return}for(;null!==a;){if(null===(l=br(a)))return;if(5===(s=l.tag)||6===s){o=i=l;continue e}a=a.parentNode}}o=o.return}Ne(function(){var o=i,r=Ee(t),l=[];e:{var a=No.get(e);if(void 0!==a){var s=ct,u=e;switch(e){case"keypress":if(0===tt(t))break e;case"keydown":case"keyup":s=At;break;case"focusin":u="focus",s=gt;break;case"focusout":u="blur",s=gt;break;case"beforeblur":case"afterblur":s=gt;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=ht;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=xt;break;case Ao:case Oo:case xo:s=yt;break;case ko:s=kt;break;case"scroll":s=pt;break;case"wheel":s=Pt;break;case"copy":case"cut":case"paste":s=bt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Ot}var c=0!==(4&n),d=!c&&"scroll"===e,p=c?null!==a?a+"Capture":null:a;c=[];for(var f,m=o;null!==m;){var h=(f=m).stateNode;if(5===f.tag&&null!==h&&(f=h,null!==p&&(null!=(h=Pe(m,p))&&c.push(Jo(m,h,f)))),d)break;m=m.return}0<c.length&&(a=new s(a,u,null,t,r),l.push({event:a,listeners:c}))}}if(0===(7&n)){if(s="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||t===Ce||!(u=t.relatedTarget||t.fromElement)||!br(u)&&!u[hr])&&(s||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,s?(s=o,null!==(u=(u=t.relatedTarget||t.toElement)?br(u):null)&&(u!==(d=Ge(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=o),s!==u)){if(c=mt,h="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(c=Ot,h="onPointerLeave",p="onPointerEnter",m="pointer"),d=null==s?a:Er(s),f=null==u?a:Er(u),(a=new c(h,m+"leave",s,t,r)).target=d,a.relatedTarget=f,h=null,br(r)===o&&((c=new c(p,m+"enter",u,t,r)).target=f,c.relatedTarget=d,h=c),d=h,s&&u)e:{for(p=u,m=0,f=c=s;f;f=Yo(f))m++;for(f=0,h=p;h;h=Yo(h))f++;for(;0<m-f;)c=Yo(c),m--;for(;0<f-m;)p=Yo(p),f--;for(;m--;){if(c===p||null!==p&&c===p.alternate)break e;c=Yo(c),p=Yo(p)}c=null}else c=null;null!==s&&Ko(l,a,s,c,!1),null!==u&&null!==d&&Ko(l,d,u,c,!0)}if("select"===(s=(a=o?Er(o):window).nodeName&&a.nodeName.toLowerCase())||"input"===s&&"file"===a.type)var g=Qt;else if(Bt(a))if($t)g=lo;else{g=ro;var y=oo}else(s=a.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=io);switch(g&&(g=g(e,o))?zt(l,g,t,r):(y&&y(e,a,o),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=o?Er(o):window,e){case"focusin":(Bt(y)||"true"===y.contentEditable)&&(yo=y,vo=o,bo=null);break;case"focusout":bo=vo=yo=null;break;case"mousedown":Co=!0;break;case"contextmenu":case"mouseup":case"dragend":Co=!1,Eo(l,t,r);break;case"selectionchange":if(go)break;case"keydown":case"keyup":Eo(l,t,r)}var v;if(Mt)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gt?qt(e,t)&&(b="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(b="onCompositionStart");b&&(Ut&&"ko"!==t.locale&&(Gt||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gt&&(v=nt()):(Zn="value"in(Xn=r)?Xn.value:Xn.textContent,Gt=!0)),0<(y=Wo(o,b)).length&&(b=new Ct(b,e,null,t,r),l.push({event:b,listeners:y}),v?b.data=v:null!==(v=Ht(t))&&(b.data=v))),(v=Lt?function(e,n){switch(e){case"compositionend":return Ht(n);case"keypress":return 32!==n.which?null:(Ft=!0,jt);case"textInput":return(e=n.data)===jt&&Ft?null:e;default:return null}}(e,t):function(e,n){if(Gt)return"compositionend"===e||!Mt&&qt(e,n)?(e=nt(),et=Zn=Xn=null,Gt=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ut&&"ko"!==n.locale?null:n.data}}(e,t))&&(0<(o=Wo(o,"onBeforeInput")).length&&(r=new Ct("onBeforeInput","beforeinput",null,t,r),l.push({event:r,listeners:o}),r.data=v))}Fo(l,n)})}function Jo(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Wo(e,n){for(var t=n+"Capture",o=[];null!==e;){var r=e,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=Pe(e,t))&&o.unshift(Jo(e,i,r)),null!=(i=Pe(e,n))&&o.push(Jo(e,i,r))),e=e.return}return o}function Yo(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ko(e,n,t,o,r){for(var i=n._reactName,l=[];null!==t&&t!==o;){var a=t,s=a.alternate,u=a.stateNode;if(null!==s&&s===o)break;5===a.tag&&null!==u&&(a=u,r?null!=(s=Pe(t,i))&&l.unshift(Jo(t,s,a)):r||null!=(s=Pe(t,i))&&l.push(Jo(t,s,a))),t=t.return}0!==l.length&&e.push({event:n,listeners:l})}var Qo=/\r\n?/g,$o=/\u0000|\uFFFD/g;function Xo(e){return("string"===typeof e?e:""+e).replace(Qo,"\n").replace($o,"")}function Zo(e,n,t){if(n=Xo(n),Xo(e)!==n&&t)throw Error(i(425))}function er(){}var nr=null,tr=null;function or(e,n){return"textarea"===e||"noscript"===e||"string"===typeof n.children||"number"===typeof n.children||"object"===typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var rr="function"===typeof setTimeout?setTimeout:void 0,ir="function"===typeof clearTimeout?clearTimeout:void 0,lr="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof lr?function(e){return lr.resolve(null).then(e).catch(sr)}:rr;function sr(e){setTimeout(function(){throw e})}function ur(e,n){var t=n,o=0;do{var r=t.nextSibling;if(e.removeChild(t),r&&8===r.nodeType)if("/$"===(t=r.data)){if(0===o)return e.removeChild(r),void Vn(n);o--}else"$"!==t&&"$?"!==t&&"$!"!==t||o++;t=r}while(t);Vn(n)}function cr(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function dr(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}var pr=Math.random().toString(36).slice(2),fr="__reactFiber$"+pr,mr="__reactProps$"+pr,hr="__reactContainer$"+pr,gr="__reactEvents$"+pr,yr="__reactListeners$"+pr,vr="__reactHandles$"+pr;function br(e){var n=e[fr];if(n)return n;for(var t=e.parentNode;t;){if(n=t[hr]||t[fr]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=dr(e);null!==e;){if(t=e[fr])return t;e=dr(e)}return n}t=(e=t).parentNode}return null}function Cr(e){return!(e=e[fr]||e[hr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Er(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Sr(e){return e[mr]||null}var Tr=[],_r=-1;function wr(e){return{current:e}}function Ir(e){0>_r||(e.current=Tr[_r],Tr[_r]=null,_r--)}function Ar(e,n){_r++,Tr[_r]=e.current,e.current=n}var Or={},xr=wr(Or),kr=wr(!1),Nr=Or;function Pr(e,n){var t=e.type.contextTypes;if(!t)return Or;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in t)i[r]=n[r];return o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mr(){Ir(kr),Ir(xr)}function Dr(e,n,t){if(xr.current!==Or)throw Error(i(168));Ar(xr,n),Ar(kr,t)}function Lr(e,n,t){var o=e.stateNode;if(n=n.childContextTypes,"function"!==typeof o.getChildContext)return t;for(var r in o=o.getChildContext())if(!(r in n))throw Error(i(108,V(e)||"Unknown",r));return U({},t,o)}function Ur(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Or,Nr=xr.current,Ar(xr,e),Ar(kr,kr.current),!0}function jr(e,n,t){var o=e.stateNode;if(!o)throw Error(i(169));t?(e=Lr(e,n,Nr),o.__reactInternalMemoizedMergedChildContext=e,Ir(kr),Ir(xr),Ar(xr,e)):Ir(kr),Ar(kr,t)}var Fr=null,qr=!1,Hr=!1;function Gr(e){null===Fr?Fr=[e]:Fr.push(e)}function Vr(){if(!Hr&&null!==Fr){Hr=!0;var e=0,n=Cn;try{var t=Fr;for(Cn=1;e<t.length;e++){var o=t[e];do{o=o(!0)}while(null!==o)}Fr=null,qr=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),We(Ze,Vr),r}finally{Cn=n,Hr=!1}}return null}var Br=[],zr=0,Jr=null,Wr=0,Yr=[],Kr=0,Qr=null,$r=1,Xr="";function Zr(e,n){Br[zr++]=Wr,Br[zr++]=Jr,Jr=e,Wr=n}function ei(e,n,t){Yr[Kr++]=$r,Yr[Kr++]=Xr,Yr[Kr++]=Qr,Qr=e;var o=$r;e=Xr;var r=32-an(o)-1;o&=~(1<<r),t+=1;var i=32-an(n)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,$r=1<<32-an(n)+r|t<<r|o,Xr=i+e}else $r=1<<i|t<<r|o,Xr=e}function ni(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ti(e){for(;e===Jr;)Jr=Br[--zr],Br[zr]=null,Wr=Br[--zr],Br[zr]=null;for(;e===Qr;)Qr=Yr[--Kr],Yr[Kr]=null,Xr=Yr[--Kr],Yr[Kr]=null,$r=Yr[--Kr],Yr[Kr]=null}var oi=null,ri=null,ii=!1,li=null;function ai(e,n){var t=Nu(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)}function si(e,n){switch(e.tag){case 5:var t=e.type;return null!==(n=1!==n.nodeType||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,oi=e,ri=cr(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,oi=e,ri=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(t=null!==Qr?{id:$r,overflow:Xr}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},(t=Nu(18,null,null,0)).stateNode=n,t.return=e,e.child=t,oi=e,ri=null,!0);default:return!1}}function ui(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ii){var n=ri;if(n){var t=n;if(!si(e,n)){if(ui(e))throw Error(i(418));n=cr(t.nextSibling);var o=oi;n&&si(e,n)?ai(o,t):(e.flags=-4097&e.flags|2,ii=!1,oi=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,oi=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;oi=e}function pi(e){if(e!==oi)return!1;if(!ii)return di(e),ii=!0,!1;var n;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!or(e.type,e.memoizedProps)),n&&(n=ri)){if(ui(e))throw fi(),Error(i(418));for(;n;)ai(e,n),n=cr(n.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType){var t=e.data;if("/$"===t){if(0===n){ri=cr(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++}e=e.nextSibling}ri=null}}else ri=oi?cr(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=ri;e;)e=cr(e.nextSibling)}function mi(){ri=oi=null,ii=!1}function hi(e){null===li?li=[e]:li.push(e)}var gi=C.ReactCurrentBatchConfig;function yi(e,n,t){if(null!==(e=t.ref)&&"function"!==typeof e&&"object"!==typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(i(309));var o=t.stateNode}if(!o)throw Error(i(147,e));var r=o,l=""+e;return null!==n&&null!==n.ref&&"function"===typeof n.ref&&n.ref._stringRef===l?n.ref:(n=function(e){var n=r.refs;null===e?delete n[l]:n[l]=e},n._stringRef=l,n)}if("string"!==typeof e)throw Error(i(284));if(!t._owner)throw Error(i(290,e))}return e}function vi(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function Ci(e){function n(n,t){if(e){var o=n.deletions;null===o?(n.deletions=[t],n.flags|=16):o.push(t)}}function t(t,o){if(!e)return null;for(;null!==o;)n(t,o),o=o.sibling;return null}function o(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function r(e,n){return(e=Ru(e,n)).index=0,e.sibling=null,e}function l(n,t,o){return n.index=o,e?null!==(o=n.alternate)?(o=o.index)<t?(n.flags|=2,t):o:(n.flags|=2,t):(n.flags|=1048576,t)}function a(n){return e&&null===n.alternate&&(n.flags|=2),n}function s(e,n,t,o){return null===n||6!==n.tag?((n=Uu(t,e.mode,o)).return=e,n):((n=r(n,t)).return=e,n)}function u(e,n,t,o){var i=t.type;return i===T?d(e,n,t.props.children,o,t.key):null!==n&&(n.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===P&&bi(i)===n.type)?((o=r(n,t.props)).ref=yi(e,n,t),o.return=e,o):((o=Mu(t.type,t.key,t.props,null,e.mode,o)).ref=yi(e,n,t),o.return=e,o)}function c(e,n,t,o){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=ju(t,e.mode,o)).return=e,n):((n=r(n,t.children||[])).return=e,n)}function d(e,n,t,o,i){return null===n||7!==n.tag?((n=Du(t,e.mode,o,i)).return=e,n):((n=r(n,t)).return=e,n)}function p(e,n,t){if("string"===typeof n&&""!==n||"number"===typeof n)return(n=Uu(""+n,e.mode,t)).return=e,n;if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return(t=Mu(n.type,n.key,n.props,null,e.mode,t)).ref=yi(e,null,n),t.return=e,t;case S:return(n=ju(n,e.mode,t)).return=e,n;case P:return p(e,(0,n._init)(n._payload),t)}if(ne(n)||D(n))return(n=Du(n,e.mode,t,null)).return=e,n;vi(e,n)}return null}function f(e,n,t,o){var r=null!==n?n.key:null;if("string"===typeof t&&""!==t||"number"===typeof t)return null!==r?null:s(e,n,""+t,o);if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return t.key===r?u(e,n,t,o):null;case S:return t.key===r?c(e,n,t,o):null;case P:return f(e,n,(r=t._init)(t._payload),o)}if(ne(t)||D(t))return null!==r?null:d(e,n,t,o,null);vi(e,t)}return null}function m(e,n,t,o,r){if("string"===typeof o&&""!==o||"number"===typeof o)return s(n,e=e.get(t)||null,""+o,r);if("object"===typeof o&&null!==o){switch(o.$$typeof){case E:return u(n,e=e.get(null===o.key?t:o.key)||null,o,r);case S:return c(n,e=e.get(null===o.key?t:o.key)||null,o,r);case P:return m(e,n,t,(0,o._init)(o._payload),r)}if(ne(o)||D(o))return d(n,e=e.get(t)||null,o,r,null);vi(n,o)}return null}function h(r,i,a,s){for(var u=null,c=null,d=i,h=i=0,g=null;null!==d&&h<a.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var y=f(r,d,a[h],s);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&n(r,d),i=l(y,i,h),null===c?u=y:c.sibling=y,c=y,d=g}if(h===a.length)return t(r,d),ii&&Zr(r,h),u;if(null===d){for(;h<a.length;h++)null!==(d=p(r,a[h],s))&&(i=l(d,i,h),null===c?u=d:c.sibling=d,c=d);return ii&&Zr(r,h),u}for(d=o(r,d);h<a.length;h++)null!==(g=m(d,r,h,a[h],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),i=l(g,i,h),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return n(r,e)}),ii&&Zr(r,h),u}function g(r,a,s,u){var c=D(s);if("function"!==typeof c)throw Error(i(150));if(null==(s=c.call(s)))throw Error(i(151));for(var d=c=null,h=a,g=a=0,y=null,v=s.next();null!==h&&!v.done;g++,v=s.next()){h.index>g?(y=h,h=null):y=h.sibling;var b=f(r,h,v.value,u);if(null===b){null===h&&(h=y);break}e&&h&&null===b.alternate&&n(r,h),a=l(b,a,g),null===d?c=b:d.sibling=b,d=b,h=y}if(v.done)return t(r,h),ii&&Zr(r,g),c;if(null===h){for(;!v.done;g++,v=s.next())null!==(v=p(r,v.value,u))&&(a=l(v,a,g),null===d?c=v:d.sibling=v,d=v);return ii&&Zr(r,g),c}for(h=o(r,h);!v.done;g++,v=s.next())null!==(v=m(h,r,g,v.value,u))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),a=l(v,a,g),null===d?c=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return n(r,e)}),ii&&Zr(r,g),c}return function e(o,i,l,s){if("object"===typeof l&&null!==l&&l.type===T&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case E:e:{for(var u=l.key,c=i;null!==c;){if(c.key===u){if((u=l.type)===T){if(7===c.tag){t(o,c.sibling),(i=r(c,l.props.children)).return=o,o=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&bi(u)===c.type){t(o,c.sibling),(i=r(c,l.props)).ref=yi(o,c,l),i.return=o,o=i;break e}t(o,c);break}n(o,c),c=c.sibling}l.type===T?((i=Du(l.props.children,o.mode,s,l.key)).return=o,o=i):((s=Mu(l.type,l.key,l.props,null,o.mode,s)).ref=yi(o,i,l),s.return=o,o=s)}return a(o);case S:e:{for(c=l.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===l.containerInfo&&i.stateNode.implementation===l.implementation){t(o,i.sibling),(i=r(i,l.children||[])).return=o,o=i;break e}t(o,i);break}n(o,i),i=i.sibling}(i=ju(l,o.mode,s)).return=o,o=i}return a(o);case P:return e(o,i,(c=l._init)(l._payload),s)}if(ne(l))return h(o,i,l,s);if(D(l))return g(o,i,l,s);vi(o,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==i&&6===i.tag?(t(o,i.sibling),(i=r(i,l)).return=o,o=i):(t(o,i),(i=Uu(l,o.mode,s)).return=o,o=i),a(o)):t(o,i)}}var Ei=Ci(!0),Si=Ci(!1),Ti=wr(null),_i=null,wi=null,Ii=null;function Ai(){Ii=wi=_i=null}function Oi(e){var n=Ti.current;Ir(Ti),e._currentValue=n}function xi(e,n,t){for(;null!==e;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==o&&(o.childLanes|=n)):null!==o&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===t)break;e=e.return}}function ki(e,n){_i=e,Ii=wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&n)&&(ba=!0),e.firstContext=null)}function Ni(e){var n=e._currentValue;if(Ii!==e)if(e={context:e,memoizedValue:n,next:null},null===wi){if(null===_i)throw Error(i(308));wi=e,_i.dependencies={lanes:0,firstContext:e}}else wi=wi.next=e;return n}var Pi=null;function Ri(e){null===Pi?Pi=[e]:Pi.push(e)}function Mi(e,n,t,o){var r=n.interleaved;return null===r?(t.next=t,Ri(n)):(t.next=r.next,r.next=t),n.interleaved=t,Di(e,o)}function Di(e,n){e.lanes|=n;var t=e.alternate;for(null!==t&&(t.lanes|=n),t=e,e=e.return;null!==e;)e.childLanes|=n,null!==(t=e.alternate)&&(t.childLanes|=n),t=e,e=e.return;return 3===t.tag?t.stateNode:null}var Li=!1;function Ui(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ji(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function qi(e,n,t){var o=e.updateQueue;if(null===o)return null;if(o=o.shared,0!==(2&Os)){var r=o.pending;return null===r?n.next=n:(n.next=r.next,r.next=n),o.pending=n,Di(e,t)}return null===(r=o.interleaved)?(n.next=n,Ri(o)):(n.next=r.next,r.next=n),o.interleaved=n,Di(e,t)}function Hi(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,0!==(4194240&t))){var o=n.lanes;t|=o&=e.pendingLanes,n.lanes=t,bn(e,t)}}function Gi(e,n){var t=e.updateQueue,o=e.alternate;if(null!==o&&t===(o=o.updateQueue)){var r=null,i=null;if(null!==(t=t.firstBaseUpdate)){do{var l={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};null===i?r=i=l:i=i.next=l,t=t.next}while(null!==t);null===i?r=i=n:i=i.next=n}else r=i=n;return t={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Vi(e,n,t,o){var r=e.updateQueue;Li=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var s=a,u=s.next;s.next=null,null===l?i=u:l.next=u,l=s;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=s))}if(null!==i){var d=r.baseState;for(l=0,c=u=s=null,a=i;;){var p=a.lane,f=a.eventTime;if((o&p)===p){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,h=a;switch(p=n,f=t,h.tag){case 1:if("function"===typeof(m=h.payload)){d=m.call(f,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=h.payload)?m.call(f,d,p):m)||void 0===p)break e;d=U({},d,p);break e;case 2:Li=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,s=d):c=c.next=f,l|=p;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(p=a).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===c&&(s=d),r.baseState=s,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(n=r.shared.interleaved)){r=n;do{l|=r.lane,r=r.next}while(r!==n)}else null===i&&(r.shared.lanes=0);Ls|=l,e.lanes=l,e.memoizedState=d}}function Bi(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var o=e[n],r=o.callback;if(null!==r){if(o.callback=null,o=t,"function"!==typeof r)throw Error(i(191,r));r.call(o)}}}var zi={},Ji=wr(zi),Wi=wr(zi),Yi=wr(zi);function Ki(e){if(e===zi)throw Error(i(174));return e}function Qi(e,n){switch(Ar(Yi,n),Ar(Wi,e),Ar(Ji,zi),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:se(null,"");break;default:n=se(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}Ir(Ji),Ar(Ji,n)}function $i(){Ir(Ji),Ir(Wi),Ir(Yi)}function Xi(e){Ki(Yi.current);var n=Ki(Ji.current),t=se(n,e.type);n!==t&&(Ar(Wi,e),Ar(Ji,t))}function Zi(e){Wi.current===e&&(Ir(Ji),Ir(Wi))}var el=wr(0);function nl(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!==(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var tl=[];function ol(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var rl=C.ReactCurrentDispatcher,il=C.ReactCurrentBatchConfig,ll=0,al=null,sl=null,ul=null,cl=!1,dl=!1,pl=0,fl=0;function ml(){throw Error(i(321))}function hl(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!ao(e[t],n[t]))return!1;return!0}function gl(e,n,t,o,r,l){if(ll=l,al=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,rl.current=null===e||null===e.memoizedState?Zl:ea,e=t(o,r),dl){l=0;do{if(dl=!1,pl=0,25<=l)throw Error(i(301));l+=1,ul=sl=null,n.updateQueue=null,rl.current=na,e=t(o,r)}while(dl)}if(rl.current=Xl,n=null!==sl&&null!==sl.next,ll=0,ul=sl=al=null,cl=!1,n)throw Error(i(300));return e}function yl(){var e=0!==pl;return pl=0,e}function vl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ul?al.memoizedState=ul=e:ul=ul.next=e,ul}function bl(){if(null===sl){var e=al.alternate;e=null!==e?e.memoizedState:null}else e=sl.next;var n=null===ul?al.memoizedState:ul.next;if(null!==n)ul=n,sl=e;else{if(null===e)throw Error(i(310));e={memoizedState:(sl=e).memoizedState,baseState:sl.baseState,baseQueue:sl.baseQueue,queue:sl.queue,next:null},null===ul?al.memoizedState=ul=e:ul=ul.next=e}return ul}function Cl(e,n){return"function"===typeof n?n(e):n}function El(e){var n=bl(),t=n.queue;if(null===t)throw Error(i(311));t.lastRenderedReducer=e;var o=sl,r=o.baseQueue,l=t.pending;if(null!==l){if(null!==r){var a=r.next;r.next=l.next,l.next=a}o.baseQueue=r=l,t.pending=null}if(null!==r){l=r.next,o=o.baseState;var s=a=null,u=null,c=l;do{var d=c.lane;if((ll&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:e(o,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(s=u=p,a=o):u=u.next=p,al.lanes|=d,Ls|=d}c=c.next}while(null!==c&&c!==l);null===u?a=o:u.next=s,ao(o,n.memoizedState)||(ba=!0),n.memoizedState=o,n.baseState=a,n.baseQueue=u,t.lastRenderedState=o}if(null!==(e=t.interleaved)){r=e;do{l=r.lane,al.lanes|=l,Ls|=l,r=r.next}while(r!==e)}else null===r&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function Sl(e){var n=bl(),t=n.queue;if(null===t)throw Error(i(311));t.lastRenderedReducer=e;var o=t.dispatch,r=t.pending,l=n.memoizedState;if(null!==r){t.pending=null;var a=r=r.next;do{l=e(l,a.action),a=a.next}while(a!==r);ao(l,n.memoizedState)||(ba=!0),n.memoizedState=l,null===n.baseQueue&&(n.baseState=l),t.lastRenderedState=l}return[l,o]}function Tl(){}function _l(e,n){var t=al,o=bl(),r=n(),l=!ao(o.memoizedState,r);if(l&&(o.memoizedState=r,ba=!0),o=o.queue,Ll(Al.bind(null,t,o,e),[e]),o.getSnapshot!==n||l||null!==ul&&1&ul.memoizedState.tag){if(t.flags|=2048,Nl(9,Il.bind(null,t,o,r,n),void 0,null),null===xs)throw Error(i(349));0!==(30&ll)||wl(t,n,r)}return r}function wl(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=al.updateQueue)?(n={lastEffect:null,stores:null},al.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function Il(e,n,t,o){n.value=t,n.getSnapshot=o,Ol(n)&&xl(e)}function Al(e,n,t){return t(function(){Ol(n)&&xl(e)})}function Ol(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!ao(e,t)}catch(o){return!0}}function xl(e){var n=Di(e,1);null!==n&&tu(n,e,1,-1)}function kl(e){var n=vl();return"function"===typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:e},n.queue=e,e=e.dispatch=Yl.bind(null,al,e),[n.memoizedState,e]}function Nl(e,n,t,o){return e={tag:e,create:n,destroy:t,deps:o,next:null},null===(n=al.updateQueue)?(n={lastEffect:null,stores:null},al.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(o=t.next,t.next=e,e.next=o,n.lastEffect=e),e}function Pl(){return bl().memoizedState}function Rl(e,n,t,o){var r=vl();al.flags|=e,r.memoizedState=Nl(1|n,t,void 0,void 0===o?null:o)}function Ml(e,n,t,o){var r=bl();o=void 0===o?null:o;var i=void 0;if(null!==sl){var l=sl.memoizedState;if(i=l.destroy,null!==o&&hl(o,l.deps))return void(r.memoizedState=Nl(n,t,i,o))}al.flags|=e,r.memoizedState=Nl(1|n,t,i,o)}function Dl(e,n){return Rl(8390656,8,e,n)}function Ll(e,n){return Ml(2048,8,e,n)}function Ul(e,n){return Ml(4,2,e,n)}function jl(e,n){return Ml(4,4,e,n)}function Fl(e,n){return"function"===typeof n?(e=e(),n(e),function(){n(null)}):null!==n&&void 0!==n?(e=e(),n.current=e,function(){n.current=null}):void 0}function ql(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,Ml(4,4,Fl.bind(null,n,e),t)}function Hl(){}function Gl(e,n){var t=bl();n=void 0===n?null:n;var o=t.memoizedState;return null!==o&&null!==n&&hl(n,o[1])?o[0]:(t.memoizedState=[e,n],e)}function Vl(e,n){var t=bl();n=void 0===n?null:n;var o=t.memoizedState;return null!==o&&null!==n&&hl(n,o[1])?o[0]:(e=e(),t.memoizedState=[e,n],e)}function Bl(e,n,t){return 0===(21&ll)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=t):(ao(t,n)||(t=gn(),al.lanes|=t,Ls|=t,e.baseState=!0),n)}function zl(e,n){var t=Cn;Cn=0!==t&&4>t?t:4,e(!0);var o=il.transition;il.transition={};try{e(!1),n()}finally{Cn=t,il.transition=o}}function Jl(){return bl().memoizedState}function Wl(e,n,t){var o=nu(e);if(t={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null},Kl(e))Ql(n,t);else if(null!==(t=Mi(e,n,t,o))){tu(t,e,o,eu()),$l(t,n,o)}}function Yl(e,n,t){var o=nu(e),r={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null};if(Kl(e))Ql(n,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=n.lastRenderedReducer))try{var l=n.lastRenderedState,a=i(l,t);if(r.hasEagerState=!0,r.eagerState=a,ao(a,l)){var s=n.interleaved;return null===s?(r.next=r,Ri(n)):(r.next=s.next,s.next=r),void(n.interleaved=r)}}catch(u){}null!==(t=Mi(e,n,r,o))&&(tu(t,e,o,r=eu()),$l(t,n,o))}}function Kl(e){var n=e.alternate;return e===al||null!==n&&n===al}function Ql(e,n){dl=cl=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function $l(e,n,t){if(0!==(4194240&t)){var o=n.lanes;t|=o&=e.pendingLanes,n.lanes=t,bn(e,t)}}var Xl={readContext:Ni,useCallback:ml,useContext:ml,useEffect:ml,useImperativeHandle:ml,useInsertionEffect:ml,useLayoutEffect:ml,useMemo:ml,useReducer:ml,useRef:ml,useState:ml,useDebugValue:ml,useDeferredValue:ml,useTransition:ml,useMutableSource:ml,useSyncExternalStore:ml,useId:ml,unstable_isNewReconciler:!1},Zl={readContext:Ni,useCallback:function(e,n){return vl().memoizedState=[e,void 0===n?null:n],e},useContext:Ni,useEffect:Dl,useImperativeHandle:function(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,Rl(4194308,4,Fl.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Rl(4194308,4,e,n)},useInsertionEffect:function(e,n){return Rl(4,2,e,n)},useMemo:function(e,n){var t=vl();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var o=vl();return n=void 0!==t?t(n):n,o.memoizedState=o.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},o.queue=e,e=e.dispatch=Wl.bind(null,al,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},vl().memoizedState=e},useState:kl,useDebugValue:Hl,useDeferredValue:function(e){return vl().memoizedState=e},useTransition:function(){var e=kl(!1),n=e[0];return e=zl.bind(null,e[1]),vl().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var o=al,r=vl();if(ii){if(void 0===t)throw Error(i(407));t=t()}else{if(t=n(),null===xs)throw Error(i(349));0!==(30&ll)||wl(o,n,t)}r.memoizedState=t;var l={value:t,getSnapshot:n};return r.queue=l,Dl(Al.bind(null,o,l,e),[e]),o.flags|=2048,Nl(9,Il.bind(null,o,l,t,n),void 0,null),t},useId:function(){var e=vl(),n=xs.identifierPrefix;if(ii){var t=Xr;n=":"+n+"R"+(t=($r&~(1<<32-an($r)-1)).toString(32)+t),0<(t=pl++)&&(n+="H"+t.toString(32)),n+=":"}else n=":"+n+"r"+(t=fl++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},ea={readContext:Ni,useCallback:Gl,useContext:Ni,useEffect:Ll,useImperativeHandle:ql,useInsertionEffect:Ul,useLayoutEffect:jl,useMemo:Vl,useReducer:El,useRef:Pl,useState:function(){return El(Cl)},useDebugValue:Hl,useDeferredValue:function(e){return Bl(bl(),sl.memoizedState,e)},useTransition:function(){return[El(Cl)[0],bl().memoizedState]},useMutableSource:Tl,useSyncExternalStore:_l,useId:Jl,unstable_isNewReconciler:!1},na={readContext:Ni,useCallback:Gl,useContext:Ni,useEffect:Ll,useImperativeHandle:ql,useInsertionEffect:Ul,useLayoutEffect:jl,useMemo:Vl,useReducer:Sl,useRef:Pl,useState:function(){return Sl(Cl)},useDebugValue:Hl,useDeferredValue:function(e){var n=bl();return null===sl?n.memoizedState=e:Bl(n,sl.memoizedState,e)},useTransition:function(){return[Sl(Cl)[0],bl().memoizedState]},useMutableSource:Tl,useSyncExternalStore:_l,useId:Jl,unstable_isNewReconciler:!1};function ta(e,n){if(e&&e.defaultProps){for(var t in n=U({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}return n}function oa(e,n,t,o){t=null===(t=t(o,n=e.memoizedState))||void 0===t?n:U({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}var ra={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var o=eu(),r=nu(e),i=Fi(o,r);i.payload=n,void 0!==t&&null!==t&&(i.callback=t),null!==(n=qi(e,i,r))&&(tu(n,e,r,o),Hi(n,e,r))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var o=eu(),r=nu(e),i=Fi(o,r);i.tag=1,i.payload=n,void 0!==t&&null!==t&&(i.callback=t),null!==(n=qi(e,i,r))&&(tu(n,e,r,o),Hi(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=eu(),o=nu(e),r=Fi(t,o);r.tag=2,void 0!==n&&null!==n&&(r.callback=n),null!==(n=qi(e,r,o))&&(tu(n,e,o,t),Hi(n,e,o))}};function ia(e,n,t,o,r,i,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,i,l):!n.prototype||!n.prototype.isPureReactComponent||(!so(t,o)||!so(r,i))}function la(e,n,t){var o=!1,r=Or,i=n.contextType;return"object"===typeof i&&null!==i?i=Ni(i):(r=Rr(n)?Nr:xr.current,i=(o=null!==(o=n.contextTypes)&&void 0!==o)?Pr(e,r):Or),n=new n(t,i),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=ra,e.stateNode=n,n._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),n}function aa(e,n,t,o){e=n.state,"function"===typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,o),"function"===typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,o),n.state!==e&&ra.enqueueReplaceState(n,n.state,null)}function sa(e,n,t,o){var r=e.stateNode;r.props=t,r.state=e.memoizedState,r.refs={},Ui(e);var i=n.contextType;"object"===typeof i&&null!==i?r.context=Ni(i):(i=Rr(n)?Nr:xr.current,r.context=Pr(e,i)),r.state=e.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(oa(e,n,i,t),r.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(n=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&ra.enqueueReplaceState(r,r.state,null),Vi(e,t,r,o),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function ua(e,n){try{var t="",o=n;do{t+=H(o),o=o.return}while(o);var r=t}catch(i){r="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:n,stack:r,digest:null}}function ca(e,n,t){return{value:e,source:null,stack:null!=t?t:null,digest:null!=n?n:null}}function da(e,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var pa="function"===typeof WeakMap?WeakMap:Map;function fa(e,n,t){(t=Fi(-1,t)).tag=3,t.payload={element:null};var o=n.value;return t.callback=function(){Bs||(Bs=!0,zs=o),da(0,n)},t}function ma(e,n,t){(t=Fi(-1,t)).tag=3;var o=e.type.getDerivedStateFromError;if("function"===typeof o){var r=n.value;t.payload=function(){return o(r)},t.callback=function(){da(0,n)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(t.callback=function(){da(0,n),"function"!==typeof o&&(null===Js?Js=new Set([this]):Js.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})}),t}function ha(e,n,t){var o=e.pingCache;if(null===o){o=e.pingCache=new pa;var r=new Set;o.set(n,r)}else void 0===(r=o.get(n))&&(r=new Set,o.set(n,r));r.has(t)||(r.add(t),e=wu.bind(null,e,n,t),n.then(e,e))}function ga(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e);return null}function ya(e,n,t,o,r){return 0===(1&e.mode)?(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,1===t.tag&&(null===t.alternate?t.tag=17:((n=Fi(-1,1)).tag=2,qi(t,n,1))),t.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var va=C.ReactCurrentOwner,ba=!1;function Ca(e,n,t,o){n.child=null===e?Si(n,null,t,o):Ei(n,e.child,t,o)}function Ea(e,n,t,o,r){t=t.render;var i=n.ref;return ki(n,r),o=gl(e,n,t,o,i,r),t=yl(),null===e||ba?(ii&&t&&ni(n),n.flags|=1,Ca(e,n,o,r),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r,Ba(e,n,r))}function Sa(e,n,t,o,r){if(null===e){var i=t.type;return"function"!==typeof i||Pu(i)||void 0!==i.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=Mu(t.type,null,o,n,n.mode,r)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=i,Ta(e,n,i,o,r))}if(i=e.child,0===(e.lanes&r)){var l=i.memoizedProps;if((t=null!==(t=t.compare)?t:so)(l,o)&&e.ref===n.ref)return Ba(e,n,r)}return n.flags|=1,(e=Ru(i,o)).ref=n.ref,e.return=n,n.child=e}function Ta(e,n,t,o,r){if(null!==e){var i=e.memoizedProps;if(so(i,o)&&e.ref===n.ref){if(ba=!1,n.pendingProps=o=i,0===(e.lanes&r))return n.lanes=e.lanes,Ba(e,n,r);0!==(131072&e.flags)&&(ba=!0)}}return Ia(e,n,t,o,r)}function _a(e,n,t){var o=n.pendingProps,r=o.children,i=null!==e?e.memoizedState:null;if("hidden"===o.mode)if(0===(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ar(Rs,Ps),Ps|=t;else{if(0===(1073741824&t))return e=null!==i?i.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ar(Rs,Ps),Ps|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=null!==i?i.baseLanes:t,Ar(Rs,Ps),Ps|=o}else null!==i?(o=i.baseLanes|t,n.memoizedState=null):o=t,Ar(Rs,Ps),Ps|=o;return Ca(e,n,r,t),n.child}function wa(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function Ia(e,n,t,o,r){var i=Rr(t)?Nr:xr.current;return i=Pr(n,i),ki(n,r),t=gl(e,n,t,o,i,r),o=yl(),null===e||ba?(ii&&o&&ni(n),n.flags|=1,Ca(e,n,t,r),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r,Ba(e,n,r))}function Aa(e,n,t,o,r){if(Rr(t)){var i=!0;Ur(n)}else i=!1;if(ki(n,r),null===n.stateNode)Va(e,n),la(n,t,o),sa(n,t,o,r),o=!0;else if(null===e){var l=n.stateNode,a=n.memoizedProps;l.props=a;var s=l.context,u=t.contextType;"object"===typeof u&&null!==u?u=Ni(u):u=Pr(n,u=Rr(t)?Nr:xr.current);var c=t.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof l.getSnapshotBeforeUpdate;d||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(a!==o||s!==u)&&aa(n,l,o,u),Li=!1;var p=n.memoizedState;l.state=p,Vi(n,o,l,r),s=n.memoizedState,a!==o||p!==s||kr.current||Li?("function"===typeof c&&(oa(n,t,c,o),s=n.memoizedState),(a=Li||ia(n,t,a,o,p,s,u))?(d||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(n.flags|=4194308)):("function"===typeof l.componentDidMount&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=s),l.props=o,l.state=s,l.context=u,o=a):("function"===typeof l.componentDidMount&&(n.flags|=4194308),o=!1)}else{l=n.stateNode,ji(e,n),a=n.memoizedProps,u=n.type===n.elementType?a:ta(n.type,a),l.props=u,d=n.pendingProps,p=l.context,"object"===typeof(s=t.contextType)&&null!==s?s=Ni(s):s=Pr(n,s=Rr(t)?Nr:xr.current);var f=t.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(a!==d||p!==s)&&aa(n,l,o,s),Li=!1,p=n.memoizedState,l.state=p,Vi(n,o,l,r);var m=n.memoizedState;a!==d||p!==m||kr.current||Li?("function"===typeof f&&(oa(n,t,f,o),m=n.memoizedState),(u=Li||ia(n,t,u,o,p,m,s)||!1)?(c||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(o,m,s),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(o,m,s)),"function"===typeof l.componentDidUpdate&&(n.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!==typeof l.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=m),l.props=o,l.state=m,l.context=s,o=u):("function"!==typeof l.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(n.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(n.flags|=1024),o=!1)}return Oa(e,n,t,o,i,r)}function Oa(e,n,t,o,r,i){wa(e,n);var l=0!==(128&n.flags);if(!o&&!l)return r&&jr(n,t,!1),Ba(e,n,i);o=n.stateNode,va.current=n;var a=l&&"function"!==typeof t.getDerivedStateFromError?null:o.render();return n.flags|=1,null!==e&&l?(n.child=Ei(n,e.child,null,i),n.child=Ei(n,null,a,i)):Ca(e,n,a,i),n.memoizedState=o.state,r&&jr(n,t,!0),n.child}function xa(e){var n=e.stateNode;n.pendingContext?Dr(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Dr(0,n.context,!1),Qi(e,n.containerInfo)}function ka(e,n,t,o,r){return mi(),hi(r),n.flags|=256,Ca(e,n,t,o),n.child}var Na,Pa,Ra,Ma,Da={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,n,t){var o,r=n.pendingProps,l=el.current,a=!1,s=0!==(128&n.flags);if((o=s)||(o=(null===e||null!==e.memoizedState)&&0!==(2&l)),o?(a=!0,n.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Ar(el,1&l),null===e)return ci(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&n.mode)?n.lanes=1:"$!"===e.data?n.lanes=8:n.lanes=1073741824,null):(s=r.children,e=r.fallback,a?(r=n.mode,a=n.child,s={mode:"hidden",children:s},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=s):a=Lu(s,r,0,null),e=Du(e,r,t,null),a.return=n,e.return=n,a.sibling=e,n.child=a,n.child.memoizedState=La(t),n.memoizedState=Da,e):ja(n,s));if(null!==(l=e.memoizedState)&&null!==(o=l.dehydrated))return function(e,n,t,o,r,l,a){if(t)return 256&n.flags?(n.flags&=-257,Fa(e,n,a,o=ca(Error(i(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(l=o.fallback,r=n.mode,o=Lu({mode:"visible",children:o.children},r,0,null),(l=Du(l,r,a,null)).flags|=2,o.return=n,l.return=n,o.sibling=l,n.child=o,0!==(1&n.mode)&&Ei(n,e.child,null,a),n.child.memoizedState=La(a),n.memoizedState=Da,l);if(0===(1&n.mode))return Fa(e,n,a,null);if("$!"===r.data){if(o=r.nextSibling&&r.nextSibling.dataset)var s=o.dgst;return o=s,Fa(e,n,a,o=ca(l=Error(i(419)),o,void 0))}if(s=0!==(a&e.childLanes),ba||s){if(null!==(o=xs)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(o.suspendedLanes|a))?0:r)&&r!==l.retryLane&&(l.retryLane=r,Di(e,r),tu(o,e,r,-1))}return hu(),Fa(e,n,a,o=ca(Error(i(421))))}return"$?"===r.data?(n.flags|=128,n.child=e.child,n=Au.bind(null,e),r._reactRetry=n,null):(e=l.treeContext,ri=cr(r.nextSibling),oi=n,ii=!0,li=null,null!==e&&(Yr[Kr++]=$r,Yr[Kr++]=Xr,Yr[Kr++]=Qr,$r=e.id,Xr=e.overflow,Qr=n),n=ja(n,o.children),n.flags|=4096,n)}(e,n,s,r,o,l,t);if(a){a=r.fallback,s=n.mode,o=(l=e.child).sibling;var u={mode:"hidden",children:r.children};return 0===(1&s)&&n.child!==l?((r=n.child).childLanes=0,r.pendingProps=u,n.deletions=null):(r=Ru(l,u)).subtreeFlags=14680064&l.subtreeFlags,null!==o?a=Ru(o,a):(a=Du(a,s,t,null)).flags|=2,a.return=n,r.return=n,r.sibling=a,n.child=r,r=a,a=n.child,s=null===(s=e.child.memoizedState)?La(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~t,n.memoizedState=Da,r}return e=(a=e.child).sibling,r=Ru(a,{mode:"visible",children:r.children}),0===(1&n.mode)&&(r.lanes=t),r.return=n,r.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=r,n.memoizedState=null,r}function ja(e,n){return(n=Lu({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function Fa(e,n,t,o){return null!==o&&hi(o),Ei(n,e.child,null,t),(e=ja(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function qa(e,n,t){e.lanes|=n;var o=e.alternate;null!==o&&(o.lanes|=n),xi(e.return,n,t)}function Ha(e,n,t,o,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:t,tailMode:r}:(i.isBackwards=n,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=t,i.tailMode=r)}function Ga(e,n,t){var o=n.pendingProps,r=o.revealOrder,i=o.tail;if(Ca(e,n,o.children,t),0!==(2&(o=el.current)))o=1&o|2,n.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qa(e,t,n);else if(19===e.tag)qa(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ar(el,o),0===(1&n.mode))n.memoizedState=null;else switch(r){case"forwards":for(t=n.child,r=null;null!==t;)null!==(e=t.alternate)&&null===nl(e)&&(r=t),t=t.sibling;null===(t=r)?(r=n.child,n.child=null):(r=t.sibling,t.sibling=null),Ha(n,!1,r,t,i);break;case"backwards":for(t=null,r=n.child,n.child=null;null!==r;){if(null!==(e=r.alternate)&&null===nl(e)){n.child=r;break}e=r.sibling,r.sibling=t,t=r,r=e}Ha(n,!0,t,null,i);break;case"together":Ha(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Va(e,n){0===(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Ba(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Ls|=n.lanes,0===(t&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(i(153));if(null!==n.child){for(t=Ru(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Ru(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function za(e,n){if(!ii)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var o=null;null!==t;)null!==t.alternate&&(o=t),t=t.sibling;null===o?n||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ja(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,o=0;if(n)for(var r=e.child;null!==r;)t|=r.lanes|r.childLanes,o|=14680064&r.subtreeFlags,o|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=t,n}function Wa(e,n,t){var o=n.pendingProps;switch(ti(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ja(n),null;case 1:case 17:return Rr(n.type)&&Mr(),Ja(n),null;case 3:return o=n.stateNode,$i(),Ir(kr),Ir(xr),ol(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(pi(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&n.flags)||(n.flags|=1024,null!==li&&(lu(li),li=null))),Pa(e,n),Ja(n),null;case 5:Zi(n);var r=Ki(Yi.current);if(t=n.type,null!==e&&null!=n.stateNode)Ra(e,n,t,o,r),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(null===n.stateNode)throw Error(i(166));return Ja(n),null}if(e=Ki(Ji.current),pi(n)){o=n.stateNode,t=n.type;var l=n.memoizedProps;switch(o[fr]=n,o[mr]=l,e=0!==(1&n.mode),t){case"dialog":qo("cancel",o),qo("close",o);break;case"iframe":case"object":case"embed":qo("load",o);break;case"video":case"audio":for(r=0;r<Lo.length;r++)qo(Lo[r],o);break;case"source":qo("error",o);break;case"img":case"image":case"link":qo("error",o),qo("load",o);break;case"details":qo("toggle",o);break;case"input":Q(o,l),qo("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!l.multiple},qo("invalid",o);break;case"textarea":re(o,l),qo("invalid",o)}for(var s in ve(t,l),r=null,l)if(l.hasOwnProperty(s)){var u=l[s];"children"===s?"string"===typeof u?o.textContent!==u&&(!0!==l.suppressHydrationWarning&&Zo(o.textContent,u,e),r=["children",u]):"number"===typeof u&&o.textContent!==""+u&&(!0!==l.suppressHydrationWarning&&Zo(o.textContent,u,e),r=["children",""+u]):a.hasOwnProperty(s)&&null!=u&&"onScroll"===s&&qo("scroll",o)}switch(t){case"input":J(o),Z(o,l,!0);break;case"textarea":J(o),le(o);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(o.onclick=er)}o=r,n.updateQueue=o,null!==o&&(n.flags|=4)}else{s=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(t)),"http://www.w3.org/1999/xhtml"===e?"script"===t?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof o.is?e=s.createElement(t,{is:o.is}):(e=s.createElement(t),"select"===t&&(s=e,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):e=s.createElementNS(e,t),e[fr]=n,e[mr]=o,Na(e,n,!1,!1),n.stateNode=e;e:{switch(s=be(t,o),t){case"dialog":qo("cancel",e),qo("close",e),r=o;break;case"iframe":case"object":case"embed":qo("load",e),r=o;break;case"video":case"audio":for(r=0;r<Lo.length;r++)qo(Lo[r],e);r=o;break;case"source":qo("error",e),r=o;break;case"img":case"image":case"link":qo("error",e),qo("load",e),r=o;break;case"details":qo("toggle",e),r=o;break;case"input":Q(e,o),r=K(e,o),qo("invalid",e);break;case"option":default:r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=U({},o,{value:void 0}),qo("invalid",e);break;case"textarea":re(e,o),r=oe(e,o),qo("invalid",e)}for(l in ve(t,r),u=r)if(u.hasOwnProperty(l)){var c=u[l];"style"===l?ge(e,c):"dangerouslySetInnerHTML"===l?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===l?"string"===typeof c?("textarea"!==t||""!==c)&&pe(e,c):"number"===typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(a.hasOwnProperty(l)?null!=c&&"onScroll"===l&&qo("scroll",e):null!=c&&b(e,l,c,s))}switch(t){case"input":J(e),Z(e,o,!1);break;case"textarea":J(e),le(e);break;case"option":null!=o.value&&e.setAttribute("value",""+B(o.value));break;case"select":e.multiple=!!o.multiple,null!=(l=o.value)?te(e,!!o.multiple,l,!1):null!=o.defaultValue&&te(e,!!o.multiple,o.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=er)}switch(t){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return Ja(n),null;case 6:if(e&&null!=n.stateNode)Ma(e,n,e.memoizedProps,o);else{if("string"!==typeof o&&null===n.stateNode)throw Error(i(166));if(t=Ki(Yi.current),Ki(Ji.current),pi(n)){if(o=n.stateNode,t=n.memoizedProps,o[fr]=n,(l=o.nodeValue!==t)&&null!==(e=oi))switch(e.tag){case 3:Zo(o.nodeValue,t,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zo(o.nodeValue,t,0!==(1&e.mode))}l&&(n.flags|=4)}else(o=(9===t.nodeType?t:t.ownerDocument).createTextNode(o))[fr]=n,n.stateNode=o}return Ja(n),null;case 13:if(Ir(el),o=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==ri&&0!==(1&n.mode)&&0===(128&n.flags))fi(),mi(),n.flags|=98560,l=!1;else if(l=pi(n),null!==o&&null!==o.dehydrated){if(null===e){if(!l)throw Error(i(318));if(!(l=null!==(l=n.memoizedState)?l.dehydrated:null))throw Error(i(317));l[fr]=n}else mi(),0===(128&n.flags)&&(n.memoizedState=null),n.flags|=4;Ja(n),l=!1}else null!==li&&(lu(li),li=null),l=!0;if(!l)return 65536&n.flags?n:null}return 0!==(128&n.flags)?(n.lanes=t,n):((o=null!==o)!==(null!==e&&null!==e.memoizedState)&&o&&(n.child.flags|=8192,0!==(1&n.mode)&&(null===e||0!==(1&el.current)?0===Ms&&(Ms=3):hu())),null!==n.updateQueue&&(n.flags|=4),Ja(n),null);case 4:return $i(),Pa(e,n),null===e&&Vo(n.stateNode.containerInfo),Ja(n),null;case 10:return Oi(n.type._context),Ja(n),null;case 19:if(Ir(el),null===(l=n.memoizedState))return Ja(n),null;if(o=0!==(128&n.flags),null===(s=l.rendering))if(o)za(l,!1);else{if(0!==Ms||null!==e&&0!==(128&e.flags))for(e=n.child;null!==e;){if(null!==(s=nl(e))){for(n.flags|=128,za(l,!1),null!==(o=s.updateQueue)&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=t,t=n.child;null!==t;)e=o,(l=t).flags&=14680066,null===(s=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,e=s.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return Ar(el,1&el.current|2),n.child}e=e.sibling}null!==l.tail&&$e()>Gs&&(n.flags|=128,o=!0,za(l,!1),n.lanes=4194304)}else{if(!o)if(null!==(e=nl(s))){if(n.flags|=128,o=!0,null!==(t=e.updateQueue)&&(n.updateQueue=t,n.flags|=4),za(l,!0),null===l.tail&&"hidden"===l.tailMode&&!s.alternate&&!ii)return Ja(n),null}else 2*$e()-l.renderingStartTime>Gs&&1073741824!==t&&(n.flags|=128,o=!0,za(l,!1),n.lanes=4194304);l.isBackwards?(s.sibling=n.child,n.child=s):(null!==(t=l.last)?t.sibling=s:n.child=s,l.last=s)}return null!==l.tail?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=$e(),n.sibling=null,t=el.current,Ar(el,o?1&t|2:1&t),n):(Ja(n),null);case 22:case 23:return du(),o=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==o&&(n.flags|=8192),o&&0!==(1&n.mode)?0!==(1073741824&Ps)&&(Ja(n),6&n.subtreeFlags&&(n.flags|=8192)):Ja(n),null;case 24:case 25:return null}throw Error(i(156,n.tag))}function Ya(e,n){switch(ti(n),n.tag){case 1:return Rr(n.type)&&Mr(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return $i(),Ir(kr),Ir(xr),ol(),0!==(65536&(e=n.flags))&&0===(128&e)?(n.flags=-65537&e|128,n):null;case 5:return Zi(n),null;case 13:if(Ir(el),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(i(340));mi()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Ir(el),null;case 4:return $i(),null;case 10:return Oi(n.type._context),null;case 22:case 23:return du(),null;default:return null}}Na=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},Pa=function(){},Ra=function(e,n,t,o){var r=e.memoizedProps;if(r!==o){e=n.stateNode,Ki(Ji.current);var i,l=null;switch(t){case"input":r=K(e,r),o=K(e,o),l=[];break;case"select":r=U({},r,{value:void 0}),o=U({},o,{value:void 0}),l=[];break;case"textarea":r=oe(e,r),o=oe(e,o),l=[];break;default:"function"!==typeof r.onClick&&"function"===typeof o.onClick&&(e.onclick=er)}for(c in ve(t,o),t=null,r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var s=r[c];for(i in s)s.hasOwnProperty(i)&&(t||(t={}),t[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in o){var u=o[c];if(s=null!=r?r[c]:void 0,o.hasOwnProperty(c)&&u!==s&&(null!=u||null!=s))if("style"===c)if(s){for(i in s)!s.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(t||(t={}),t[i]="");for(i in u)u.hasOwnProperty(i)&&s[i]!==u[i]&&(t||(t={}),t[i]=u[i])}else t||(l||(l=[]),l.push(c,t)),t=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(l=l||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(l=l||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&qo("scroll",e),l||s===u||(l=[])):(l=l||[]).push(c,u))}t&&(l=l||[]).push("style",t);var c=l;(n.updateQueue=c)&&(n.flags|=4)}},Ma=function(e,n,t,o){t!==o&&(n.flags|=4)};var Ka=!1,Qa=!1,$a="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,n){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(o){_u(e,n,o)}else t.current=null}function es(e,n,t){try{t()}catch(o){_u(e,n,o)}}var ns=!1;function ts(e,n,t){var o=n.updateQueue;if(null!==(o=null!==o?o.lastEffect:null)){var r=o=o.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,void 0!==i&&es(n,t,i)}r=r.next}while(r!==o)}}function os(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var o=t.create;t.destroy=o()}t=t.next}while(t!==n)}}function rs(e){var n=e.ref;if(null!==n){var t=e.stateNode;e.tag,e=t,"function"===typeof n?n(e):n.current=e}}function is(e){var n=e.alternate;null!==n&&(e.alternate=null,is(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(n=e.stateNode)&&(delete n[fr],delete n[mr],delete n[gr],delete n[yr],delete n[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function as(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ls(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,n,t){var o=e.tag;if(5===o||6===o)e=e.stateNode,n?8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(8===t.nodeType?(n=t.parentNode).insertBefore(e,t):(n=t).appendChild(e),null!==(t=t._reactRootContainer)&&void 0!==t||null!==n.onclick||(n.onclick=er));else if(4!==o&&null!==(e=e.child))for(ss(e,n,t),e=e.sibling;null!==e;)ss(e,n,t),e=e.sibling}function us(e,n,t){var o=e.tag;if(5===o||6===o)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==o&&null!==(e=e.child))for(us(e,n,t),e=e.sibling;null!==e;)us(e,n,t),e=e.sibling}var cs=null,ds=!1;function ps(e,n,t){for(t=t.child;null!==t;)fs(e,n,t),t=t.sibling}function fs(e,n,t){if(ln&&"function"===typeof ln.onCommitFiberUnmount)try{ln.onCommitFiberUnmount(rn,t)}catch(a){}switch(t.tag){case 5:Qa||Za(t,n);case 6:var o=cs,r=ds;cs=null,ps(e,n,t),ds=r,null!==(cs=o)&&(ds?(e=cs,t=t.stateNode,8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)):cs.removeChild(t.stateNode));break;case 18:null!==cs&&(ds?(e=cs,t=t.stateNode,8===e.nodeType?ur(e.parentNode,t):1===e.nodeType&&ur(e,t),Vn(e)):ur(cs,t.stateNode));break;case 4:o=cs,r=ds,cs=t.stateNode.containerInfo,ds=!0,ps(e,n,t),cs=o,ds=r;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(o=t.updateQueue)&&null!==(o=o.lastEffect))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,void 0!==l&&(0!==(2&i)||0!==(4&i))&&es(t,n,l),r=r.next}while(r!==o)}ps(e,n,t);break;case 1:if(!Qa&&(Za(t,n),"function"===typeof(o=t.stateNode).componentWillUnmount))try{o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(a){_u(t,n,a)}ps(e,n,t);break;case 21:ps(e,n,t);break;case 22:1&t.mode?(Qa=(o=Qa)||null!==t.memoizedState,ps(e,n,t),Qa=o):ps(e,n,t);break;default:ps(e,n,t)}}function ms(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new $a),n.forEach(function(n){var o=Ou.bind(null,e,n);t.has(n)||(t.add(n),n.then(o,o))})}}function hs(e,n){var t=n.deletions;if(null!==t)for(var o=0;o<t.length;o++){var r=t[o];try{var l=e,a=n,s=a;e:for(;null!==s;){switch(s.tag){case 5:cs=s.stateNode,ds=!1;break e;case 3:case 4:cs=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===cs)throw Error(i(160));fs(l,a,r),cs=null,ds=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){_u(r,n,c)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)gs(n,e),n=n.sibling}function gs(e,n){var t=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(n,e),ys(e),4&o){try{ts(3,e,e.return),os(3,e)}catch(g){_u(e,e.return,g)}try{ts(5,e,e.return)}catch(g){_u(e,e.return,g)}}break;case 1:hs(n,e),ys(e),512&o&&null!==t&&Za(t,t.return);break;case 5:if(hs(n,e),ys(e),512&o&&null!==t&&Za(t,t.return),32&e.flags){var r=e.stateNode;try{pe(r,"")}catch(g){_u(e,e.return,g)}}if(4&o&&null!=(r=e.stateNode)){var l=e.memoizedProps,a=null!==t?t.memoizedProps:l,s=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===s&&"radio"===l.type&&null!=l.name&&$(r,l),be(s,a);var c=be(s,l);for(a=0;a<u.length;a+=2){var d=u[a],p=u[a+1];"style"===d?ge(r,p):"dangerouslySetInnerHTML"===d?de(r,p):"children"===d?pe(r,p):b(r,d,p,c)}switch(s){case"input":X(r,l);break;case"textarea":ie(r,l);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!l.multiple;var m=l.value;null!=m?te(r,!!l.multiple,m,!1):f!==!!l.multiple&&(null!=l.defaultValue?te(r,!!l.multiple,l.defaultValue,!0):te(r,!!l.multiple,l.multiple?[]:"",!1))}r[mr]=l}catch(g){_u(e,e.return,g)}}break;case 6:if(hs(n,e),ys(e),4&o){if(null===e.stateNode)throw Error(i(162));r=e.stateNode,l=e.memoizedProps;try{r.nodeValue=l}catch(g){_u(e,e.return,g)}}break;case 3:if(hs(n,e),ys(e),4&o&&null!==t&&t.memoizedState.isDehydrated)try{Vn(n.containerInfo)}catch(g){_u(e,e.return,g)}break;case 4:default:hs(n,e),ys(e);break;case 13:hs(n,e),ys(e),8192&(r=e.child).flags&&(l=null!==r.memoizedState,r.stateNode.isHidden=l,!l||null!==r.alternate&&null!==r.alternate.memoizedState||(Hs=$e())),4&o&&ms(e);break;case 22:if(d=null!==t&&null!==t.memoizedState,1&e.mode?(Qa=(c=Qa)||d,hs(n,e),Qa=c):hs(n,e),ys(e),8192&o){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xa=e,d=e.child;null!==d;){for(p=Xa=d;null!==Xa;){switch(m=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:ts(4,f,f.return);break;case 1:Za(f,f.return);var h=f.stateNode;if("function"===typeof h.componentWillUnmount){o=f,t=f.return;try{n=o,h.props=n.memoizedProps,h.state=n.memoizedState,h.componentWillUnmount()}catch(g){_u(o,t,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){Es(p);continue}}null!==m?(m.return=f,Xa=m):Es(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{r=p.stateNode,c?"function"===typeof(l=r.style).setProperty?l.setProperty("display","none","important"):l.display="none":(s=p.stateNode,a=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,s.style.display=he("display",a))}catch(g){_u(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(g){_u(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:hs(n,e),ys(e),4&o&&ms(e);case 21:}}function ys(e){var n=e.flags;if(2&n){try{e:{for(var t=e.return;null!==t;){if(ls(t)){var o=t;break e}t=t.return}throw Error(i(160))}switch(o.tag){case 5:var r=o.stateNode;32&o.flags&&(pe(r,""),o.flags&=-33),us(e,as(e),r);break;case 3:case 4:var l=o.stateNode.containerInfo;ss(e,as(e),l);break;default:throw Error(i(161))}}catch(a){_u(e,e.return,a)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function vs(e,n,t){Xa=e,bs(e,n,t)}function bs(e,n,t){for(var o=0!==(1&e.mode);null!==Xa;){var r=Xa,i=r.child;if(22===r.tag&&o){var l=null!==r.memoizedState||Ka;if(!l){var a=r.alternate,s=null!==a&&null!==a.memoizedState||Qa;a=Ka;var u=Qa;if(Ka=l,(Qa=s)&&!u)for(Xa=r;null!==Xa;)s=(l=Xa).child,22===l.tag&&null!==l.memoizedState?Ss(r):null!==s?(s.return=l,Xa=s):Ss(r);for(;null!==i;)Xa=i,bs(i,n,t),i=i.sibling;Xa=r,Ka=a,Qa=u}Cs(e)}else 0!==(8772&r.subtreeFlags)&&null!==i?(i.return=r,Xa=i):Cs(e)}}function Cs(e){for(;null!==Xa;){var n=Xa;if(0!==(8772&n.flags)){var t=n.alternate;try{if(0!==(8772&n.flags))switch(n.tag){case 0:case 11:case 15:Qa||os(5,n);break;case 1:var o=n.stateNode;if(4&n.flags&&!Qa)if(null===t)o.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:ta(n.type,t.memoizedProps);o.componentDidUpdate(r,t.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var l=n.updateQueue;null!==l&&Bi(n,l,o);break;case 3:var a=n.updateQueue;if(null!==a){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}Bi(n,a,t)}break;case 5:var s=n.stateNode;if(null===t&&4&n.flags){t=s;var u=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var c=n.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Vn(p)}}}break;default:throw Error(i(163))}Qa||512&n.flags&&rs(n)}catch(f){_u(n,n.return,f)}}if(n===e){Xa=null;break}if(null!==(t=n.sibling)){t.return=n.return,Xa=t;break}Xa=n.return}}function Es(e){for(;null!==Xa;){var n=Xa;if(n===e){Xa=null;break}var t=n.sibling;if(null!==t){t.return=n.return,Xa=t;break}Xa=n.return}}function Ss(e){for(;null!==Xa;){var n=Xa;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{os(4,n)}catch(s){_u(n,t,s)}break;case 1:var o=n.stateNode;if("function"===typeof o.componentDidMount){var r=n.return;try{o.componentDidMount()}catch(s){_u(n,r,s)}}var i=n.return;try{rs(n)}catch(s){_u(n,i,s)}break;case 5:var l=n.return;try{rs(n)}catch(s){_u(n,l,s)}}}catch(s){_u(n,n.return,s)}if(n===e){Xa=null;break}var a=n.sibling;if(null!==a){a.return=n.return,Xa=a;break}Xa=n.return}}var Ts,_s=Math.ceil,ws=C.ReactCurrentDispatcher,Is=C.ReactCurrentOwner,As=C.ReactCurrentBatchConfig,Os=0,xs=null,ks=null,Ns=0,Ps=0,Rs=wr(0),Ms=0,Ds=null,Ls=0,Us=0,js=0,Fs=null,qs=null,Hs=0,Gs=1/0,Vs=null,Bs=!1,zs=null,Js=null,Ws=!1,Ys=null,Ks=0,Qs=0,$s=null,Xs=-1,Zs=0;function eu(){return 0!==(6&Os)?$e():-1!==Xs?Xs:Xs=$e()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Os)&&0!==Ns?Ns&-Ns:null!==gi.transition?(0===Zs&&(Zs=gn()),Zs):0!==(e=Cn)?e:e=void 0===(e=window.event)?16:$n(e.type)}function tu(e,n,t,o){if(50<Qs)throw Qs=0,$s=null,Error(i(185));vn(e,t,o),0!==(2&Os)&&e===xs||(e===xs&&(0===(2&Os)&&(Us|=t),4===Ms&&au(e,Ns)),ou(e,o),1===t&&0===Os&&0===(1&n.mode)&&(Gs=$e()+500,qr&&Vr()))}function ou(e,n){var t=e.callbackNode;!function(e,n){for(var t=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-an(i),a=1<<l,s=r[l];-1===s?0!==(a&t)&&0===(a&o)||(r[l]=mn(a,n)):s<=n&&(e.expiredLanes|=a),i&=~a}}(e,n);var o=fn(e,e===xs?Ns:0);if(0===o)null!==t&&Ye(t),e.callbackNode=null,e.callbackPriority=0;else if(n=o&-o,e.callbackPriority!==n){if(null!=t&&Ye(t),1===n)0===e.tag?function(e){qr=!0,Gr(e)}(su.bind(null,e)):Gr(su.bind(null,e)),ar(function(){0===(6&Os)&&Vr()}),t=null;else{switch(En(o)){case 1:t=Ze;break;case 4:t=en;break;case 16:default:t=nn;break;case 536870912:t=on}t=xu(t,ru.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function ru(e,n){if(Xs=-1,Zs=0,0!==(6&Os))throw Error(i(327));var t=e.callbackNode;if(Su()&&e.callbackNode!==t)return null;var o=fn(e,e===xs?Ns:0);if(0===o)return null;if(0!==(30&o)||0!==(o&e.expiredLanes)||n)n=gu(e,o);else{n=o;var r=Os;Os|=2;var l=mu();for(xs===e&&Ns===n||(Vs=null,Gs=$e()+500,pu(e,n));;)try{vu();break}catch(s){fu(e,s)}Ai(),ws.current=l,Os=r,null!==ks?n=0:(xs=null,Ns=0,n=Ms)}if(0!==n){if(2===n&&(0!==(r=hn(e))&&(o=r,n=iu(e,r))),1===n)throw t=Ds,pu(e,0),au(e,o),ou(e,$e()),t;if(6===n)au(e,o);else{if(r=e.current.alternate,0===(30&o)&&!function(e){for(var n=e;;){if(16384&n.flags){var t=n.updateQueue;if(null!==t&&null!==(t=t.stores))for(var o=0;o<t.length;o++){var r=t[o],i=r.getSnapshot;r=r.value;try{if(!ao(i(),r))return!1}catch(a){return!1}}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(r)&&(2===(n=gu(e,o))&&(0!==(l=hn(e))&&(o=l,n=iu(e,l))),1===n))throw t=Ds,pu(e,0),au(e,o),ou(e,$e()),t;switch(e.finishedWork=r,e.finishedLanes=o,n){case 0:case 1:throw Error(i(345));case 2:case 5:Eu(e,qs,Vs);break;case 3:if(au(e,o),(130023424&o)===o&&10<(n=Hs+500-$e())){if(0!==fn(e,0))break;if(((r=e.suspendedLanes)&o)!==o){eu(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=rr(Eu.bind(null,e,qs,Vs),n);break}Eu(e,qs,Vs);break;case 4:if(au(e,o),(4194240&o)===o)break;for(n=e.eventTimes,r=-1;0<o;){var a=31-an(o);l=1<<a,(a=n[a])>r&&(r=a),o&=~l}if(o=r,10<(o=(120>(o=$e()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*_s(o/1960))-o)){e.timeoutHandle=rr(Eu.bind(null,e,qs,Vs),o);break}Eu(e,qs,Vs);break;default:throw Error(i(329))}}}return ou(e,$e()),e.callbackNode===t?ru.bind(null,e):null}function iu(e,n){var t=Fs;return e.current.memoizedState.isDehydrated&&(pu(e,n).flags|=256),2!==(e=gu(e,n))&&(n=qs,qs=t,null!==n&&lu(n)),e}function lu(e){null===qs?qs=e:qs.push.apply(qs,e)}function au(e,n){for(n&=~js,n&=~Us,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-an(n),o=1<<t;e[t]=-1,n&=~o}}function su(e){if(0!==(6&Os))throw Error(i(327));Su();var n=fn(e,0);if(0===(1&n))return ou(e,$e()),null;var t=gu(e,n);if(0!==e.tag&&2===t){var o=hn(e);0!==o&&(n=o,t=iu(e,o))}if(1===t)throw t=Ds,pu(e,0),au(e,n),ou(e,$e()),t;if(6===t)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Eu(e,qs,Vs),ou(e,$e()),null}function uu(e,n){var t=Os;Os|=1;try{return e(n)}finally{0===(Os=t)&&(Gs=$e()+500,qr&&Vr())}}function cu(e){null!==Ys&&0===Ys.tag&&0===(6&Os)&&Su();var n=Os;Os|=1;var t=As.transition,o=Cn;try{if(As.transition=null,Cn=1,e)return e()}finally{Cn=o,As.transition=t,0===(6&(Os=n))&&Vr()}}function du(){Ps=Rs.current,Ir(Rs)}function pu(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,ir(t)),null!==ks)for(t=ks.return;null!==t;){var o=t;switch(ti(o),o.tag){case 1:null!==(o=o.type.childContextTypes)&&void 0!==o&&Mr();break;case 3:$i(),Ir(kr),Ir(xr),ol();break;case 5:Zi(o);break;case 4:$i();break;case 13:case 19:Ir(el);break;case 10:Oi(o.type._context);break;case 22:case 23:du()}t=t.return}if(xs=e,ks=e=Ru(e.current,null),Ns=Ps=n,Ms=0,Ds=null,js=Us=Ls=0,qs=Fs=null,null!==Pi){for(n=0;n<Pi.length;n++)if(null!==(o=(t=Pi[n]).interleaved)){t.interleaved=null;var r=o.next,i=t.pending;if(null!==i){var l=i.next;i.next=r,o.next=l}t.pending=o}Pi=null}return e}function fu(e,n){for(;;){var t=ks;try{if(Ai(),rl.current=Xl,cl){for(var o=al.memoizedState;null!==o;){var r=o.queue;null!==r&&(r.pending=null),o=o.next}cl=!1}if(ll=0,ul=sl=al=null,dl=!1,pl=0,Is.current=null,null===t||null===t.return){Ms=1,Ds=n,ks=null;break}e:{var l=e,a=t.return,s=t,u=n;if(n=Ns,s.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=s,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=ga(a);if(null!==m){m.flags&=-257,ya(m,a,s,0,n),1&m.mode&&ha(l,c,n),u=c;var h=(n=m).updateQueue;if(null===h){var g=new Set;g.add(u),n.updateQueue=g}else h.add(u);break e}if(0===(1&n)){ha(l,c,n),hu();break e}u=Error(i(426))}else if(ii&&1&s.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,s,0,n),hi(ua(u,s));break e}}l=u=ua(u,s),4!==Ms&&(Ms=2),null===Fs?Fs=[l]:Fs.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,n&=-n,l.lanes|=n,Gi(l,fa(0,u,n));break e;case 1:s=u;var v=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Js||!Js.has(b)))){l.flags|=65536,n&=-n,l.lanes|=n,Gi(l,ma(l,s,n));break e}}l=l.return}while(null!==l)}Cu(t)}catch(C){n=C,ks===t&&null!==t&&(ks=t=t.return);continue}break}}function mu(){var e=ws.current;return ws.current=Xl,null===e?Xl:e}function hu(){0!==Ms&&3!==Ms&&2!==Ms||(Ms=4),null===xs||0===(268435455&Ls)&&0===(268435455&Us)||au(xs,Ns)}function gu(e,n){var t=Os;Os|=2;var o=mu();for(xs===e&&Ns===n||(Vs=null,pu(e,n));;)try{yu();break}catch(r){fu(e,r)}if(Ai(),Os=t,ws.current=o,null!==ks)throw Error(i(261));return xs=null,Ns=0,Ms}function yu(){for(;null!==ks;)bu(ks)}function vu(){for(;null!==ks&&!Ke();)bu(ks)}function bu(e){var n=Ts(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===n?Cu(e):ks=n,Is.current=null}function Cu(e){var n=e;do{var t=n.alternate;if(e=n.return,0===(32768&n.flags)){if(null!==(t=Wa(t,n,Ps)))return void(ks=t)}else{if(null!==(t=Ya(t,n)))return t.flags&=32767,void(ks=t);if(null===e)return Ms=6,void(ks=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(n=n.sibling))return void(ks=n);ks=n=e}while(null!==n);0===Ms&&(Ms=5)}function Eu(e,n,t){var o=Cn,r=As.transition;try{As.transition=null,Cn=1,function(e,n,t,o){do{Su()}while(null!==Ys);if(0!==(6&Os))throw Error(i(327));t=e.finishedWork;var r=e.finishedLanes;if(null===t)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var l=t.lanes|t.childLanes;if(function(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<t;){var r=31-an(t),i=1<<r;n[r]=0,o[r]=-1,e[r]=-1,t&=~i}}(e,l),e===xs&&(ks=xs=null,Ns=0),0===(2064&t.subtreeFlags)&&0===(2064&t.flags)||Ws||(Ws=!0,xu(nn,function(){return Su(),null})),l=0!==(15990&t.flags),0!==(15990&t.subtreeFlags)||l){l=As.transition,As.transition=null;var a=Cn;Cn=1;var s=Os;Os|=4,Is.current=null,function(e,n){if(nr=zn,mo(e=fo())){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(o&&0!==o.rangeCount){t=o.anchorNode;var r=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{t.nodeType,l.nodeType}catch(E){t=null;break e}var a=0,s=-1,u=-1,c=0,d=0,p=e,f=null;n:for(;;){for(var m;p!==t||0!==r&&3!==p.nodeType||(s=a+r),p!==l||0!==o&&3!==p.nodeType||(u=a+o),3===p.nodeType&&(a+=p.nodeValue.length),null!==(m=p.firstChild);)f=p,p=m;for(;;){if(p===e)break n;if(f===t&&++c===r&&(s=a),f===l&&++d===o&&(u=a),null!==(m=p.nextSibling))break;f=(p=f).parentNode}p=m}t=-1===s||-1===u?null:{start:s,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(tr={focusedElem:e,selectionRange:t},zn=!1,Xa=n;null!==Xa;)if(e=(n=Xa).child,0!==(1028&n.subtreeFlags)&&null!==e)e.return=n,Xa=e;else for(;null!==Xa;){n=Xa;try{var h=n.alternate;if(0!==(1024&n.flags))switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var g=h.memoizedProps,y=h.memoizedState,v=n.stateNode,b=v.getSnapshotBeforeUpdate(n.elementType===n.type?g:ta(n.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=n.stateNode.containerInfo;1===C.nodeType?C.textContent="":9===C.nodeType&&C.documentElement&&C.removeChild(C.documentElement);break;default:throw Error(i(163))}}catch(E){_u(n,n.return,E)}if(null!==(e=n.sibling)){e.return=n.return,Xa=e;break}Xa=n.return}h=ns,ns=!1}(e,t),gs(t,e),ho(tr),zn=!!nr,tr=nr=null,e.current=t,vs(t,e,r),Qe(),Os=s,Cn=a,As.transition=l}else e.current=t;if(Ws&&(Ws=!1,Ys=e,Ks=r),l=e.pendingLanes,0===l&&(Js=null),function(e){if(ln&&"function"===typeof ln.onCommitFiberRoot)try{ln.onCommitFiberRoot(rn,e,void 0,128===(128&e.current.flags))}catch(n){}}(t.stateNode),ou(e,$e()),null!==n)for(o=e.onRecoverableError,t=0;t<n.length;t++)r=n[t],o(r.value,{componentStack:r.stack,digest:r.digest});if(Bs)throw Bs=!1,e=zs,zs=null,e;0!==(1&Ks)&&0!==e.tag&&Su(),l=e.pendingLanes,0!==(1&l)?e===$s?Qs++:(Qs=0,$s=e):Qs=0,Vr()}(e,n,t,o)}finally{As.transition=r,Cn=o}return null}function Su(){if(null!==Ys){var e=En(Ks),n=As.transition,t=Cn;try{if(As.transition=null,Cn=16>e?16:e,null===Ys)var o=!1;else{if(e=Ys,Ys=null,Ks=0,0!==(6&Os))throw Error(i(331));var r=Os;for(Os|=4,Xa=e.current;null!==Xa;){var l=Xa,a=l.child;if(0!==(16&Xa.flags)){var s=l.deletions;if(null!==s){for(var u=0;u<s.length;u++){var c=s[u];for(Xa=c;null!==Xa;){var d=Xa;switch(d.tag){case 0:case 11:case 15:ts(8,d,l)}var p=d.child;if(null!==p)p.return=d,Xa=p;else for(;null!==Xa;){var f=(d=Xa).sibling,m=d.return;if(is(d),d===c){Xa=null;break}if(null!==f){f.return=m,Xa=f;break}Xa=m}}}var h=l.alternate;if(null!==h){var g=h.child;if(null!==g){h.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xa=l}}if(0!==(2064&l.subtreeFlags)&&null!==a)a.return=l,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(l=Xa).flags))switch(l.tag){case 0:case 11:case 15:ts(9,l,l.return)}var v=l.sibling;if(null!==v){v.return=l.return,Xa=v;break e}Xa=l.return}}var b=e.current;for(Xa=b;null!==Xa;){var C=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==C)C.return=a,Xa=C;else e:for(a=b;null!==Xa;){if(0!==(2048&(s=Xa).flags))try{switch(s.tag){case 0:case 11:case 15:os(9,s)}}catch(S){_u(s,s.return,S)}if(s===a){Xa=null;break e}var E=s.sibling;if(null!==E){E.return=s.return,Xa=E;break e}Xa=s.return}}if(Os=r,Vr(),ln&&"function"===typeof ln.onPostCommitFiberRoot)try{ln.onPostCommitFiberRoot(rn,e)}catch(S){}o=!0}return o}finally{Cn=t,As.transition=n}}return!1}function Tu(e,n,t){e=qi(e,n=fa(0,n=ua(t,n),1),1),n=eu(),null!==e&&(vn(e,1,n),ou(e,n))}function _u(e,n,t){if(3===e.tag)Tu(e,e,t);else for(;null!==n;){if(3===n.tag){Tu(n,e,t);break}if(1===n.tag){var o=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===Js||!Js.has(o))){n=qi(n,e=ma(n,e=ua(t,e),1),1),e=eu(),null!==n&&(vn(n,1,e),ou(n,e));break}}n=n.return}}function wu(e,n,t){var o=e.pingCache;null!==o&&o.delete(n),n=eu(),e.pingedLanes|=e.suspendedLanes&t,xs===e&&(Ns&t)===t&&(4===Ms||3===Ms&&(130023424&Ns)===Ns&&500>$e()-Hs?pu(e,0):js|=t),ou(e,n)}function Iu(e,n){0===n&&(0===(1&e.mode)?n=1:(n=dn,0===(130023424&(dn<<=1))&&(dn=4194304)));var t=eu();null!==(e=Di(e,n))&&(vn(e,n,t),ou(e,t))}function Au(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),Iu(e,t)}function Ou(e,n){var t=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;null!==r&&(t=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(i(314))}null!==o&&o.delete(n),Iu(e,t)}function xu(e,n){return We(e,n)}function ku(e,n,t,o){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,n,t,o){return new ku(e,n,t,o)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,n){var t=e.alternate;return null===t?((t=Nu(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=14680064&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Mu(e,n,t,o,r,l){var a=2;if(o=e,"function"===typeof e)Pu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case T:return Du(t.children,r,l,n);case _:a=8,r|=8;break;case w:return(e=Nu(12,t,n,2|r)).elementType=w,e.lanes=l,e;case x:return(e=Nu(13,t,n,r)).elementType=x,e.lanes=l,e;case k:return(e=Nu(19,t,n,r)).elementType=k,e.lanes=l,e;case R:return Lu(t,r,l,n);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case A:a=9;break e;case O:a=11;break e;case N:a=14;break e;case P:a=16,o=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(n=Nu(a,t,n,r)).elementType=e,n.type=o,n.lanes=l,n}function Du(e,n,t,o){return(e=Nu(7,e,o,n)).lanes=t,e}function Lu(e,n,t,o){return(e=Nu(22,e,o,n)).elementType=R,e.lanes=t,e.stateNode={isHidden:!1},e}function Uu(e,n,t){return(e=Nu(6,e,null,n)).lanes=t,e}function ju(e,n,t){return(n=Nu(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Fu(e,n,t,o,r){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yn(0),this.expirationTimes=yn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yn(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function qu(e,n,t,o,r,i,l,a,s){return e=new Fu(e,n,t,a,s),1===n?(n=1,!0===i&&(n|=8)):n=0,i=Nu(3,null,null,n),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ui(i),e}function Hu(e){if(!e)return Or;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Rr(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(i(171))}if(1===e.tag){var t=e.type;if(Rr(t))return Lr(e,t,n)}return n}function Gu(e,n,t,o,r,i,l,a,s){return(e=qu(t,o,!0,e,0,i,0,a,s)).context=Hu(null),t=e.current,(i=Fi(o=eu(),r=nu(t))).callback=void 0!==n&&null!==n?n:null,qi(t,i,r),e.current.lanes=r,vn(e,r,o),ou(e,o),e}function Vu(e,n,t,o){var r=n.current,i=eu(),l=nu(r);return t=Hu(t),null===n.context?n.context=t:n.pendingContext=t,(n=Fi(i,l)).payload={element:e},null!==(o=void 0===o?null:o)&&(n.callback=o),null!==(e=qi(r,n,l))&&(tu(e,r,l,i),Hi(e,r,l)),l}function Bu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zu(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function Ju(e,n){zu(e,n),(e=e.alternate)&&zu(e,n)}Ts=function(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps||kr.current)ba=!0;else{if(0===(e.lanes&t)&&0===(128&n.flags))return ba=!1,function(e,n,t){switch(n.tag){case 3:xa(n),mi();break;case 5:Xi(n);break;case 1:Rr(n.type)&&Ur(n);break;case 4:Qi(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,r=n.memoizedProps.value;Ar(Ti,o._currentValue),o._currentValue=r;break;case 13:if(null!==(o=n.memoizedState))return null!==o.dehydrated?(Ar(el,1&el.current),n.flags|=128,null):0!==(t&n.child.childLanes)?Ua(e,n,t):(Ar(el,1&el.current),null!==(e=Ba(e,n,t))?e.sibling:null);Ar(el,1&el.current);break;case 19:if(o=0!==(t&n.childLanes),0!==(128&e.flags)){if(o)return Ga(e,n,t);n.flags|=128}if(null!==(r=n.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ar(el,el.current),o)break;return null;case 22:case 23:return n.lanes=0,_a(e,n,t)}return Ba(e,n,t)}(e,n,t);ba=0!==(131072&e.flags)}else ba=!1,ii&&0!==(1048576&n.flags)&&ei(n,Wr,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;Va(e,n),e=n.pendingProps;var r=Pr(n,xr.current);ki(n,t),r=gl(null,n,o,e,r,t);var l=yl();return n.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Rr(o)?(l=!0,Ur(n)):l=!1,n.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ui(n),r.updater=ra,n.stateNode=r,r._reactInternals=n,sa(n,o,e,t),n=Oa(null,n,o,!0,l,t)):(n.tag=0,ii&&l&&ni(n),Ca(null,n,r,t),n=n.child),n;case 16:o=n.elementType;e:{switch(Va(e,n),e=n.pendingProps,o=(r=o._init)(o._payload),n.type=o,r=n.tag=function(e){if("function"===typeof e)return Pu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===N)return 14}return 2}(o),e=ta(o,e),r){case 0:n=Ia(null,n,o,e,t);break e;case 1:n=Aa(null,n,o,e,t);break e;case 11:n=Ea(null,n,o,e,t);break e;case 14:n=Sa(null,n,o,ta(o.type,e),t);break e}throw Error(i(306,o,""))}return n;case 0:return o=n.type,r=n.pendingProps,Ia(e,n,o,r=n.elementType===o?r:ta(o,r),t);case 1:return o=n.type,r=n.pendingProps,Aa(e,n,o,r=n.elementType===o?r:ta(o,r),t);case 3:e:{if(xa(n),null===e)throw Error(i(387));o=n.pendingProps,r=(l=n.memoizedState).element,ji(e,n),Vi(n,o,null,t);var a=n.memoizedState;if(o=a.element,l.isDehydrated){if(l={element:o,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},n.updateQueue.baseState=l,n.memoizedState=l,256&n.flags){n=ka(e,n,o,t,r=ua(Error(i(423)),n));break e}if(o!==r){n=ka(e,n,o,t,r=ua(Error(i(424)),n));break e}for(ri=cr(n.stateNode.containerInfo.firstChild),oi=n,ii=!0,li=null,t=Si(n,null,o,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(mi(),o===r){n=Ba(e,n,t);break e}Ca(e,n,o,t)}n=n.child}return n;case 5:return Xi(n),null===e&&ci(n),o=n.type,r=n.pendingProps,l=null!==e?e.memoizedProps:null,a=r.children,or(o,r)?a=null:null!==l&&or(o,l)&&(n.flags|=32),wa(e,n),Ca(e,n,a,t),n.child;case 6:return null===e&&ci(n),null;case 13:return Ua(e,n,t);case 4:return Qi(n,n.stateNode.containerInfo),o=n.pendingProps,null===e?n.child=Ei(n,null,o,t):Ca(e,n,o,t),n.child;case 11:return o=n.type,r=n.pendingProps,Ea(e,n,o,r=n.elementType===o?r:ta(o,r),t);case 7:return Ca(e,n,n.pendingProps,t),n.child;case 8:case 12:return Ca(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(o=n.type._context,r=n.pendingProps,l=n.memoizedProps,a=r.value,Ar(Ti,o._currentValue),o._currentValue=a,null!==l)if(ao(l.value,a)){if(l.children===r.children&&!kr.current){n=Ba(e,n,t);break e}}else for(null!==(l=n.child)&&(l.return=n);null!==l;){var s=l.dependencies;if(null!==s){a=l.child;for(var u=s.firstContext;null!==u;){if(u.context===o){if(1===l.tag){(u=Fi(-1,t&-t)).tag=2;var c=l.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}l.lanes|=t,null!==(u=l.alternate)&&(u.lanes|=t),xi(l.return,t,n),s.lanes|=t;break}u=u.next}}else if(10===l.tag)a=l.type===n.type?null:l.child;else if(18===l.tag){if(null===(a=l.return))throw Error(i(341));a.lanes|=t,null!==(s=a.alternate)&&(s.lanes|=t),xi(a,t,n),a=l.sibling}else a=l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===n){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Ca(e,n,r.children,t),n=n.child}return n;case 9:return r=n.type,o=n.pendingProps.children,ki(n,t),o=o(r=Ni(r)),n.flags|=1,Ca(e,n,o,t),n.child;case 14:return r=ta(o=n.type,n.pendingProps),Sa(e,n,o,r=ta(o.type,r),t);case 15:return Ta(e,n,n.type,n.pendingProps,t);case 17:return o=n.type,r=n.pendingProps,r=n.elementType===o?r:ta(o,r),Va(e,n),n.tag=1,Rr(o)?(e=!0,Ur(n)):e=!1,ki(n,t),la(n,o,r),sa(n,o,r,t),Oa(null,n,o,!0,e,t);case 19:return Ga(e,n,t);case 22:return _a(e,n,t)}throw Error(i(156,n.tag))};var Wu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Zu(e,n,t,o,r){var i=t._reactRootContainer;if(i){var l=i;if("function"===typeof r){var a=r;r=function(){var e=Bu(l);a.call(e)}}Vu(n,l,e,r)}else l=function(e,n,t,o,r){if(r){if("function"===typeof o){var i=o;o=function(){var e=Bu(l);i.call(e)}}var l=Gu(n,o,e,0,null,!1,0,"",Xu);return e._reactRootContainer=l,e[hr]=l.current,Vo(8===e.nodeType?e.parentNode:e),cu(),l}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof o){var a=o;o=function(){var e=Bu(s);a.call(e)}}var s=qu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=s,e[hr]=s.current,Vo(8===e.nodeType?e.parentNode:e),cu(function(){Vu(n,s,t,o)}),s}(t,n,e,r,o);return Bu(l)}Ku.prototype.render=Yu.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(i(409));Vu(e,n,null,null)},Ku.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;cu(function(){Vu(null,e,null,null)}),n[hr]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var n=wn();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Mn.length&&0!==n&&n<Mn[t].priority;t++);Mn.splice(t,0,e),0===t&&jn(e)}},Sn=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=pn(n.pendingLanes);0!==t&&(bn(n,1|t),ou(n,$e()),0===(6&Os)&&(Gs=$e()+500,Vr()))}break;case 13:cu(function(){var n=Di(e,1);if(null!==n){var t=eu();tu(n,e,1,t)}}),Ju(e,1)}},Tn=function(e){if(13===e.tag){var n=Di(e,134217728);if(null!==n)tu(n,e,134217728,eu());Ju(e,134217728)}},_n=function(e){if(13===e.tag){var n=nu(e),t=Di(e,n);if(null!==t)tu(t,e,n,eu());Ju(e,n)}},wn=function(){return Cn},In=function(e,n){var t=Cn;try{return Cn=e,n()}finally{Cn=t}},Se=function(e,n,t){switch(n){case"input":if(X(e,t),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var o=t[n];if(o!==e&&o.form===e.form){var r=Sr(o);if(!r)throw Error(i(90));W(o),X(o,r)}}}break;case"textarea":ie(e,t);break;case"select":null!=(n=t.value)&&te(e,!!t.multiple,n,!1)}},Oe=uu,xe=cu;var ec={usingClientEntryPoint:!1,Events:[Cr,Er,Sr,Ie,Ae,uu]},nc={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ze(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{rn=oc.inject(tc),ln=oc}catch(ce){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,n.createPortal=function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(n))throw Error(i(200));return function(e,n,t){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==o?null:""+o,children:e,containerInfo:n,implementation:t}}(e,n,null,t)},n.createRoot=function(e,n){if(!Qu(e))throw Error(i(299));var t=!1,o="",r=Wu;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(t=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(r=n.onRecoverableError)),n=qu(e,1,!1,null,0,t,0,o,r),e[hr]=n.current,Vo(8===e.nodeType?e.parentNode:e),new Yu(n)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=ze(n))?null:e.stateNode},n.flushSync=function(e){return cu(e)},n.hydrate=function(e,n,t){if(!$u(n))throw Error(i(200));return Zu(null,e,n,!0,t)},n.hydrateRoot=function(e,n,t){if(!Qu(e))throw Error(i(405));var o=null!=t&&t.hydratedSources||null,r=!1,l="",a=Wu;if(null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(l=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),n=Gu(n,null,e,1,null!=t?t:null,r,0,l,a),e[hr]=n.current,Vo(e),o)for(e=0;e<o.length;e++)r=(r=(t=o[e])._getVersion)(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,r]:n.mutableSourceEagerHydrationData.push(t,r);return new Ku(n)},n.render=function(e,n,t){if(!$u(n))throw Error(i(200));return Zu(null,e,n,!1,t)},n.unmountComponentAtNode=function(e){if(!$u(e))throw Error(i(40));return!!e._reactRootContainer&&(cu(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0)},n.unstable_batchedUpdates=uu,n.unstable_renderSubtreeIntoContainer=function(e,n,t,o){if(!$u(t))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zu(e,n,t,!1,o)},n.version="18.3.1-next-f1338f8080-20240426"},853:(e,n,t)=>{e.exports=t(234)},950:(e,n,t)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}(),e.exports=t(730)}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={exports:{}};return e[o](i,i.exports,t),i.exports}var o=t(43),r=t(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e){var n=function(e,n){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,n||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==i(n)?n:n+""}function a(e,n,t){return(n=l(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach(function(n){a(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}let c,d;function p(e,n,t,o){var r,i;if(!(null===e||void 0===e?void 0:e.baseUrl)){const e={geminiUrl:c,vertexUrl:d};return n?null!==(r=e.vertexUrl)&&void 0!==r?r:t:null!==(i=e.geminiUrl)&&void 0!==i?i:o}return e.baseUrl}class f{}function m(e,n){return e.replace(/\{([^}]+)\}/g,(e,t)=>{if(Object.prototype.hasOwnProperty.call(n,t)){const e=n[t];return void 0!==e&&null!==e?String(e):""}throw new Error("Key '".concat(t,"' not found in valueMap."))})}function h(e,n,t){for(let i=0;i<n.length-1;i++){const o=n[i];if(o.endsWith("[]")){const r=o.slice(0,-2);if(!(r in e)){if(!Array.isArray(t))throw new Error("Value must be a list given an array path ".concat(o));e[r]=Array.from({length:t.length},()=>({}))}if(Array.isArray(e[r])){const o=e[r];if(Array.isArray(t))for(let e=0;e<o.length;e++){h(o[e],n.slice(i+1),t[e])}else for(const e of o)h(e,n.slice(i+1),t)}return}if(o.endsWith("[0]")){const r=o.slice(0,-3);r in e||(e[r]=[{}]);return void h(e[r][0],n.slice(i+1),t)}e[o]&&"object"===typeof e[o]||(e[o]={}),e=e[o]}const o=n[n.length-1],r=e[o];if(void 0!==r){if(!t||"object"===typeof t&&0===Object.keys(t).length)return;if(t===r)return;if("object"!==typeof r||"object"!==typeof t||null===r||null===t)throw new Error("Cannot set value for an existing key. Key: ".concat(o));Object.assign(r,t)}else if("_self"!==o||"object"!==typeof t||null===t||Array.isArray(t))e[o]=t;else{const n=t;Object.assign(e,n)}}function g(e,n){try{if(1===n.length&&"_self"===n[0])return e;for(let t=0;t<n.length;t++){if("object"!==typeof e||null===e)return;const o=n[t];if(o.endsWith("[]")){const r=o.slice(0,-2);if(r in e){const o=e[r];if(!Array.isArray(o))return;return o.map(e=>g(e,n.slice(t+1)))}return}e=e[o]}return e}catch(t){if(t instanceof TypeError)return;throw t}}function y(e){if("string"!==typeof e)throw new Error("fromImageBytes must be a string");return e}function v(e){const n={},t=g(e,["_self"]);return null!=t&&h(n,["video"],function(e){const n={},t=g(e,["video","uri"]);null!=t&&h(n,["uri"],t);const o=g(e,["video","encodedVideo"]);null!=o&&h(n,["videoBytes"],y(o));const r=g(e,["encoding"]);return null!=r&&h(n,["mimeType"],r),n}(t)),n}function b(e){const n={},t=g(e,["name"]);null!=t&&h(n,["name"],t);const o=g(e,["metadata"]);null!=o&&h(n,["metadata"],o);const r=g(e,["done"]);null!=r&&h(n,["done"],r);const i=g(e,["error"]);null!=i&&h(n,["error"],i);const l=g(e,["response","generateVideoResponse"]);return null!=l&&h(n,["response"],function(e){const n={},t=g(e,["generatedSamples"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>v(e))),h(n,["generatedVideos"],e)}const o=g(e,["raiMediaFilteredCount"]);null!=o&&h(n,["raiMediaFilteredCount"],o);const r=g(e,["raiMediaFilteredReasons"]);return null!=r&&h(n,["raiMediaFilteredReasons"],r),n}(l)),n}function C(e){const n={},t=g(e,["_self"]);return null!=t&&h(n,["video"],function(e){const n={},t=g(e,["gcsUri"]);null!=t&&h(n,["uri"],t);const o=g(e,["bytesBase64Encoded"]);null!=o&&h(n,["videoBytes"],y(o));const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}(t)),n}function E(e){const n={},t=g(e,["name"]);null!=t&&h(n,["name"],t);const o=g(e,["metadata"]);null!=o&&h(n,["metadata"],o);const r=g(e,["done"]);null!=r&&h(n,["done"],r);const i=g(e,["error"]);null!=i&&h(n,["error"],i);const l=g(e,["response"]);return null!=l&&h(n,["response"],function(e){const n={},t=g(e,["videos"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>C(e))),h(n,["generatedVideos"],e)}const o=g(e,["raiMediaFilteredCount"]);null!=o&&h(n,["raiMediaFilteredCount"],o);const r=g(e,["raiMediaFilteredReasons"]);return null!=r&&h(n,["raiMediaFilteredReasons"],r),n}(l)),n}var S,T,_,w,I,A,O,x,k,N,P,R,M,D,L,U,j,F,q,H,G,V,B,z,J,W,Y,K,Q,$,X,Z,ee,ne,te,oe,re,ie,le,ae,se,ue,ce,de,pe,fe,me,he,ge;!function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"}(S||(S={})),function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"}(T||(T={})),function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"}(_||(_={})),function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"}(w||(w={})),function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"}(I||(I={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"}(A||(A={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(O||(O={})),function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"}(x||(x={})),function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"}(k||(k={})),function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"}(N||(N={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"}(P||(P={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(R||(R={})),function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"}(M||(M={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY"}(D||(D={})),function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"}(L||(L={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"}(U||(U={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(j||(j={})),function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"}(F||(F={})),function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"}(q||(q={})),function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"}(H||(H={})),function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"}(G||(G={})),function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"}(V||(V={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(B||(B={})),function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"}(z||(z={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"}(J||(J={})),function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(W||(W={})),function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"}(Y||(Y={})),function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"}(K||(K={})),function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"}(Q||(Q={})),function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"}($||($={})),function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"}(X||(X={})),function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"}(Z||(Z={})),function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"}(ee||(ee={})),function(e){e.ASSET="ASSET",e.STYLE="STYLE"}(ne||(ne={})),function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"}(te||(te={})),function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"}(oe||(oe={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(re||(re={})),function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"}(ie||(ie={})),function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"}(le||(le={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"}(ae||(ae={})),function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"}(se||(se={})),function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"}(ue||(ue={})),function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"}(ce||(ce={})),function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"}(de||(de={})),function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"}(pe||(pe={})),function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"}(fe||(fe={})),function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"}(me||(me={})),function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"}(he||(he={}));class ye{constructor(e){const n={};for(const t of e.headers.entries())n[t[0]]=t[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ve{get text(){var e,n,t,o,r,i,l,a;if(0===(null===(o=null===(t=null===(n=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===n?void 0:n.content)||void 0===t?void 0:t.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let s="",u=!1;const c=[];for(const d of null!==(a=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[e,n]of Object.entries(d))"text"===e||"thought"===e||null===n&&void 0===n||c.push(e);if("string"===typeof d.text){if("boolean"===typeof d.thought&&d.thought)continue;u=!0,s+=d.text}}return c.length>0&&console.warn("there are non-text parts ".concat(c," in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.")),u?s:void 0}get data(){var e,n,t,o,r,i,l,a;if(0===(null===(o=null===(t=null===(n=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===n?void 0:n.content)||void 0===t?void 0:t.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let s="";const u=[];for(const c of null!==(a=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[e,n]of Object.entries(c))"inlineData"===e||null===n&&void 0===n||u.push(e);c.inlineData&&"string"===typeof c.inlineData.data&&(s+=atob(c.inlineData.data))}return u.length>0&&console.warn("there are non-data parts ".concat(u," in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.")),s.length>0?btoa(s):void 0}get functionCalls(){var e,n,t,o,r,i,l,a;if(0===(null===(o=null===(t=null===(n=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===n?void 0:n.content)||void 0===t?void 0:t.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const s=null===(a=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null===s||void 0===s?void 0:s.length)?s:void 0}get executableCode(){var e,n,t,o,r,i,l,a,s;if(0===(null===(o=null===(t=null===(n=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===n?void 0:n.content)||void 0===t?void 0:t.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=null===(a=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null===u||void 0===u?void 0:u.length)?null===(s=null===u||void 0===u?void 0:u[0])||void 0===s?void 0:s.code:void 0}get codeExecutionResult(){var e,n,t,o,r,i,l,a,s;if(0===(null===(o=null===(t=null===(n=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===n?void 0:n.content)||void 0===t?void 0:t.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=null===(a=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null===u||void 0===u?void 0:u.length)?null===(s=null===u||void 0===u?void 0:u[0])||void 0===s?void 0:s.output:void 0}}class be{}class Ce{}class Ee{}class Se{}class Te{}class _e{}class we{}class Ie{}class Ae{}class Oe{}class xe{_fromAPIResponse(e){let{apiResponse:n,isVertexAI:t}=e;const o=new xe;let r;const i=n;return r=t?E(i):b(i),Object.assign(o,r),o}}class ke{}class Ne{}class Pe{}class Re{}class Me{}class De{}class Le{}class Ue{get text(){var e,n,t;let o="",r=!1;const i=[];for(const l of null!==(t=null===(n=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===n?void 0:n.parts)&&void 0!==t?t:[]){for(const[e,n]of Object.entries(l))"text"!==e&&"thought"!==e&&null!==n&&i.push(e);if("string"===typeof l.text){if("boolean"===typeof l.thought&&l.thought)continue;r=!0,o+=l.text}}return i.length>0&&console.warn("there are non-text parts ".concat(i," in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.")),r?o:void 0}get data(){var e,n,t;let o="";const r=[];for(const i of null!==(t=null===(n=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===n?void 0:n.parts)&&void 0!==t?t:[]){for(const[e,n]of Object.entries(i))"inlineData"!==e&&null!==n&&r.push(e);i.inlineData&&"string"===typeof i.inlineData.data&&(o+=atob(i.inlineData.data))}return r.length>0&&console.warn("there are non-data parts ".concat(r," in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.")),o.length>0?btoa(o):void 0}}class je{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}function Fe(e,n){if(!n||"string"!==typeof n)throw new Error("model is required and must be a string");if(e.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const e=n.split("/",2);return"publishers/".concat(e[0],"/models/").concat(e[1])}return"publishers/google/models/".concat(n)}return n.startsWith("models/")||n.startsWith("tunedModels/")?n:"models/".concat(n)}function qe(e,n){const t=Fe(e,n);return t?t.startsWith("publishers/")&&e.isVertexAI()?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(t):t.startsWith("models/")&&e.isVertexAI()?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/publishers/google/").concat(t):t:""}function He(e){return Array.isArray(e)?e.map(e=>Ge(e)):[Ge(e)]}function Ge(e){if("object"===typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: ".concat(typeof e))}function Ve(e){const n=Ge(e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error("Unsupported mime type: ".concat(n.mimeType))}function Be(e){const n=Ge(e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error("Unsupported mime type: ".concat(n.mimeType))}function ze(e){if(null===e||void 0===e)throw new Error("PartUnion is required");if("object"===typeof e)return e;if("string"===typeof e)return{text:e};throw new Error("Unsupported part type: ".concat(typeof e))}function Je(e){if(null===e||void 0===e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>ze(e)):[ze(e)]}function We(e){return null!==e&&void 0!==e&&"object"===typeof e&&"parts"in e&&Array.isArray(e.parts)}function Ye(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionCall"in e}function Ke(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionResponse"in e}function Qe(e){if(null===e||void 0===e)throw new Error("ContentUnion is required");return We(e)?e:{role:"user",parts:Je(e)}}function $e(e,n){if(!n)return[];if(e.isVertexAI()&&Array.isArray(n))return n.flatMap(e=>{const n=Qe(e);return n.parts&&n.parts.length>0&&void 0!==n.parts[0].text?[n.parts[0].text]:[]});if(e.isVertexAI()){const e=Qe(n);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(n)?n.map(e=>Qe(e)):[Qe(n)]}function Xe(e){if(null===e||void 0===e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(Ye(e)||Ke(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qe(e)]}const n=[],t=[],o=We(e[0]);for(const r of e){const e=We(r);if(e!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)n.push(r);else{if(Ye(r)||Ke(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return o||n.push({role:"user",parts:Je(t)}),n}function Ze(e){const n={},t=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(n.nullable=!0,e=i[1]):"null"===i[1].type&&(n.nullable=!0,e=i[0])),e.type instanceof Array&&function(e,n){e.includes("null")&&(n.nullable=!0);const t=e.filter(e=>"null"!==e);if(1===t.length)n.type=Object.values(_).includes(t[0].toUpperCase())?t[0].toUpperCase():_.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const e of t)n.anyOf.push({type:Object.values(_).includes(e.toUpperCase())?e.toUpperCase():_.TYPE_UNSPECIFIED})}}(e.type,n);for(const[l,a]of Object.entries(e))if(null!=a)if("type"==l){if("null"===a)throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;n.type=Object.values(_).includes(a.toUpperCase())?a.toUpperCase():_.TYPE_UNSPECIFIED}else if(t.includes(l))n[l]=Ze(a);else if(o.includes(l)){const e=[];for(const t of a)"null"!=t.type?e.push(Ze(t)):n.nullable=!0;n[l]=e}else if(r.includes(l)){const e={};for(const[n,t]of Object.entries(a))e[n]=Ze(t);n[l]=e}else{if("additionalProperties"===l)continue;n[l]=a}return n}function en(e){return Ze(e)}function nn(e){if("object"===typeof e)return e;if("string"===typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: ".concat(typeof e))}function tn(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function on(e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Ze(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Ze(n.response));return e}function rn(e){if(void 0===e||null===e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const t of e)n.push(t);return n}function ln(e,n){if("string"!==typeof n)throw new Error("name must be a string");return function(e,n,t){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=!n.startsWith("".concat(t,"/"))&&n.split("/").length===o;return e.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?"projects/".concat(e.getProject(),"/").concat(n):n.startsWith("".concat(t,"/"))?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(n):r?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(t,"/").concat(n):n:r?"".concat(t,"/").concat(n):n}(e,n,"cachedContents")}function an(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function sn(e){return y(e)}function un(e){var n;let t;var o;if(null!==(o=e)&&void 0!==o&&"object"===typeof o&&"name"in o&&(t=e.name),(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"uri"in e}(e)||(t=e.uri,void 0!==t))&&(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"video"in e}(e)||(t=null===(n=e.video)||void 0===n?void 0:n.uri,void 0!==t))){if("string"===typeof e&&(t=e),void 0===t)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const e=t.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error("Could not extract file name from URI ".concat(t));t=e[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function cn(e,n){let t;return t=e.isVertexAI()?n?"publishers/google/models":"models":n?"models":"tunedModels",t}function dn(e){for(const n of["models","tunedModels","publisherModels"])if(pn(e,n))return e[n];return[]}function pn(e,n){return null!==e&&"object"===typeof e&&n in e}function fn(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=e,o={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};t.outputSchema&&(o.responseJsonSchema=t.outputSchema),n.behavior&&(o.behavior=n.behavior);return{functionDeclarations:[o]}}function mn(e,n){let t;if("string"===typeof n)if(e.isVertexAI())if(n.startsWith("gs://"))t={format:"jsonl",gcsUri:[n]};else{if(!n.startsWith("bq://"))throw new Error("Unsupported string source for Vertex AI: ".concat(n));t={format:"bigquery",bigqueryUri:n}}else{if(!n.startsWith("files/"))throw new Error("Unsupported string source for Gemini API: ".concat(n));t={fileName:n}}else if(Array.isArray(n)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:n}}else t=n;const o=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||1!==o)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||1!==r)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function hn(e){if("object"!==typeof e||null===e)return{};const n=e,t=n.inlinedResponses;if("object"!==typeof t||null===t)return e;const o=t.inlinedResponses;if(!Array.isArray(o)||0===o.length)return e;let r=!1;for(const i of o){if("object"!==typeof i||null===i)continue;const e=i.response;if("object"!==typeof e||null===e)continue;if(void 0!==e.embedding){r=!0;break}}return r&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),e}function gn(e,n){const t=n;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error("Invalid batch job name: ".concat(t,"."))}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error("Invalid batch job name: ".concat(t,"."))}function yn(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":e}function vn(e){const n={},t=g(e,["videoMetadata"]);null!=t&&h(n,["videoMetadata"],function(e){const n={},t=g(e,["fps"]);null!=t&&h(n,["fps"],t);const o=g(e,["endOffset"]);null!=o&&h(n,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(n,["startOffset"],r),n}(t));const o=g(e,["thought"]);null!=o&&h(n,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(n,["inlineData"],function(e){const n={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const t=g(e,["data"]);null!=t&&h(n,["data"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(r));const i=g(e,["fileData"]);null!=i&&h(n,["fileData"],function(e){const n={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const t=g(e,["fileUri"]);null!=t&&h(n,["fileUri"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(n,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(n,["functionCall"],function(e){const n={},t=g(e,["id"]);null!=t&&h(n,["id"],t);const o=g(e,["args"]);null!=o&&h(n,["args"],o);const r=g(e,["name"]);return null!=r&&h(n,["name"],r),n}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(n,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(n,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(n,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(n,["text"],d),n}function bn(e){const n={},t=g(e,["parts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>vn(e))),h(n,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(n,["role"],o),n}function Cn(e){const n={},t=g(e,["timeRangeFilter"]);if(null!=t&&h(n,["timeRangeFilter"],function(e){const n={},t=g(e,["startTime"]);null!=t&&h(n,["startTime"],t);const o=g(e,["endTime"]);return null!=o&&h(n,["endTime"],o),n}(t)),void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function En(e){const n={},t=g(e,["dynamicRetrievalConfig"]);return null!=t&&h(n,["dynamicRetrievalConfig"],function(e){const n={},t=g(e,["mode"]);null!=t&&h(n,["mode"],t);const o=g(e,["dynamicThreshold"]);return null!=o&&h(n,["dynamicThreshold"],o),n}(t)),n}function Sn(e){const n={},t=g(e,["functionDeclarations"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["behavior"]);null!=t&&h(n,["behavior"],t);const o=g(e,["description"]);null!=o&&h(n,["description"],o);const r=g(e,["name"]);null!=r&&h(n,["name"],r);const i=g(e,["parameters"]);null!=i&&h(n,["parameters"],i);const l=g(e,["parametersJsonSchema"]);null!=l&&h(n,["parametersJsonSchema"],l);const a=g(e,["response"]);null!=a&&h(n,["response"],a);const s=g(e,["responseJsonSchema"]);return null!=s&&h(n,["responseJsonSchema"],s),n}(e))),h(n,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearch"]);null!=o&&h(n,["googleSearch"],Cn(o));const r=g(e,["googleSearchRetrieval"]);if(null!=r&&h(n,["googleSearchRetrieval"],En(r)),void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==g(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=g(e,["urlContext"])&&h(n,["urlContext"],{});const i=g(e,["computerUse"]);null!=i&&h(n,["computerUse"],function(e){const n={},t=g(e,["environment"]);return null!=t&&h(n,["environment"],t),n}(i));const l=g(e,["codeExecution"]);return null!=l&&h(n,["codeExecution"],l),n}function Tn(e){const n={},t=g(e,["latLng"]);null!=t&&h(n,["latLng"],function(e){const n={},t=g(e,["latitude"]);null!=t&&h(n,["latitude"],t);const o=g(e,["longitude"]);return null!=o&&h(n,["longitude"],o),n}(t));const o=g(e,["languageCode"]);return null!=o&&h(n,["languageCode"],o),n}function _n(e){const n={},t=g(e,["functionCallingConfig"]);null!=t&&h(n,["functionCallingConfig"],function(e){const n={},t=g(e,["mode"]);null!=t&&h(n,["mode"],t);const o=g(e,["allowedFunctionNames"]);return null!=o&&h(n,["allowedFunctionNames"],o),n}(t));const o=g(e,["retrievalConfig"]);return null!=o&&h(n,["retrievalConfig"],Tn(o)),n}function wn(e){const n={},t=g(e,["prebuiltVoiceConfig"]);return null!=t&&h(n,["prebuiltVoiceConfig"],function(e){const n={},t=g(e,["voiceName"]);return null!=t&&h(n,["voiceName"],t),n}(t)),n}function In(e){const n={},t=g(e,["speakerVoiceConfigs"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["speaker"]);null!=t&&h(n,["speaker"],t);const o=g(e,["voiceConfig"]);return null!=o&&h(n,["voiceConfig"],wn(o)),n}(e))),h(n,["speakerVoiceConfigs"],e)}return n}function An(e,n,t){const o={},r=g(n,["systemInstruction"]);void 0!==t&&null!=r&&h(t,["systemInstruction"],bn(Qe(r)));const i=g(n,["temperature"]);null!=i&&h(o,["temperature"],i);const l=g(n,["topP"]);null!=l&&h(o,["topP"],l);const a=g(n,["topK"]);null!=a&&h(o,["topK"],a);const s=g(n,["candidateCount"]);null!=s&&h(o,["candidateCount"],s);const u=g(n,["maxOutputTokens"]);null!=u&&h(o,["maxOutputTokens"],u);const c=g(n,["stopSequences"]);null!=c&&h(o,["stopSequences"],c);const d=g(n,["responseLogprobs"]);null!=d&&h(o,["responseLogprobs"],d);const p=g(n,["logprobs"]);null!=p&&h(o,["logprobs"],p);const f=g(n,["presencePenalty"]);null!=f&&h(o,["presencePenalty"],f);const m=g(n,["frequencyPenalty"]);null!=m&&h(o,["frequencyPenalty"],m);const y=g(n,["seed"]);null!=y&&h(o,["seed"],y);const v=g(n,["responseMimeType"]);null!=v&&h(o,["responseMimeType"],v);const b=g(n,["responseSchema"]);null!=b&&h(o,["responseSchema"],function(e){const n={},t=g(e,["anyOf"]);null!=t&&h(n,["anyOf"],t);const o=g(e,["default"]);null!=o&&h(n,["default"],o);const r=g(e,["description"]);null!=r&&h(n,["description"],r);const i=g(e,["enum"]);null!=i&&h(n,["enum"],i);const l=g(e,["example"]);null!=l&&h(n,["example"],l);const a=g(e,["format"]);null!=a&&h(n,["format"],a);const s=g(e,["items"]);null!=s&&h(n,["items"],s);const u=g(e,["maxItems"]);null!=u&&h(n,["maxItems"],u);const c=g(e,["maxLength"]);null!=c&&h(n,["maxLength"],c);const d=g(e,["maxProperties"]);null!=d&&h(n,["maxProperties"],d);const p=g(e,["maximum"]);null!=p&&h(n,["maximum"],p);const f=g(e,["minItems"]);null!=f&&h(n,["minItems"],f);const m=g(e,["minLength"]);null!=m&&h(n,["minLength"],m);const y=g(e,["minProperties"]);null!=y&&h(n,["minProperties"],y);const v=g(e,["minimum"]);null!=v&&h(n,["minimum"],v);const b=g(e,["nullable"]);null!=b&&h(n,["nullable"],b);const C=g(e,["pattern"]);null!=C&&h(n,["pattern"],C);const E=g(e,["properties"]);null!=E&&h(n,["properties"],E);const S=g(e,["propertyOrdering"]);null!=S&&h(n,["propertyOrdering"],S);const T=g(e,["required"]);null!=T&&h(n,["required"],T);const _=g(e,["title"]);null!=_&&h(n,["title"],_);const w=g(e,["type"]);return null!=w&&h(n,["type"],w),n}(en(b)));const C=g(n,["responseJsonSchema"]);if(null!=C&&h(o,["responseJsonSchema"],C),void 0!==g(n,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==g(n,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=g(n,["safetySettings"]);if(void 0!==t&&null!=E){let e=E;Array.isArray(e)&&(e=e.map(e=>function(e){const n={};if(void 0!==g(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const t=g(e,["category"]);null!=t&&h(n,["category"],t);const o=g(e,["threshold"]);return null!=o&&h(n,["threshold"],o),n}(e))),h(t,["safetySettings"],e)}const S=g(n,["tools"]);if(void 0!==t&&null!=S){let e=rn(S);Array.isArray(e)&&(e=e.map(e=>Sn(on(e)))),h(t,["tools"],e)}const T=g(n,["toolConfig"]);if(void 0!==t&&null!=T&&h(t,["toolConfig"],_n(T)),void 0!==g(n,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const _=g(n,["cachedContent"]);void 0!==t&&null!=_&&h(t,["cachedContent"],ln(e,_));const w=g(n,["responseModalities"]);null!=w&&h(o,["responseModalities"],w);const I=g(n,["mediaResolution"]);null!=I&&h(o,["mediaResolution"],I);const A=g(n,["speechConfig"]);if(null!=A&&h(o,["speechConfig"],function(e){const n={},t=g(e,["voiceConfig"]);null!=t&&h(n,["voiceConfig"],wn(t));const o=g(e,["multiSpeakerVoiceConfig"]);null!=o&&h(n,["multiSpeakerVoiceConfig"],In(o));const r=g(e,["languageCode"]);return null!=r&&h(n,["languageCode"],r),n}(nn(A))),void 0!==g(n,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=g(n,["thinkingConfig"]);return null!=O&&h(o,["thinkingConfig"],function(e){const n={},t=g(e,["includeThoughts"]);null!=t&&h(n,["includeThoughts"],t);const o=g(e,["thinkingBudget"]);return null!=o&&h(n,["thinkingBudget"],o),n}(O)),o}function On(e,n){const t={};if(void 0!==g(n,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==g(n,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==g(n,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=g(n,["fileName"]);null!=o&&h(t,["fileName"],o);const r=g(n,["inlinedRequests"]);if(null!=r){let n=r;Array.isArray(n)&&(n=n.map(n=>function(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["request","model"],Fe(e,o));const r=g(n,["contents"]);if(null!=r){let e=Xe(r);Array.isArray(e)&&(e=e.map(e=>bn(e))),h(t,["request","contents"],e)}const i=g(n,["config"]);return null!=i&&h(t,["request","generationConfig"],An(e,i,t)),t}(e,n))),h(t,["requests","requests"],n)}return t}function xn(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["src"]);null!=r&&h(t,["batch","inputConfig"],On(e,mn(e,r)));const i=g(n,["config"]);return null!=i&&h(t,["config"],function(e,n){const t=g(e,["displayName"]);if(void 0!==n&&null!=t&&h(n,["batch","displayName"],t),void 0!==g(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.");return{}}(i,t)),t}function kn(e,n){const t={},o=g(n,["contents"]);null!=o&&h(t,["requests[]","request","content"],$e(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],function(e,n){const t=g(e,["taskType"]);void 0!==n&&null!=t&&h(n,["requests[]","taskType"],t);const o=g(e,["title"]);void 0!==n&&null!=o&&h(n,["requests[]","title"],o);const r=g(e,["outputDimensionality"]);if(void 0!==n&&null!=r&&h(n,["requests[]","outputDimensionality"],r),void 0!==g(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==g(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(r,t)),t}function Nn(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["src"]);null!=r&&h(t,["batch","inputConfig"],function(e,n){const t={},o=g(n,["fileName"]);null!=o&&h(t,["file_name"],o);const r=g(n,["inlinedRequests"]);return null!=r&&h(t,["requests"],kn(e,r)),t}(e,r));const i=g(n,["config"]);return null!=i&&h(t,["config"],function(e,n){const t=g(e,["displayName"]);return void 0!==n&&null!=t&&h(n,["batch","displayName"],t),{}}(i,t)),t}function Pn(e){const n={},t=g(e,["config"]);return null!=t&&h(n,["config"],function(e,n){const t=g(e,["pageSize"]);void 0!==n&&null!=t&&h(n,["_query","pageSize"],t);const o=g(e,["pageToken"]);if(void 0!==n&&null!=o&&h(n,["_query","pageToken"],o),void 0!==g(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.");return{}}(t,n)),n}function Rn(e,n){const t=g(e,["displayName"]);void 0!==n&&null!=t&&h(n,["displayName"],t);const o=g(e,["dest"]);return void 0!==n&&null!=o&&h(n,["outputConfig"],function(e){const n={},t=g(e,["format"]);null!=t&&h(n,["predictionsFormat"],t);const o=g(e,["gcsUri"]);null!=o&&h(n,["gcsDestination","outputUriPrefix"],o);const r=g(e,["bigqueryUri"]);if(null!=r&&h(n,["bigqueryDestination","outputUri"],r),void 0!==g(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==g(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==g(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}(function(e){if("string"!==typeof e)return e;const n=e;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error("Unsupported destination: ".concat(n))}(o))),{}}function Mn(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["model"],Fe(e,o));const r=g(n,["src"]);null!=r&&h(t,["inputConfig"],function(e){const n={},t=g(e,["format"]);null!=t&&h(n,["instancesFormat"],t);const o=g(e,["gcsUri"]);null!=o&&h(n,["gcsSource","uris"],o);const r=g(e,["bigqueryUri"]);if(null!=r&&h(n,["bigquerySource","inputUri"],r),void 0!==g(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==g(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}(mn(e,r)));const i=g(n,["config"]);return null!=i&&h(t,["config"],Rn(i,t)),t}function Dn(e){const n={},t=g(e,["config"]);return null!=t&&h(n,["config"],function(e,n){const t=g(e,["pageSize"]);void 0!==n&&null!=t&&h(n,["_query","pageSize"],t);const o=g(e,["pageToken"]);void 0!==n&&null!=o&&h(n,["_query","pageToken"],o);const r=g(e,["filter"]);return void 0!==n&&null!=r&&h(n,["_query","filter"],r),{}}(t,n)),n}function Ln(e){const n={},t=g(e,["videoMetadata"]);null!=t&&h(n,["videoMetadata"],function(e){const n={},t=g(e,["fps"]);null!=t&&h(n,["fps"],t);const o=g(e,["endOffset"]);null!=o&&h(n,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(n,["startOffset"],r),n}(t));const o=g(e,["thought"]);null!=o&&h(n,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(n,["inlineData"],function(e){const n={},t=g(e,["data"]);null!=t&&h(n,["data"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(r));const i=g(e,["fileData"]);null!=i&&h(n,["fileData"],function(e){const n={},t=g(e,["fileUri"]);null!=t&&h(n,["fileUri"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(n,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(n,["functionCall"],function(e){const n={},t=g(e,["id"]);null!=t&&h(n,["id"],t);const o=g(e,["args"]);null!=o&&h(n,["args"],o);const r=g(e,["name"]);return null!=r&&h(n,["name"],r),n}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(n,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(n,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(n,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(n,["text"],d),n}function Un(e){const n={},t=g(e,["urlMetadata"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["retrievedUrl"]);null!=t&&h(n,["retrievedUrl"],t);const o=g(e,["urlRetrievalStatus"]);return null!=o&&h(n,["urlRetrievalStatus"],o),n}(e))),h(n,["urlMetadata"],e)}return n}function jn(e){const n={},t=g(e,["content"]);null!=t&&h(n,["content"],function(e){const n={},t=g(e,["parts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>Ln(e))),h(n,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(n,["role"],o),n}(t));const o=g(e,["citationMetadata"]);null!=o&&h(n,["citationMetadata"],function(e){const n={},t=g(e,["citationSources"]);return null!=t&&h(n,["citations"],t),n}(o));const r=g(e,["tokenCount"]);null!=r&&h(n,["tokenCount"],r);const i=g(e,["finishReason"]);null!=i&&h(n,["finishReason"],i);const l=g(e,["urlContextMetadata"]);null!=l&&h(n,["urlContextMetadata"],Un(l));const a=g(e,["avgLogprobs"]);null!=a&&h(n,["avgLogprobs"],a);const s=g(e,["groundingMetadata"]);null!=s&&h(n,["groundingMetadata"],s);const u=g(e,["index"]);null!=u&&h(n,["index"],u);const c=g(e,["logprobsResult"]);null!=c&&h(n,["logprobsResult"],c);const d=g(e,["safetyRatings"]);return null!=d&&h(n,["safetyRatings"],d),n}function Fn(e){const n={},t=g(e,["details"]);null!=t&&h(n,["details"],t);const o=g(e,["code"]);null!=o&&h(n,["code"],o);const r=g(e,["message"]);return null!=r&&h(n,["message"],r),n}function qn(e){const n={},t=g(e,["response"]);null!=t&&h(n,["response"],function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["candidates"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>jn(e))),h(n,["candidates"],e)}const r=g(e,["modelVersion"]);null!=r&&h(n,["modelVersion"],r);const i=g(e,["promptFeedback"]);null!=i&&h(n,["promptFeedback"],i);const l=g(e,["responseId"]);null!=l&&h(n,["responseId"],l);const a=g(e,["usageMetadata"]);return null!=a&&h(n,["usageMetadata"],a),n}(t));const o=g(e,["error"]);return null!=o&&h(n,["error"],Fn(o)),n}function Hn(e){const n={},t=g(e,["embedding"]);null!=t&&h(n,["embedding"],function(e){const n={},t=g(e,["values"]);return null!=t&&h(n,["values"],t),n}(t));const o=g(e,["tokenCount"]);return null!=o&&h(n,["tokenCount"],o),n}function Gn(e){const n={},t=g(e,["responsesFile"]);null!=t&&h(n,["fileName"],t);const o=g(e,["inlinedResponses","inlinedResponses"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>qn(e))),h(n,["inlinedResponses"],e)}const r=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["response"]);null!=t&&h(n,["response"],Hn(t));const o=g(e,["error"]);return null!=o&&h(n,["error"],Fn(o)),n}(e))),h(n,["inlinedEmbedContentResponses"],e)}return n}function Vn(e){const n={},t=g(e,["name"]);null!=t&&h(n,["name"],t);const o=g(e,["metadata","displayName"]);null!=o&&h(n,["displayName"],o);const r=g(e,["metadata","state"]);null!=r&&h(n,["state"],yn(r));const i=g(e,["metadata","createTime"]);null!=i&&h(n,["createTime"],i);const l=g(e,["metadata","endTime"]);null!=l&&h(n,["endTime"],l);const a=g(e,["metadata","updateTime"]);null!=a&&h(n,["updateTime"],a);const s=g(e,["metadata","model"]);null!=s&&h(n,["model"],s);const u=g(e,["metadata","output"]);return null!=u&&h(n,["dest"],Gn(hn(u))),n}function Bn(e){const n={},t=g(e,["details"]);null!=t&&h(n,["details"],t);const o=g(e,["code"]);null!=o&&h(n,["code"],o);const r=g(e,["message"]);return null!=r&&h(n,["message"],r),n}function zn(e){const n={},t=g(e,["name"]);null!=t&&h(n,["name"],t);const o=g(e,["displayName"]);null!=o&&h(n,["displayName"],o);const r=g(e,["state"]);null!=r&&h(n,["state"],yn(r));const i=g(e,["error"]);null!=i&&h(n,["error"],Bn(i));const l=g(e,["createTime"]);null!=l&&h(n,["createTime"],l);const a=g(e,["startTime"]);null!=a&&h(n,["startTime"],a);const s=g(e,["endTime"]);null!=s&&h(n,["endTime"],s);const u=g(e,["updateTime"]);null!=u&&h(n,["updateTime"],u);const c=g(e,["model"]);null!=c&&h(n,["model"],c);const d=g(e,["inputConfig"]);null!=d&&h(n,["src"],function(e){const n={},t=g(e,["instancesFormat"]);null!=t&&h(n,["format"],t);const o=g(e,["gcsSource","uris"]);null!=o&&h(n,["gcsUri"],o);const r=g(e,["bigquerySource","inputUri"]);return null!=r&&h(n,["bigqueryUri"],r),n}(d));const p=g(e,["outputConfig"]);return null!=p&&h(n,["dest"],function(e){const n={},t=g(e,["predictionsFormat"]);null!=t&&h(n,["format"],t);const o=g(e,["gcsDestination","outputUriPrefix"]);null!=o&&h(n,["gcsUri"],o);const r=g(e,["bigqueryDestination","outputUri"]);return null!=r&&h(n,["bigqueryUri"],r),n}(hn(p))),n}!function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"}(ge||(ge={}));class Jn{constructor(e,n,t,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,t,o)}init(e,n,t){var o,r;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=null===n||void 0===n?void 0:n.sdkHttpResponse,this.idxInternal=0;let i={config:{}};i=t&&0!==Object.keys(t).length?"object"===typeof t?Object.assign({},t):t:{config:{}},i.config&&(i.config.pageToken=n.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(r=null===(o=i.config)||void 0===o?void 0:o.pageSize)&&void 0!==r?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}class Wn extends f{constructor(e){var n;super(),n=this,this.apiClient=e,this.create=async e=>{var n,t;if(this.apiClient.isVertexAI())return e.config=this.formatDestination(e.src,e.config),this.createInternal(e);const o=e.src;if(!(Array.isArray(e.src)||void 0!==o.inlinedRequests))return this.createInternal(e);const r=this.createInlinedGenerateContentRequest(e),i=r.path,l=r.body,a=xn(this.apiClient,e)._query||{};return this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()).then(e=>Vn(e))},this.createEmbeddings=async e=>{var n,t;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(void 0!==e.src.inlinedRequests))return this.createEmbeddingsInternal(e);const o=this.createInlinedEmbedContentRequest(e),r=o.path,i=o.body,l=Nn(this.apiClient,e)._query||{};return this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()).then(e=>Vn(e))},this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Jn(ge.PAGED_ITEM_BATCH_JOBS,e=>n.listInternal(e),await n.listInternal(e),e)}}createInlinedGenerateContentRequest(e){const n=xn(this.apiClient,e),t=m("{model}:batchGenerateContent",n._url),o=n.batch.inputConfig.requests,r=o.requests,i=[];for(const l of r){const e=Object.assign({},l);if(e.systemInstruction){const n=e.systemInstruction;delete e.systemInstruction;const t=e.request;t.systemInstruction=n,e.request=t}i.push(e)}return o.requests=i,delete n.config,delete n._url,delete n._query,{path:t,body:n}}createInlinedEmbedContentRequest(e){const n=Nn(this.apiClient,e),t=m("{model}:asyncBatchEmbedContent",n._url),o=n.batch.inputConfig.requests,r=o.requests,i=[];delete o.config;for(const l of r){const e=Object.assign({},l),n=e.request;for(const t in e)"request"!==t&&(n[t]=e[t],delete e[t]);i.push(e)}return o.requests=i,delete n.config,delete n._url,delete n._query,{path:t,body:n}}getGcsUri(e){return"string"===typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"===typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,n){const t=n?Object.assign({},n):{},o=Date.now().toString();if(t.displayName||(t.displayName="genaiBatchJob_".concat(o)),void 0===t.dest){const n=this.getGcsUri(e),r=this.getBigqueryUri(e);if(n)n.endsWith(".jsonl")?t.dest="".concat(n.slice(0,-6),"/dest"):t.dest="".concat(n,"_dest_").concat(o);else{if(!r)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");t.dest="".concat(r,"_dest_").concat(o)}}return t}async createInternal(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=Mn(this.apiClient,e);return l=m("batchPredictionJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),i.then(e=>zn(e))}{const n=xn(this.apiClient,e);return l=m("{model}:batchGenerateContent",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>Vn(e))}}async createEmbeddingsInternal(e){var n,t;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Nn(this.apiClient,e);return r=m("{model}:asyncBatchEmbedContent",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),o.then(e=>Vn(e))}}async get(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e,n){const t={},o=g(n,["name"]);null!=o&&h(t,["_url","name"],gn(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],r),t}(this.apiClient,e);return l=m("batchPredictionJobs/{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),i.then(e=>zn(e))}{const n=function(e,n){const t={},o=g(n,["name"]);null!=o&&h(t,["_url","name"],gn(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],r),t}(this.apiClient,e);return l=m("batches/{name}",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>Vn(e))}}async cancel(e){var n,t,o,r;let i="",l={};if(this.apiClient.isVertexAI()){const o=function(e,n){const t={},o=g(n,["name"]);null!=o&&h(t,["_url","name"],gn(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],r),t}(this.apiClient,e);i=m("batchPredictionJobs/{name}:cancel",o._url),l=o._query,delete o.config,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal})}else{const n=function(e,n){const t={},o=g(n,["name"]);null!=o&&h(t,["_url","name"],gn(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],r),t}(this.apiClient,e);i=m("batches/{name}:cancel",n._url),l=n._query,delete n.config,delete n._url,delete n._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal})}}async listInternal(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=Dn(e);return l=m("batchPredictionJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["nextPageToken"]);null!=o&&h(n,["nextPageToken"],o);const r=g(e,["batchPredictionJobs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>zn(e))),h(n,["batchJobs"],e)}return n}(e),t=new Le;return Object.assign(t,n),t})}{const n=Pn(e);return l=m("batches",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["nextPageToken"]);null!=o&&h(n,["nextPageToken"],o);const r=g(e,["operations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Vn(e))),h(n,["batchJobs"],e)}return n}(e),t=new Le;return Object.assign(t,n),t})}}async delete(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e,n){const t={},o=g(n,["name"]);null!=o&&h(t,["_url","name"],gn(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],r),t}(this.apiClient,e);return l=m("batchPredictionJobs/{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["name"]);null!=o&&h(n,["name"],o);const r=g(e,["done"]);null!=r&&h(n,["done"],r);const i=g(e,["error"]);return null!=i&&h(n,["error"],Bn(i)),n}(e))}{const n=function(e,n){const t={},o=g(n,["name"]);null!=o&&h(t,["_url","name"],gn(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],r),t}(this.apiClient,e);return l=m("batches/{name}",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"DELETE",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["name"]);null!=o&&h(n,["name"],o);const r=g(e,["done"]);null!=r&&h(n,["done"],r);const i=g(e,["error"]);return null!=i&&h(n,["error"],Fn(i)),n}(e))}}}function Yn(e){const n={},t=g(e,["videoMetadata"]);null!=t&&h(n,["videoMetadata"],function(e){const n={},t=g(e,["fps"]);null!=t&&h(n,["fps"],t);const o=g(e,["endOffset"]);null!=o&&h(n,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(n,["startOffset"],r),n}(t));const o=g(e,["thought"]);null!=o&&h(n,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(n,["inlineData"],function(e){const n={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const t=g(e,["data"]);null!=t&&h(n,["data"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(r));const i=g(e,["fileData"]);null!=i&&h(n,["fileData"],function(e){const n={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const t=g(e,["fileUri"]);null!=t&&h(n,["fileUri"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(n,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(n,["functionCall"],function(e){const n={},t=g(e,["id"]);null!=t&&h(n,["id"],t);const o=g(e,["args"]);null!=o&&h(n,["args"],o);const r=g(e,["name"]);return null!=r&&h(n,["name"],r),n}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(n,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(n,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(n,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(n,["text"],d),n}function Kn(e){const n={},t=g(e,["parts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>Yn(e))),h(n,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(n,["role"],o),n}function Qn(e){const n={},t=g(e,["timeRangeFilter"]);if(null!=t&&h(n,["timeRangeFilter"],function(e){const n={},t=g(e,["startTime"]);null!=t&&h(n,["startTime"],t);const o=g(e,["endTime"]);return null!=o&&h(n,["endTime"],o),n}(t)),void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function $n(e){const n={},t=g(e,["dynamicRetrievalConfig"]);return null!=t&&h(n,["dynamicRetrievalConfig"],function(e){const n={},t=g(e,["mode"]);null!=t&&h(n,["mode"],t);const o=g(e,["dynamicThreshold"]);return null!=o&&h(n,["dynamicThreshold"],o),n}(t)),n}function Xn(e){const n={},t=g(e,["functionDeclarations"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["behavior"]);null!=t&&h(n,["behavior"],t);const o=g(e,["description"]);null!=o&&h(n,["description"],o);const r=g(e,["name"]);null!=r&&h(n,["name"],r);const i=g(e,["parameters"]);null!=i&&h(n,["parameters"],i);const l=g(e,["parametersJsonSchema"]);null!=l&&h(n,["parametersJsonSchema"],l);const a=g(e,["response"]);null!=a&&h(n,["response"],a);const s=g(e,["responseJsonSchema"]);return null!=s&&h(n,["responseJsonSchema"],s),n}(e))),h(n,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearch"]);null!=o&&h(n,["googleSearch"],Qn(o));const r=g(e,["googleSearchRetrieval"]);if(null!=r&&h(n,["googleSearchRetrieval"],$n(r)),void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==g(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=g(e,["urlContext"])&&h(n,["urlContext"],{});const i=g(e,["computerUse"]);null!=i&&h(n,["computerUse"],function(e){const n={},t=g(e,["environment"]);return null!=t&&h(n,["environment"],t),n}(i));const l=g(e,["codeExecution"]);return null!=l&&h(n,["codeExecution"],l),n}function Zn(e){const n={},t=g(e,["latLng"]);null!=t&&h(n,["latLng"],function(e){const n={},t=g(e,["latitude"]);null!=t&&h(n,["latitude"],t);const o=g(e,["longitude"]);return null!=o&&h(n,["longitude"],o),n}(t));const o=g(e,["languageCode"]);return null!=o&&h(n,["languageCode"],o),n}function et(e){const n={},t=g(e,["functionCallingConfig"]);null!=t&&h(n,["functionCallingConfig"],function(e){const n={},t=g(e,["mode"]);null!=t&&h(n,["mode"],t);const o=g(e,["allowedFunctionNames"]);return null!=o&&h(n,["allowedFunctionNames"],o),n}(t));const o=g(e,["retrievalConfig"]);return null!=o&&h(n,["retrievalConfig"],Zn(o)),n}function nt(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["model"],qe(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],function(e,n){const t=g(e,["ttl"]);void 0!==n&&null!=t&&h(n,["ttl"],t);const o=g(e,["expireTime"]);void 0!==n&&null!=o&&h(n,["expireTime"],o);const r=g(e,["displayName"]);void 0!==n&&null!=r&&h(n,["displayName"],r);const i=g(e,["contents"]);if(void 0!==n&&null!=i){let e=Xe(i);Array.isArray(e)&&(e=e.map(e=>Kn(e))),h(n,["contents"],e)}const l=g(e,["systemInstruction"]);void 0!==n&&null!=l&&h(n,["systemInstruction"],Kn(Qe(l)));const a=g(e,["tools"]);if(void 0!==n&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>Xn(e))),h(n,["tools"],e)}const s=g(e,["toolConfig"]);if(void 0!==n&&null!=s&&h(n,["toolConfig"],et(s)),void 0!==g(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}(r,t)),t}function tt(e,n){const t={},o=g(n,["name"]);null!=o&&h(t,["_url","name"],ln(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],function(e,n){const t=g(e,["ttl"]);void 0!==n&&null!=t&&h(n,["ttl"],t);const o=g(e,["expireTime"]);return void 0!==n&&null!=o&&h(n,["expireTime"],o),{}}(r,t)),t}function ot(e){const n={},t=g(e,["config"]);return null!=t&&h(n,["config"],function(e,n){const t=g(e,["pageSize"]);void 0!==n&&null!=t&&h(n,["_query","pageSize"],t);const o=g(e,["pageToken"]);return void 0!==n&&null!=o&&h(n,["_query","pageToken"],o),{}}(t,n)),n}function rt(e){const n={},t=g(e,["videoMetadata"]);null!=t&&h(n,["videoMetadata"],function(e){const n={},t=g(e,["fps"]);null!=t&&h(n,["fps"],t);const o=g(e,["endOffset"]);null!=o&&h(n,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(n,["startOffset"],r),n}(t));const o=g(e,["thought"]);null!=o&&h(n,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(n,["inlineData"],function(e){const n={},t=g(e,["displayName"]);null!=t&&h(n,["displayName"],t);const o=g(e,["data"]);null!=o&&h(n,["data"],o);const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}(r));const i=g(e,["fileData"]);null!=i&&h(n,["fileData"],function(e){const n={},t=g(e,["displayName"]);null!=t&&h(n,["displayName"],t);const o=g(e,["fileUri"]);null!=o&&h(n,["fileUri"],o);const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(n,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(n,["functionCall"],function(e){const n={},t=g(e,["id"]);null!=t&&h(n,["id"],t);const o=g(e,["args"]);null!=o&&h(n,["args"],o);const r=g(e,["name"]);return null!=r&&h(n,["name"],r),n}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(n,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(n,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(n,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(n,["text"],d),n}function it(e){const n={},t=g(e,["parts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>rt(e))),h(n,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(n,["role"],o),n}function lt(e){const n={},t=g(e,["timeRangeFilter"]);null!=t&&h(n,["timeRangeFilter"],function(e){const n={},t=g(e,["startTime"]);null!=t&&h(n,["startTime"],t);const o=g(e,["endTime"]);return null!=o&&h(n,["endTime"],o),n}(t));const o=g(e,["excludeDomains"]);return null!=o&&h(n,["excludeDomains"],o),n}function at(e){const n={},t=g(e,["dynamicRetrievalConfig"]);return null!=t&&h(n,["dynamicRetrievalConfig"],function(e){const n={},t=g(e,["mode"]);null!=t&&h(n,["mode"],t);const o=g(e,["dynamicThreshold"]);return null!=o&&h(n,["dynamicThreshold"],o),n}(t)),n}function st(e){const n={},t=g(e,["apiKeyConfig"]);null!=t&&h(n,["apiKeyConfig"],function(e){const n={},t=g(e,["apiKeyString"]);return null!=t&&h(n,["apiKeyString"],t),n}(t));const o=g(e,["authType"]);null!=o&&h(n,["authType"],o);const r=g(e,["googleServiceAccountConfig"]);null!=r&&h(n,["googleServiceAccountConfig"],r);const i=g(e,["httpBasicAuthConfig"]);null!=i&&h(n,["httpBasicAuthConfig"],i);const l=g(e,["oauthConfig"]);null!=l&&h(n,["oauthConfig"],l);const a=g(e,["oidcConfig"]);return null!=a&&h(n,["oidcConfig"],a),n}function ut(e){const n={},t=g(e,["functionDeclarations"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={};if(void 0!==g(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const t=g(e,["description"]);null!=t&&h(n,["description"],t);const o=g(e,["name"]);null!=o&&h(n,["name"],o);const r=g(e,["parameters"]);null!=r&&h(n,["parameters"],r);const i=g(e,["parametersJsonSchema"]);null!=i&&h(n,["parametersJsonSchema"],i);const l=g(e,["response"]);null!=l&&h(n,["response"],l);const a=g(e,["responseJsonSchema"]);return null!=a&&h(n,["responseJsonSchema"],a),n}(e))),h(n,["functionDeclarations"],e)}const o=g(e,["retrieval"]);null!=o&&h(n,["retrieval"],o);const r=g(e,["googleSearch"]);null!=r&&h(n,["googleSearch"],lt(r));const i=g(e,["googleSearchRetrieval"]);null!=i&&h(n,["googleSearchRetrieval"],at(i));const l=g(e,["enterpriseWebSearch"]);null!=l&&h(n,["enterpriseWebSearch"],function(e){const n={},t=g(e,["excludeDomains"]);return null!=t&&h(n,["excludeDomains"],t),n}(l));const a=g(e,["googleMaps"]);null!=a&&h(n,["googleMaps"],function(e){const n={},t=g(e,["authConfig"]);return null!=t&&h(n,["authConfig"],st(t)),n}(a));null!=g(e,["urlContext"])&&h(n,["urlContext"],{});const s=g(e,["computerUse"]);null!=s&&h(n,["computerUse"],function(e){const n={},t=g(e,["environment"]);return null!=t&&h(n,["environment"],t),n}(s));const u=g(e,["codeExecution"]);return null!=u&&h(n,["codeExecution"],u),n}function ct(e){const n={},t=g(e,["latLng"]);null!=t&&h(n,["latLng"],function(e){const n={},t=g(e,["latitude"]);null!=t&&h(n,["latitude"],t);const o=g(e,["longitude"]);return null!=o&&h(n,["longitude"],o),n}(t));const o=g(e,["languageCode"]);return null!=o&&h(n,["languageCode"],o),n}function dt(e){const n={},t=g(e,["functionCallingConfig"]);null!=t&&h(n,["functionCallingConfig"],function(e){const n={},t=g(e,["mode"]);null!=t&&h(n,["mode"],t);const o=g(e,["allowedFunctionNames"]);return null!=o&&h(n,["allowedFunctionNames"],o),n}(t));const o=g(e,["retrievalConfig"]);return null!=o&&h(n,["retrievalConfig"],ct(o)),n}function pt(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["model"],qe(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],function(e,n){const t=g(e,["ttl"]);void 0!==n&&null!=t&&h(n,["ttl"],t);const o=g(e,["expireTime"]);void 0!==n&&null!=o&&h(n,["expireTime"],o);const r=g(e,["displayName"]);void 0!==n&&null!=r&&h(n,["displayName"],r);const i=g(e,["contents"]);if(void 0!==n&&null!=i){let e=Xe(i);Array.isArray(e)&&(e=e.map(e=>it(e))),h(n,["contents"],e)}const l=g(e,["systemInstruction"]);void 0!==n&&null!=l&&h(n,["systemInstruction"],it(Qe(l)));const a=g(e,["tools"]);if(void 0!==n&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>ut(e))),h(n,["tools"],e)}const s=g(e,["toolConfig"]);void 0!==n&&null!=s&&h(n,["toolConfig"],dt(s));const u=g(e,["kmsKeyName"]);return void 0!==n&&null!=u&&h(n,["encryption_spec","kmsKeyName"],u),{}}(r,t)),t}function ft(e,n){const t={},o=g(n,["name"]);null!=o&&h(t,["_url","name"],ln(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],function(e,n){const t=g(e,["ttl"]);void 0!==n&&null!=t&&h(n,["ttl"],t);const o=g(e,["expireTime"]);return void 0!==n&&null!=o&&h(n,["expireTime"],o),{}}(r,t)),t}function mt(e){const n={},t=g(e,["config"]);return null!=t&&h(n,["config"],function(e,n){const t=g(e,["pageSize"]);void 0!==n&&null!=t&&h(n,["_query","pageSize"],t);const o=g(e,["pageToken"]);return void 0!==n&&null!=o&&h(n,["_query","pageToken"],o),{}}(t,n)),n}function ht(e){const n={},t=g(e,["name"]);null!=t&&h(n,["name"],t);const o=g(e,["displayName"]);null!=o&&h(n,["displayName"],o);const r=g(e,["model"]);null!=r&&h(n,["model"],r);const i=g(e,["createTime"]);null!=i&&h(n,["createTime"],i);const l=g(e,["updateTime"]);null!=l&&h(n,["updateTime"],l);const a=g(e,["expireTime"]);null!=a&&h(n,["expireTime"],a);const s=g(e,["usageMetadata"]);return null!=s&&h(n,["usageMetadata"],s),n}function gt(e){const n={},t=g(e,["name"]);null!=t&&h(n,["name"],t);const o=g(e,["displayName"]);null!=o&&h(n,["displayName"],o);const r=g(e,["model"]);null!=r&&h(n,["model"],r);const i=g(e,["createTime"]);null!=i&&h(n,["createTime"],i);const l=g(e,["updateTime"]);null!=l&&h(n,["updateTime"],l);const a=g(e,["expireTime"]);null!=a&&h(n,["expireTime"],a);const s=g(e,["usageMetadata"]);return null!=s&&h(n,["usageMetadata"],s),n}class yt extends f{constructor(e){var n;super(),n=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Jn(ge.PAGED_ITEM_CACHED_CONTENTS,e=>n.listInternal(e),await n.listInternal(e),e)}}async create(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=pt(this.apiClient,e);return l=m("cachedContents",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),i.then(e=>gt(e))}{const n=nt(this.apiClient,e);return l=m("cachedContents",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>ht(e))}}async get(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e,n){const t={},o=g(n,["name"]);null!=o&&h(t,["_url","name"],ln(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],r),t}(this.apiClient,e);return l=m("{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),i.then(e=>gt(e))}{const n=function(e,n){const t={},o=g(n,["name"]);null!=o&&h(t,["_url","name"],ln(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],r),t}(this.apiClient,e);return l=m("{name}",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>ht(e))}}async delete(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e,n){const t={},o=g(n,["name"]);null!=o&&h(t,["_url","name"],ln(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],r),t}(this.apiClient,e);return l=m("{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);return null!=t&&h(n,["sdkHttpResponse"],t),n}(e),t=new Ne;return Object.assign(t,n),t})}{const n=function(e,n){const t={},o=g(n,["name"]);null!=o&&h(t,["_url","name"],ln(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],r),t}(this.apiClient,e);return l=m("{name}",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"DELETE",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);return null!=t&&h(n,["sdkHttpResponse"],t),n}(e),t=new Ne;return Object.assign(t,n),t})}}async update(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=ft(this.apiClient,e);return l=m("{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"PATCH",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),i.then(e=>gt(e))}{const n=tt(this.apiClient,e);return l=m("{name}",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"PATCH",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>ht(e))}}async listInternal(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=mt(e);return l=m("cachedContents",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["nextPageToken"]);null!=o&&h(n,["nextPageToken"],o);const r=g(e,["cachedContents"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>gt(e))),h(n,["cachedContents"],e)}return n}(e),t=new Pe;return Object.assign(t,n),t})}{const n=ot(e);return l=m("cachedContents",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["nextPageToken"]);null!=o&&h(n,["nextPageToken"],o);const r=g(e,["cachedContents"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>ht(e))),h(n,["cachedContents"],e)}return n}(e),t=new Pe;return Object.assign(t,n),t})}}}function vt(e){var n="function"===typeof Symbol&&Symbol.iterator,t=n&&e[n],o=0;if(t)return t.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function bt(e){return this instanceof bt?(this.v=e,this):new bt(e)}function Ct(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(e,n||[]),i=[];return o=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function(e){return function(n){return Promise.resolve(n).then(e,u)}}),o[Symbol.asyncIterator]=function(){return this},o;function l(e,n){r[e]&&(o[e]=function(n){return new Promise(function(t,o){i.push([e,n,t,o])>1||a(e,n)})},n&&(o[e]=n(o[e])))}function a(e,n){try{(t=r[e](n)).value instanceof bt?Promise.resolve(t.value.v).then(s,u):c(i[0][2],t)}catch(o){c(i[0][3],o)}var t}function s(e){a("next",e)}function u(e){a("throw",e)}function c(e,n){e(n),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Et(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=vt(e),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(t){n[t]=e[t]&&function(n){return new Promise(function(o,r){(function(e,n,t,o){Promise.resolve(o).then(function(n){e({value:n,done:t})},n)})(o,r,(n=e[t](n)).done,n.value)})}}}function St(e){var n;if(void 0==e.candidates||0===e.candidates.length)return!1;const t=null===(n=e.candidates[0])||void 0===n?void 0:n.content;return void 0!==t&&Tt(t)}function Tt(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const n of e.parts)if(void 0===n||0===Object.keys(n).length)return!1;return!0}function _t(e){if(void 0===e||0===e.length)return[];const n=[],t=e.length;let o=0;for(;o<t;)if("user"===e[o].role)n.push(e[o]),o++;else{const r=[];let i=!0;for(;o<t&&"model"===e[o].role;)r.push(e[o]),i&&!Tt(e[o])&&(i=!1),o++;i?n.push(...r):n.pop()}return n}"function"===typeof SuppressedError&&SuppressedError;class wt{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new It(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class It{constructor(e,n,t){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.apiClient=e,this.modelsModule=n,this.model=t,this.config=o,this.history=r,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const n of e)if("user"!==n.role&&"model"!==n.role)throw new Error("Role must be user or model, but got ".concat(n.role,"."))}(r)}async sendMessage(e){var n;await this.sendPromise;const t=Qe(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(t),config:null!==(n=e.config)&&void 0!==n?n:this.config});return this.sendPromise=(async()=>{var e,n,r;const i=await o,l=null===(n=null===(e=i.candidates)||void 0===e?void 0:e[0])||void 0===n?void 0:n.content,a=i.automaticFunctionCallingHistory,s=this.getHistory(!0).length;let u=[];null!=a&&(u=null!==(r=a.slice(s))&&void 0!==r?r:[]);const c=l?[l]:[];this.recordHistory(t,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const t=Qe(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(t),config:null!==(n=e.config)&&void 0!==n?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const r=await o;return this.processStreamResponse(r,t)}getHistory(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?_t(this.history):this.history;return structuredClone(e)}processStreamResponse(e,n){var t,o;return Ct(this,arguments,function*(){var r,i,l,a;const s=[];try{for(var u,c=!0,d=Et(e);!(r=(u=yield bt(d.next())).done);c=!0){a=u.value,c=!1;const e=a;if(St(e)){const n=null===(o=null===(t=e.candidates)||void 0===t?void 0:t[0])||void 0===o?void 0:o.content;void 0!==n&&s.push(n)}yield yield bt(e)}}catch(p){i={error:p}}finally{try{c||r||!(l=d.return)||(yield bt(l.call(d)))}finally{if(i)throw i.error}}this.recordHistory(n,s)})}recordHistory(e,n,t){let o=[];n.length>0&&n.every(e=>void 0!==e.role)?o=n:o.push({role:"model",parts:[]}),t&&t.length>0?this.history.push(..._t(t)):this.history.push(e),this.history.push(...o)}}class At extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,At.prototype)}}function Ot(e){const n={},t=g(e,["config"]);return null!=t&&h(n,["config"],function(e,n){const t=g(e,["pageSize"]);void 0!==n&&null!=t&&h(n,["_query","pageSize"],t);const o=g(e,["pageToken"]);return void 0!==n&&null!=o&&h(n,["_query","pageToken"],o),{}}(t,n)),n}function xt(e){const n={},t=g(e,["name"]);null!=t&&h(n,["name"],t);const o=g(e,["displayName"]);null!=o&&h(n,["displayName"],o);const r=g(e,["mimeType"]);null!=r&&h(n,["mimeType"],r);const i=g(e,["sizeBytes"]);null!=i&&h(n,["sizeBytes"],i);const l=g(e,["createTime"]);null!=l&&h(n,["createTime"],l);const a=g(e,["expirationTime"]);null!=a&&h(n,["expirationTime"],a);const s=g(e,["updateTime"]);null!=s&&h(n,["updateTime"],s);const u=g(e,["sha256Hash"]);null!=u&&h(n,["sha256Hash"],u);const c=g(e,["uri"]);null!=c&&h(n,["uri"],c);const d=g(e,["downloadUri"]);null!=d&&h(n,["downloadUri"],d);const p=g(e,["state"]);null!=p&&h(n,["state"],p);const f=g(e,["source"]);null!=f&&h(n,["source"],f);const m=g(e,["videoMetadata"]);null!=m&&h(n,["videoMetadata"],m);const y=g(e,["error"]);return null!=y&&h(n,["error"],function(e){const n={},t=g(e,["details"]);null!=t&&h(n,["details"],t);const o=g(e,["message"]);null!=o&&h(n,["message"],o);const r=g(e,["code"]);return null!=r&&h(n,["code"],r),n}(y)),n}function kt(e){const n={},t=g(e,["name"]);null!=t&&h(n,["name"],t);const o=g(e,["displayName"]);null!=o&&h(n,["displayName"],o);const r=g(e,["mimeType"]);null!=r&&h(n,["mimeType"],r);const i=g(e,["sizeBytes"]);null!=i&&h(n,["sizeBytes"],i);const l=g(e,["createTime"]);null!=l&&h(n,["createTime"],l);const a=g(e,["expirationTime"]);null!=a&&h(n,["expirationTime"],a);const s=g(e,["updateTime"]);null!=s&&h(n,["updateTime"],s);const u=g(e,["sha256Hash"]);null!=u&&h(n,["sha256Hash"],u);const c=g(e,["uri"]);null!=c&&h(n,["uri"],c);const d=g(e,["downloadUri"]);null!=d&&h(n,["downloadUri"],d);const p=g(e,["state"]);null!=p&&h(n,["state"],p);const f=g(e,["source"]);null!=f&&h(n,["source"],f);const m=g(e,["videoMetadata"]);null!=m&&h(n,["videoMetadata"],m);const y=g(e,["error"]);return null!=y&&h(n,["error"],function(e){const n={},t=g(e,["details"]);null!=t&&h(n,["details"],t);const o=g(e,["message"]);null!=o&&h(n,["message"],o);const r=g(e,["code"]);return null!=r&&h(n,["code"],r),n}(y)),n}class Nt extends f{constructor(e){var n;super(),n=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Jn(ge.PAGED_ITEM_FILES,e=>n.listInternal(e),await n.listInternal(e),e)}}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>kt(e))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,t;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ot(e);return r=m("files",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),o.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["nextPageToken"]);null!=o&&h(n,["nextPageToken"],o);const r=g(e,["files"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>kt(e))),h(n,["files"],e)}return n}(e),t=new Re;return Object.assign(t,n),t})}}async createInternal(e){var n,t;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const n={},t=g(e,["file"]);null!=t&&h(n,["file"],xt(t));const o=g(e,["config"]);return null!=o&&h(n,["config"],o),n}(e);return r=m("upload/v1beta/files",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),o.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);return null!=t&&h(n,["sdkHttpResponse"],t),n}(e),t=new Me;return Object.assign(t,n),t})}}async get(e){var n,t;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const n={},t=g(e,["name"]);null!=t&&h(n,["_url","file"],un(t));const o=g(e,["config"]);return null!=o&&h(n,["config"],o),n}(e);return r=m("files/{file}",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),o.then(e=>kt(e))}}async delete(e){var n,t;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const n={},t=g(e,["name"]);null!=t&&h(n,["_url","file"],un(t));const o=g(e,["config"]);return null!=o&&h(n,["config"],o),n}(e);return r=m("files/{file}",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),o.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);return null!=t&&h(n,["sdkHttpResponse"],t),n}(e),t=new De;return Object.assign(t,n),t})}}}function Pt(e){const n={},t=g(e,["prebuiltVoiceConfig"]);return null!=t&&h(n,["prebuiltVoiceConfig"],function(e){const n={},t=g(e,["voiceName"]);return null!=t&&h(n,["voiceName"],t),n}(t)),n}function Rt(e){const n={},t=g(e,["speakerVoiceConfigs"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["speaker"]);null!=t&&h(n,["speaker"],t);const o=g(e,["voiceConfig"]);return null!=o&&h(n,["voiceConfig"],Pt(o)),n}(e))),h(n,["speakerVoiceConfigs"],e)}return n}function Mt(e){const n={},t=g(e,["videoMetadata"]);null!=t&&h(n,["videoMetadata"],function(e){const n={},t=g(e,["fps"]);null!=t&&h(n,["fps"],t);const o=g(e,["endOffset"]);null!=o&&h(n,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(n,["startOffset"],r),n}(t));const o=g(e,["thought"]);null!=o&&h(n,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(n,["inlineData"],function(e){const n={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const t=g(e,["data"]);null!=t&&h(n,["data"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(r));const i=g(e,["fileData"]);null!=i&&h(n,["fileData"],function(e){const n={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const t=g(e,["fileUri"]);null!=t&&h(n,["fileUri"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(n,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(n,["functionCall"],function(e){const n={},t=g(e,["id"]);null!=t&&h(n,["id"],t);const o=g(e,["args"]);null!=o&&h(n,["args"],o);const r=g(e,["name"]);return null!=r&&h(n,["name"],r),n}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(n,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(n,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(n,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(n,["text"],d),n}function Dt(e){const n={},t=g(e,["timeRangeFilter"]);if(null!=t&&h(n,["timeRangeFilter"],function(e){const n={},t=g(e,["startTime"]);null!=t&&h(n,["startTime"],t);const o=g(e,["endTime"]);return null!=o&&h(n,["endTime"],o),n}(t)),void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function Lt(e){const n={},t=g(e,["dynamicRetrievalConfig"]);return null!=t&&h(n,["dynamicRetrievalConfig"],function(e){const n={},t=g(e,["mode"]);null!=t&&h(n,["mode"],t);const o=g(e,["dynamicThreshold"]);return null!=o&&h(n,["dynamicThreshold"],o),n}(t)),n}function Ut(e){const n={},t=g(e,["functionDeclarations"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["behavior"]);null!=t&&h(n,["behavior"],t);const o=g(e,["description"]);null!=o&&h(n,["description"],o);const r=g(e,["name"]);null!=r&&h(n,["name"],r);const i=g(e,["parameters"]);null!=i&&h(n,["parameters"],i);const l=g(e,["parametersJsonSchema"]);null!=l&&h(n,["parametersJsonSchema"],l);const a=g(e,["response"]);null!=a&&h(n,["response"],a);const s=g(e,["responseJsonSchema"]);return null!=s&&h(n,["responseJsonSchema"],s),n}(e))),h(n,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearch"]);null!=o&&h(n,["googleSearch"],Dt(o));const r=g(e,["googleSearchRetrieval"]);if(null!=r&&h(n,["googleSearchRetrieval"],Lt(r)),void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==g(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=g(e,["urlContext"])&&h(n,["urlContext"],{});const i=g(e,["computerUse"]);null!=i&&h(n,["computerUse"],function(e){const n={},t=g(e,["environment"]);return null!=t&&h(n,["environment"],t),n}(i));const l=g(e,["codeExecution"]);return null!=l&&h(n,["codeExecution"],l),n}function jt(e){const n={},t=g(e,["automaticActivityDetection"]);null!=t&&h(n,["automaticActivityDetection"],function(e){const n={},t=g(e,["disabled"]);null!=t&&h(n,["disabled"],t);const o=g(e,["startOfSpeechSensitivity"]);null!=o&&h(n,["startOfSpeechSensitivity"],o);const r=g(e,["endOfSpeechSensitivity"]);null!=r&&h(n,["endOfSpeechSensitivity"],r);const i=g(e,["prefixPaddingMs"]);null!=i&&h(n,["prefixPaddingMs"],i);const l=g(e,["silenceDurationMs"]);return null!=l&&h(n,["silenceDurationMs"],l),n}(t));const o=g(e,["activityHandling"]);null!=o&&h(n,["activityHandling"],o);const r=g(e,["turnCoverage"]);return null!=r&&h(n,["turnCoverage"],r),n}function Ft(e){const n={},t=g(e,["triggerTokens"]);null!=t&&h(n,["triggerTokens"],t);const o=g(e,["slidingWindow"]);return null!=o&&h(n,["slidingWindow"],function(e){const n={},t=g(e,["targetTokens"]);return null!=t&&h(n,["targetTokens"],t),n}(o)),n}function qt(e,n){const t=g(e,["generationConfig"]);void 0!==n&&null!=t&&h(n,["setup","generationConfig"],t);const o=g(e,["responseModalities"]);void 0!==n&&null!=o&&h(n,["setup","generationConfig","responseModalities"],o);const r=g(e,["temperature"]);void 0!==n&&null!=r&&h(n,["setup","generationConfig","temperature"],r);const i=g(e,["topP"]);void 0!==n&&null!=i&&h(n,["setup","generationConfig","topP"],i);const l=g(e,["topK"]);void 0!==n&&null!=l&&h(n,["setup","generationConfig","topK"],l);const a=g(e,["maxOutputTokens"]);void 0!==n&&null!=a&&h(n,["setup","generationConfig","maxOutputTokens"],a);const s=g(e,["mediaResolution"]);void 0!==n&&null!=s&&h(n,["setup","generationConfig","mediaResolution"],s);const u=g(e,["seed"]);void 0!==n&&null!=u&&h(n,["setup","generationConfig","seed"],u);const c=g(e,["speechConfig"]);void 0!==n&&null!=c&&h(n,["setup","generationConfig","speechConfig"],function(e){const n={},t=g(e,["voiceConfig"]);null!=t&&h(n,["voiceConfig"],Pt(t));const o=g(e,["multiSpeakerVoiceConfig"]);null!=o&&h(n,["multiSpeakerVoiceConfig"],Rt(o));const r=g(e,["languageCode"]);return null!=r&&h(n,["languageCode"],r),n}(tn(c)));const d=g(e,["enableAffectiveDialog"]);void 0!==n&&null!=d&&h(n,["setup","generationConfig","enableAffectiveDialog"],d);const p=g(e,["systemInstruction"]);void 0!==n&&null!=p&&h(n,["setup","systemInstruction"],function(e){const n={},t=g(e,["parts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>Mt(e))),h(n,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(n,["role"],o),n}(Qe(p)));const f=g(e,["tools"]);if(void 0!==n&&null!=f){let e=rn(f);Array.isArray(e)&&(e=e.map(e=>Ut(on(e)))),h(n,["setup","tools"],e)}const m=g(e,["sessionResumption"]);void 0!==n&&null!=m&&h(n,["setup","sessionResumption"],function(e){const n={},t=g(e,["handle"]);if(null!=t&&h(n,["handle"],t),void 0!==g(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return n}(m));const y=g(e,["inputAudioTranscription"]);void 0!==n&&null!=y&&h(n,["setup","inputAudioTranscription"],{});const v=g(e,["outputAudioTranscription"]);void 0!==n&&null!=v&&h(n,["setup","outputAudioTranscription"],{});const b=g(e,["realtimeInputConfig"]);void 0!==n&&null!=b&&h(n,["setup","realtimeInputConfig"],jt(b));const C=g(e,["contextWindowCompression"]);void 0!==n&&null!=C&&h(n,["setup","contextWindowCompression"],Ft(C));const E=g(e,["proactivity"]);return void 0!==n&&null!=E&&h(n,["setup","proactivity"],function(e){const n={},t=g(e,["proactiveAudio"]);return null!=t&&h(n,["proactiveAudio"],t),n}(E)),{}}function Ht(e){const n={},t=g(e,["media"]);null!=t&&h(n,["mediaChunks"],He(t));const o=g(e,["audio"]);null!=o&&h(n,["audio"],Be(o));const r=g(e,["audioStreamEnd"]);null!=r&&h(n,["audioStreamEnd"],r);const i=g(e,["video"]);null!=i&&h(n,["video"],Ve(i));const l=g(e,["text"]);null!=l&&h(n,["text"],l);null!=g(e,["activityStart"])&&h(n,["activityStart"],{});return null!=g(e,["activityEnd"])&&h(n,["activityEnd"],{}),n}function Gt(e){const n={},t=g(e,["text"]);null!=t&&h(n,["text"],t);const o=g(e,["weight"]);return null!=o&&h(n,["weight"],o),n}function Vt(e){const n={},t=g(e,["temperature"]);null!=t&&h(n,["temperature"],t);const o=g(e,["topK"]);null!=o&&h(n,["topK"],o);const r=g(e,["seed"]);null!=r&&h(n,["seed"],r);const i=g(e,["guidance"]);null!=i&&h(n,["guidance"],i);const l=g(e,["bpm"]);null!=l&&h(n,["bpm"],l);const a=g(e,["density"]);null!=a&&h(n,["density"],a);const s=g(e,["brightness"]);null!=s&&h(n,["brightness"],s);const u=g(e,["scale"]);null!=u&&h(n,["scale"],u);const c=g(e,["muteBass"]);null!=c&&h(n,["muteBass"],c);const d=g(e,["muteDrums"]);null!=d&&h(n,["muteDrums"],d);const p=g(e,["onlyBassAndDrums"]);null!=p&&h(n,["onlyBassAndDrums"],p);const f=g(e,["musicGenerationMode"]);return null!=f&&h(n,["musicGenerationMode"],f),n}function Bt(e){const n={},t=g(e,["model"]);return null!=t&&h(n,["model"],t),n}function zt(e){const n={},t=g(e,["weightedPrompts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>Gt(e))),h(n,["weightedPrompts"],e)}return n}function Jt(e){const n={},t=g(e,["setup"]);null!=t&&h(n,["setup"],Bt(t));const o=g(e,["clientContent"]);null!=o&&h(n,["clientContent"],zt(o));const r=g(e,["musicGenerationConfig"]);null!=r&&h(n,["musicGenerationConfig"],Vt(r));const i=g(e,["playbackControl"]);return null!=i&&h(n,["playbackControl"],i),n}function Wt(e){const n={},t=g(e,["prebuiltVoiceConfig"]);return null!=t&&h(n,["prebuiltVoiceConfig"],function(e){const n={},t=g(e,["voiceName"]);return null!=t&&h(n,["voiceName"],t),n}(t)),n}function Yt(e){const n={},t=g(e,["videoMetadata"]);null!=t&&h(n,["videoMetadata"],function(e){const n={},t=g(e,["fps"]);null!=t&&h(n,["fps"],t);const o=g(e,["endOffset"]);null!=o&&h(n,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(n,["startOffset"],r),n}(t));const o=g(e,["thought"]);null!=o&&h(n,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(n,["inlineData"],function(e){const n={},t=g(e,["displayName"]);null!=t&&h(n,["displayName"],t);const o=g(e,["data"]);null!=o&&h(n,["data"],o);const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}(r));const i=g(e,["fileData"]);null!=i&&h(n,["fileData"],function(e){const n={},t=g(e,["displayName"]);null!=t&&h(n,["displayName"],t);const o=g(e,["fileUri"]);null!=o&&h(n,["fileUri"],o);const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(n,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(n,["functionCall"],function(e){const n={},t=g(e,["id"]);null!=t&&h(n,["id"],t);const o=g(e,["args"]);null!=o&&h(n,["args"],o);const r=g(e,["name"]);return null!=r&&h(n,["name"],r),n}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(n,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(n,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(n,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(n,["text"],d),n}function Kt(e){const n={},t=g(e,["timeRangeFilter"]);null!=t&&h(n,["timeRangeFilter"],function(e){const n={},t=g(e,["startTime"]);null!=t&&h(n,["startTime"],t);const o=g(e,["endTime"]);return null!=o&&h(n,["endTime"],o),n}(t));const o=g(e,["excludeDomains"]);return null!=o&&h(n,["excludeDomains"],o),n}function Qt(e){const n={},t=g(e,["dynamicRetrievalConfig"]);return null!=t&&h(n,["dynamicRetrievalConfig"],function(e){const n={},t=g(e,["mode"]);null!=t&&h(n,["mode"],t);const o=g(e,["dynamicThreshold"]);return null!=o&&h(n,["dynamicThreshold"],o),n}(t)),n}function $t(e){const n={},t=g(e,["apiKeyConfig"]);null!=t&&h(n,["apiKeyConfig"],function(e){const n={},t=g(e,["apiKeyString"]);return null!=t&&h(n,["apiKeyString"],t),n}(t));const o=g(e,["authType"]);null!=o&&h(n,["authType"],o);const r=g(e,["googleServiceAccountConfig"]);null!=r&&h(n,["googleServiceAccountConfig"],r);const i=g(e,["httpBasicAuthConfig"]);null!=i&&h(n,["httpBasicAuthConfig"],i);const l=g(e,["oauthConfig"]);null!=l&&h(n,["oauthConfig"],l);const a=g(e,["oidcConfig"]);return null!=a&&h(n,["oidcConfig"],a),n}function Xt(e){const n={},t=g(e,["functionDeclarations"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={};if(void 0!==g(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const t=g(e,["description"]);null!=t&&h(n,["description"],t);const o=g(e,["name"]);null!=o&&h(n,["name"],o);const r=g(e,["parameters"]);null!=r&&h(n,["parameters"],r);const i=g(e,["parametersJsonSchema"]);null!=i&&h(n,["parametersJsonSchema"],i);const l=g(e,["response"]);null!=l&&h(n,["response"],l);const a=g(e,["responseJsonSchema"]);return null!=a&&h(n,["responseJsonSchema"],a),n}(e))),h(n,["functionDeclarations"],e)}const o=g(e,["retrieval"]);null!=o&&h(n,["retrieval"],o);const r=g(e,["googleSearch"]);null!=r&&h(n,["googleSearch"],Kt(r));const i=g(e,["googleSearchRetrieval"]);null!=i&&h(n,["googleSearchRetrieval"],Qt(i));const l=g(e,["enterpriseWebSearch"]);null!=l&&h(n,["enterpriseWebSearch"],function(e){const n={},t=g(e,["excludeDomains"]);return null!=t&&h(n,["excludeDomains"],t),n}(l));const a=g(e,["googleMaps"]);null!=a&&h(n,["googleMaps"],function(e){const n={},t=g(e,["authConfig"]);return null!=t&&h(n,["authConfig"],$t(t)),n}(a));null!=g(e,["urlContext"])&&h(n,["urlContext"],{});const s=g(e,["computerUse"]);null!=s&&h(n,["computerUse"],function(e){const n={},t=g(e,["environment"]);return null!=t&&h(n,["environment"],t),n}(s));const u=g(e,["codeExecution"]);return null!=u&&h(n,["codeExecution"],u),n}function Zt(e){const n={},t=g(e,["automaticActivityDetection"]);null!=t&&h(n,["automaticActivityDetection"],function(e){const n={},t=g(e,["disabled"]);null!=t&&h(n,["disabled"],t);const o=g(e,["startOfSpeechSensitivity"]);null!=o&&h(n,["startOfSpeechSensitivity"],o);const r=g(e,["endOfSpeechSensitivity"]);null!=r&&h(n,["endOfSpeechSensitivity"],r);const i=g(e,["prefixPaddingMs"]);null!=i&&h(n,["prefixPaddingMs"],i);const l=g(e,["silenceDurationMs"]);return null!=l&&h(n,["silenceDurationMs"],l),n}(t));const o=g(e,["activityHandling"]);null!=o&&h(n,["activityHandling"],o);const r=g(e,["turnCoverage"]);return null!=r&&h(n,["turnCoverage"],r),n}function eo(e){const n={},t=g(e,["triggerTokens"]);null!=t&&h(n,["triggerTokens"],t);const o=g(e,["slidingWindow"]);return null!=o&&h(n,["slidingWindow"],function(e){const n={},t=g(e,["targetTokens"]);return null!=t&&h(n,["targetTokens"],t),n}(o)),n}function no(e,n){const t=g(e,["generationConfig"]);void 0!==n&&null!=t&&h(n,["setup","generationConfig"],t);const o=g(e,["responseModalities"]);void 0!==n&&null!=o&&h(n,["setup","generationConfig","responseModalities"],o);const r=g(e,["temperature"]);void 0!==n&&null!=r&&h(n,["setup","generationConfig","temperature"],r);const i=g(e,["topP"]);void 0!==n&&null!=i&&h(n,["setup","generationConfig","topP"],i);const l=g(e,["topK"]);void 0!==n&&null!=l&&h(n,["setup","generationConfig","topK"],l);const a=g(e,["maxOutputTokens"]);void 0!==n&&null!=a&&h(n,["setup","generationConfig","maxOutputTokens"],a);const s=g(e,["mediaResolution"]);void 0!==n&&null!=s&&h(n,["setup","generationConfig","mediaResolution"],s);const u=g(e,["seed"]);void 0!==n&&null!=u&&h(n,["setup","generationConfig","seed"],u);const c=g(e,["speechConfig"]);void 0!==n&&null!=c&&h(n,["setup","generationConfig","speechConfig"],function(e){const n={},t=g(e,["voiceConfig"]);if(null!=t&&h(n,["voiceConfig"],Wt(t)),void 0!==g(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=g(e,["languageCode"]);return null!=o&&h(n,["languageCode"],o),n}(tn(c)));const d=g(e,["enableAffectiveDialog"]);void 0!==n&&null!=d&&h(n,["setup","generationConfig","enableAffectiveDialog"],d);const p=g(e,["systemInstruction"]);void 0!==n&&null!=p&&h(n,["setup","systemInstruction"],function(e){const n={},t=g(e,["parts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>Yt(e))),h(n,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(n,["role"],o),n}(Qe(p)));const f=g(e,["tools"]);if(void 0!==n&&null!=f){let e=rn(f);Array.isArray(e)&&(e=e.map(e=>Xt(on(e)))),h(n,["setup","tools"],e)}const m=g(e,["sessionResumption"]);void 0!==n&&null!=m&&h(n,["setup","sessionResumption"],function(e){const n={},t=g(e,["handle"]);null!=t&&h(n,["handle"],t);const o=g(e,["transparent"]);return null!=o&&h(n,["transparent"],o),n}(m));const y=g(e,["inputAudioTranscription"]);void 0!==n&&null!=y&&h(n,["setup","inputAudioTranscription"],{});const v=g(e,["outputAudioTranscription"]);void 0!==n&&null!=v&&h(n,["setup","outputAudioTranscription"],{});const b=g(e,["realtimeInputConfig"]);void 0!==n&&null!=b&&h(n,["setup","realtimeInputConfig"],Zt(b));const C=g(e,["contextWindowCompression"]);void 0!==n&&null!=C&&h(n,["setup","contextWindowCompression"],eo(C));const E=g(e,["proactivity"]);return void 0!==n&&null!=E&&h(n,["setup","proactivity"],function(e){const n={},t=g(e,["proactiveAudio"]);return null!=t&&h(n,["proactiveAudio"],t),n}(E)),{}}function to(e){const n={},t=g(e,["media"]);null!=t&&h(n,["mediaChunks"],He(t));const o=g(e,["audio"]);null!=o&&h(n,["audio"],Be(o));const r=g(e,["audioStreamEnd"]);null!=r&&h(n,["audioStreamEnd"],r);const i=g(e,["video"]);null!=i&&h(n,["video"],Ve(i));const l=g(e,["text"]);null!=l&&h(n,["text"],l);null!=g(e,["activityStart"])&&h(n,["activityStart"],{});return null!=g(e,["activityEnd"])&&h(n,["activityEnd"],{}),n}function oo(e){const n={},t=g(e,["id"]);null!=t&&h(n,["id"],t);const o=g(e,["args"]);null!=o&&h(n,["args"],o);const r=g(e,["name"]);return null!=r&&h(n,["name"],r),n}function ro(e){const n={},t=g(e,["videoMetadata"]);null!=t&&h(n,["videoMetadata"],function(e){const n={},t=g(e,["fps"]);null!=t&&h(n,["fps"],t);const o=g(e,["endOffset"]);null!=o&&h(n,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(n,["startOffset"],r),n}(t));const o=g(e,["thought"]);null!=o&&h(n,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(n,["inlineData"],function(e){const n={},t=g(e,["data"]);null!=t&&h(n,["data"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(r));const i=g(e,["fileData"]);null!=i&&h(n,["fileData"],function(e){const n={},t=g(e,["fileUri"]);null!=t&&h(n,["fileUri"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(n,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(n,["functionCall"],oo(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(n,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(n,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(n,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(n,["text"],d),n}function io(e){const n={},t=g(e,["text"]);null!=t&&h(n,["text"],t);const o=g(e,["finished"]);return null!=o&&h(n,["finished"],o),n}function lo(e){const n={},t=g(e,["urlMetadata"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["retrievedUrl"]);null!=t&&h(n,["retrievedUrl"],t);const o=g(e,["urlRetrievalStatus"]);return null!=o&&h(n,["urlRetrievalStatus"],o),n}(e))),h(n,["urlMetadata"],e)}return n}function ao(e){const n={},t=g(e,["modelTurn"]);null!=t&&h(n,["modelTurn"],function(e){const n={},t=g(e,["parts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>ro(e))),h(n,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(n,["role"],o),n}(t));const o=g(e,["turnComplete"]);null!=o&&h(n,["turnComplete"],o);const r=g(e,["interrupted"]);null!=r&&h(n,["interrupted"],r);const i=g(e,["groundingMetadata"]);null!=i&&h(n,["groundingMetadata"],i);const l=g(e,["generationComplete"]);null!=l&&h(n,["generationComplete"],l);const a=g(e,["inputTranscription"]);null!=a&&h(n,["inputTranscription"],io(a));const s=g(e,["outputTranscription"]);null!=s&&h(n,["outputTranscription"],io(s));const u=g(e,["urlContextMetadata"]);null!=u&&h(n,["urlContextMetadata"],lo(u));const c=g(e,["turnCompleteReason"]);null!=c&&h(n,["turnCompleteReason"],c);const d=g(e,["waitingForInput"]);return null!=d&&h(n,["waitingForInput"],d),n}function so(e){const n={},t=g(e,["modality"]);null!=t&&h(n,["modality"],t);const o=g(e,["tokenCount"]);return null!=o&&h(n,["tokenCount"],o),n}function uo(e){const n={};null!=g(e,["setupComplete"])&&h(n,["setupComplete"],{});const t=g(e,["serverContent"]);null!=t&&h(n,["serverContent"],ao(t));const o=g(e,["toolCall"]);null!=o&&h(n,["toolCall"],function(e){const n={},t=g(e,["functionCalls"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>oo(e))),h(n,["functionCalls"],e)}return n}(o));const r=g(e,["toolCallCancellation"]);null!=r&&h(n,["toolCallCancellation"],function(e){const n={},t=g(e,["ids"]);return null!=t&&h(n,["ids"],t),n}(r));const i=g(e,["usageMetadata"]);null!=i&&h(n,["usageMetadata"],function(e){const n={},t=g(e,["promptTokenCount"]);null!=t&&h(n,["promptTokenCount"],t);const o=g(e,["cachedContentTokenCount"]);null!=o&&h(n,["cachedContentTokenCount"],o);const r=g(e,["responseTokenCount"]);null!=r&&h(n,["responseTokenCount"],r);const i=g(e,["toolUsePromptTokenCount"]);null!=i&&h(n,["toolUsePromptTokenCount"],i);const l=g(e,["thoughtsTokenCount"]);null!=l&&h(n,["thoughtsTokenCount"],l);const a=g(e,["totalTokenCount"]);null!=a&&h(n,["totalTokenCount"],a);const s=g(e,["promptTokensDetails"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>so(e))),h(n,["promptTokensDetails"],e)}const u=g(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>so(e))),h(n,["cacheTokensDetails"],e)}const c=g(e,["responseTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>so(e))),h(n,["responseTokensDetails"],e)}const d=g(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>so(e))),h(n,["toolUsePromptTokensDetails"],e)}return n}(i));const l=g(e,["goAway"]);null!=l&&h(n,["goAway"],function(e){const n={},t=g(e,["timeLeft"]);return null!=t&&h(n,["timeLeft"],t),n}(l));const a=g(e,["sessionResumptionUpdate"]);return null!=a&&h(n,["sessionResumptionUpdate"],function(e){const n={},t=g(e,["newHandle"]);null!=t&&h(n,["newHandle"],t);const o=g(e,["resumable"]);null!=o&&h(n,["resumable"],o);const r=g(e,["lastConsumedClientMessageIndex"]);return null!=r&&h(n,["lastConsumedClientMessageIndex"],r),n}(a)),n}function co(e){const n={},t=g(e,["weightedPrompts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["text"]);null!=t&&h(n,["text"],t);const o=g(e,["weight"]);return null!=o&&h(n,["weight"],o),n}(e))),h(n,["weightedPrompts"],e)}return n}function po(e){const n={},t=g(e,["clientContent"]);null!=t&&h(n,["clientContent"],co(t));const o=g(e,["musicGenerationConfig"]);return null!=o&&h(n,["musicGenerationConfig"],function(e){const n={},t=g(e,["temperature"]);null!=t&&h(n,["temperature"],t);const o=g(e,["topK"]);null!=o&&h(n,["topK"],o);const r=g(e,["seed"]);null!=r&&h(n,["seed"],r);const i=g(e,["guidance"]);null!=i&&h(n,["guidance"],i);const l=g(e,["bpm"]);null!=l&&h(n,["bpm"],l);const a=g(e,["density"]);null!=a&&h(n,["density"],a);const s=g(e,["brightness"]);null!=s&&h(n,["brightness"],s);const u=g(e,["scale"]);null!=u&&h(n,["scale"],u);const c=g(e,["muteBass"]);null!=c&&h(n,["muteBass"],c);const d=g(e,["muteDrums"]);null!=d&&h(n,["muteDrums"],d);const p=g(e,["onlyBassAndDrums"]);null!=p&&h(n,["onlyBassAndDrums"],p);const f=g(e,["musicGenerationMode"]);return null!=f&&h(n,["musicGenerationMode"],f),n}(o)),n}function fo(e){const n={},t=g(e,["audioChunks"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["data"]);null!=t&&h(n,["data"],t);const o=g(e,["mimeType"]);null!=o&&h(n,["mimeType"],o);const r=g(e,["sourceMetadata"]);return null!=r&&h(n,["sourceMetadata"],po(r)),n}(e))),h(n,["audioChunks"],e)}return n}function mo(e){const n={};null!=g(e,["setupComplete"])&&h(n,["setupComplete"],{});const t=g(e,["serverContent"]);null!=t&&h(n,["serverContent"],fo(t));const o=g(e,["filteredPrompt"]);return null!=o&&h(n,["filteredPrompt"],function(e){const n={},t=g(e,["text"]);null!=t&&h(n,["text"],t);const o=g(e,["filteredReason"]);return null!=o&&h(n,["filteredReason"],o),n}(o)),n}function ho(e){const n={},t=g(e,["id"]);null!=t&&h(n,["id"],t);const o=g(e,["args"]);null!=o&&h(n,["args"],o);const r=g(e,["name"]);return null!=r&&h(n,["name"],r),n}function go(e){const n={},t=g(e,["videoMetadata"]);null!=t&&h(n,["videoMetadata"],function(e){const n={},t=g(e,["fps"]);null!=t&&h(n,["fps"],t);const o=g(e,["endOffset"]);null!=o&&h(n,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(n,["startOffset"],r),n}(t));const o=g(e,["thought"]);null!=o&&h(n,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(n,["inlineData"],function(e){const n={},t=g(e,["displayName"]);null!=t&&h(n,["displayName"],t);const o=g(e,["data"]);null!=o&&h(n,["data"],o);const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}(r));const i=g(e,["fileData"]);null!=i&&h(n,["fileData"],function(e){const n={},t=g(e,["displayName"]);null!=t&&h(n,["displayName"],t);const o=g(e,["fileUri"]);null!=o&&h(n,["fileUri"],o);const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(n,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(n,["functionCall"],ho(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(n,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(n,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(n,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(n,["text"],d),n}function yo(e){const n={},t=g(e,["text"]);null!=t&&h(n,["text"],t);const o=g(e,["finished"]);return null!=o&&h(n,["finished"],o),n}function vo(e){const n={},t=g(e,["modelTurn"]);null!=t&&h(n,["modelTurn"],function(e){const n={},t=g(e,["parts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>go(e))),h(n,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(n,["role"],o),n}(t));const o=g(e,["turnComplete"]);null!=o&&h(n,["turnComplete"],o);const r=g(e,["interrupted"]);null!=r&&h(n,["interrupted"],r);const i=g(e,["groundingMetadata"]);null!=i&&h(n,["groundingMetadata"],i);const l=g(e,["generationComplete"]);null!=l&&h(n,["generationComplete"],l);const a=g(e,["inputTranscription"]);null!=a&&h(n,["inputTranscription"],yo(a));const s=g(e,["outputTranscription"]);null!=s&&h(n,["outputTranscription"],yo(s));const u=g(e,["turnCompleteReason"]);null!=u&&h(n,["turnCompleteReason"],u);const c=g(e,["waitingForInput"]);return null!=c&&h(n,["waitingForInput"],c),n}function bo(e){const n={},t=g(e,["modality"]);null!=t&&h(n,["modality"],t);const o=g(e,["tokenCount"]);return null!=o&&h(n,["tokenCount"],o),n}function Co(e){const n={},t=g(e,["setupComplete"]);null!=t&&h(n,["setupComplete"],function(e){const n={},t=g(e,["sessionId"]);return null!=t&&h(n,["sessionId"],t),n}(t));const o=g(e,["serverContent"]);null!=o&&h(n,["serverContent"],vo(o));const r=g(e,["toolCall"]);null!=r&&h(n,["toolCall"],function(e){const n={},t=g(e,["functionCalls"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>ho(e))),h(n,["functionCalls"],e)}return n}(r));const i=g(e,["toolCallCancellation"]);null!=i&&h(n,["toolCallCancellation"],function(e){const n={},t=g(e,["ids"]);return null!=t&&h(n,["ids"],t),n}(i));const l=g(e,["usageMetadata"]);null!=l&&h(n,["usageMetadata"],function(e){const n={},t=g(e,["promptTokenCount"]);null!=t&&h(n,["promptTokenCount"],t);const o=g(e,["cachedContentTokenCount"]);null!=o&&h(n,["cachedContentTokenCount"],o);const r=g(e,["candidatesTokenCount"]);null!=r&&h(n,["responseTokenCount"],r);const i=g(e,["toolUsePromptTokenCount"]);null!=i&&h(n,["toolUsePromptTokenCount"],i);const l=g(e,["thoughtsTokenCount"]);null!=l&&h(n,["thoughtsTokenCount"],l);const a=g(e,["totalTokenCount"]);null!=a&&h(n,["totalTokenCount"],a);const s=g(e,["promptTokensDetails"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>bo(e))),h(n,["promptTokensDetails"],e)}const u=g(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>bo(e))),h(n,["cacheTokensDetails"],e)}const c=g(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>bo(e))),h(n,["responseTokensDetails"],e)}const d=g(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>bo(e))),h(n,["toolUsePromptTokensDetails"],e)}const p=g(e,["trafficType"]);return null!=p&&h(n,["trafficType"],p),n}(l));const a=g(e,["goAway"]);null!=a&&h(n,["goAway"],function(e){const n={},t=g(e,["timeLeft"]);return null!=t&&h(n,["timeLeft"],t),n}(a));const s=g(e,["sessionResumptionUpdate"]);return null!=s&&h(n,["sessionResumptionUpdate"],function(e){const n={},t=g(e,["newHandle"]);null!=t&&h(n,["newHandle"],t);const o=g(e,["resumable"]);null!=o&&h(n,["resumable"],o);const r=g(e,["lastConsumedClientMessageIndex"]);return null!=r&&h(n,["lastConsumedClientMessageIndex"],r),n}(s)),n}function Eo(e){const n={},t=g(e,["videoMetadata"]);null!=t&&h(n,["videoMetadata"],function(e){const n={},t=g(e,["fps"]);null!=t&&h(n,["fps"],t);const o=g(e,["endOffset"]);null!=o&&h(n,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(n,["startOffset"],r),n}(t));const o=g(e,["thought"]);null!=o&&h(n,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(n,["inlineData"],function(e){const n={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const t=g(e,["data"]);null!=t&&h(n,["data"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(r));const i=g(e,["fileData"]);null!=i&&h(n,["fileData"],function(e){const n={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const t=g(e,["fileUri"]);null!=t&&h(n,["fileUri"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(n,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(n,["functionCall"],function(e){const n={},t=g(e,["id"]);null!=t&&h(n,["id"],t);const o=g(e,["args"]);null!=o&&h(n,["args"],o);const r=g(e,["name"]);return null!=r&&h(n,["name"],r),n}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(n,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(n,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(n,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(n,["text"],d),n}function So(e){const n={},t=g(e,["parts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>Eo(e))),h(n,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(n,["role"],o),n}function To(e){const n={},t=g(e,["timeRangeFilter"]);if(null!=t&&h(n,["timeRangeFilter"],function(e){const n={},t=g(e,["startTime"]);null!=t&&h(n,["startTime"],t);const o=g(e,["endTime"]);return null!=o&&h(n,["endTime"],o),n}(t)),void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function _o(e){const n={},t=g(e,["dynamicRetrievalConfig"]);return null!=t&&h(n,["dynamicRetrievalConfig"],function(e){const n={},t=g(e,["mode"]);null!=t&&h(n,["mode"],t);const o=g(e,["dynamicThreshold"]);return null!=o&&h(n,["dynamicThreshold"],o),n}(t)),n}function wo(e){const n={},t=g(e,["functionDeclarations"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["behavior"]);null!=t&&h(n,["behavior"],t);const o=g(e,["description"]);null!=o&&h(n,["description"],o);const r=g(e,["name"]);null!=r&&h(n,["name"],r);const i=g(e,["parameters"]);null!=i&&h(n,["parameters"],i);const l=g(e,["parametersJsonSchema"]);null!=l&&h(n,["parametersJsonSchema"],l);const a=g(e,["response"]);null!=a&&h(n,["response"],a);const s=g(e,["responseJsonSchema"]);return null!=s&&h(n,["responseJsonSchema"],s),n}(e))),h(n,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearch"]);null!=o&&h(n,["googleSearch"],To(o));const r=g(e,["googleSearchRetrieval"]);if(null!=r&&h(n,["googleSearchRetrieval"],_o(r)),void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==g(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=g(e,["urlContext"])&&h(n,["urlContext"],{});const i=g(e,["computerUse"]);null!=i&&h(n,["computerUse"],function(e){const n={},t=g(e,["environment"]);return null!=t&&h(n,["environment"],t),n}(i));const l=g(e,["codeExecution"]);return null!=l&&h(n,["codeExecution"],l),n}function Io(e){const n={},t=g(e,["latLng"]);null!=t&&h(n,["latLng"],function(e){const n={},t=g(e,["latitude"]);null!=t&&h(n,["latitude"],t);const o=g(e,["longitude"]);return null!=o&&h(n,["longitude"],o),n}(t));const o=g(e,["languageCode"]);return null!=o&&h(n,["languageCode"],o),n}function Ao(e){const n={},t=g(e,["functionCallingConfig"]);null!=t&&h(n,["functionCallingConfig"],function(e){const n={},t=g(e,["mode"]);null!=t&&h(n,["mode"],t);const o=g(e,["allowedFunctionNames"]);return null!=o&&h(n,["allowedFunctionNames"],o),n}(t));const o=g(e,["retrievalConfig"]);return null!=o&&h(n,["retrievalConfig"],Io(o)),n}function Oo(e){const n={},t=g(e,["prebuiltVoiceConfig"]);return null!=t&&h(n,["prebuiltVoiceConfig"],function(e){const n={},t=g(e,["voiceName"]);return null!=t&&h(n,["voiceName"],t),n}(t)),n}function xo(e){const n={},t=g(e,["speakerVoiceConfigs"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["speaker"]);null!=t&&h(n,["speaker"],t);const o=g(e,["voiceConfig"]);return null!=o&&h(n,["voiceConfig"],Oo(o)),n}(e))),h(n,["speakerVoiceConfigs"],e)}return n}function ko(e,n,t){const o={},r=g(n,["systemInstruction"]);void 0!==t&&null!=r&&h(t,["systemInstruction"],So(Qe(r)));const i=g(n,["temperature"]);null!=i&&h(o,["temperature"],i);const l=g(n,["topP"]);null!=l&&h(o,["topP"],l);const a=g(n,["topK"]);null!=a&&h(o,["topK"],a);const s=g(n,["candidateCount"]);null!=s&&h(o,["candidateCount"],s);const u=g(n,["maxOutputTokens"]);null!=u&&h(o,["maxOutputTokens"],u);const c=g(n,["stopSequences"]);null!=c&&h(o,["stopSequences"],c);const d=g(n,["responseLogprobs"]);null!=d&&h(o,["responseLogprobs"],d);const p=g(n,["logprobs"]);null!=p&&h(o,["logprobs"],p);const f=g(n,["presencePenalty"]);null!=f&&h(o,["presencePenalty"],f);const m=g(n,["frequencyPenalty"]);null!=m&&h(o,["frequencyPenalty"],m);const y=g(n,["seed"]);null!=y&&h(o,["seed"],y);const v=g(n,["responseMimeType"]);null!=v&&h(o,["responseMimeType"],v);const b=g(n,["responseSchema"]);null!=b&&h(o,["responseSchema"],function(e){const n={},t=g(e,["anyOf"]);null!=t&&h(n,["anyOf"],t);const o=g(e,["default"]);null!=o&&h(n,["default"],o);const r=g(e,["description"]);null!=r&&h(n,["description"],r);const i=g(e,["enum"]);null!=i&&h(n,["enum"],i);const l=g(e,["example"]);null!=l&&h(n,["example"],l);const a=g(e,["format"]);null!=a&&h(n,["format"],a);const s=g(e,["items"]);null!=s&&h(n,["items"],s);const u=g(e,["maxItems"]);null!=u&&h(n,["maxItems"],u);const c=g(e,["maxLength"]);null!=c&&h(n,["maxLength"],c);const d=g(e,["maxProperties"]);null!=d&&h(n,["maxProperties"],d);const p=g(e,["maximum"]);null!=p&&h(n,["maximum"],p);const f=g(e,["minItems"]);null!=f&&h(n,["minItems"],f);const m=g(e,["minLength"]);null!=m&&h(n,["minLength"],m);const y=g(e,["minProperties"]);null!=y&&h(n,["minProperties"],y);const v=g(e,["minimum"]);null!=v&&h(n,["minimum"],v);const b=g(e,["nullable"]);null!=b&&h(n,["nullable"],b);const C=g(e,["pattern"]);null!=C&&h(n,["pattern"],C);const E=g(e,["properties"]);null!=E&&h(n,["properties"],E);const S=g(e,["propertyOrdering"]);null!=S&&h(n,["propertyOrdering"],S);const T=g(e,["required"]);null!=T&&h(n,["required"],T);const _=g(e,["title"]);null!=_&&h(n,["title"],_);const w=g(e,["type"]);return null!=w&&h(n,["type"],w),n}(en(b)));const C=g(n,["responseJsonSchema"]);if(null!=C&&h(o,["responseJsonSchema"],C),void 0!==g(n,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==g(n,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=g(n,["safetySettings"]);if(void 0!==t&&null!=E){let e=E;Array.isArray(e)&&(e=e.map(e=>function(e){const n={};if(void 0!==g(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const t=g(e,["category"]);null!=t&&h(n,["category"],t);const o=g(e,["threshold"]);return null!=o&&h(n,["threshold"],o),n}(e))),h(t,["safetySettings"],e)}const S=g(n,["tools"]);if(void 0!==t&&null!=S){let e=rn(S);Array.isArray(e)&&(e=e.map(e=>wo(on(e)))),h(t,["tools"],e)}const T=g(n,["toolConfig"]);if(void 0!==t&&null!=T&&h(t,["toolConfig"],Ao(T)),void 0!==g(n,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const _=g(n,["cachedContent"]);void 0!==t&&null!=_&&h(t,["cachedContent"],ln(e,_));const w=g(n,["responseModalities"]);null!=w&&h(o,["responseModalities"],w);const I=g(n,["mediaResolution"]);null!=I&&h(o,["mediaResolution"],I);const A=g(n,["speechConfig"]);if(null!=A&&h(o,["speechConfig"],function(e){const n={},t=g(e,["voiceConfig"]);null!=t&&h(n,["voiceConfig"],Oo(t));const o=g(e,["multiSpeakerVoiceConfig"]);null!=o&&h(n,["multiSpeakerVoiceConfig"],xo(o));const r=g(e,["languageCode"]);return null!=r&&h(n,["languageCode"],r),n}(nn(A))),void 0!==g(n,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=g(n,["thinkingConfig"]);return null!=O&&h(o,["thinkingConfig"],function(e){const n={},t=g(e,["includeThoughts"]);null!=t&&h(n,["includeThoughts"],t);const o=g(e,["thinkingBudget"]);return null!=o&&h(n,["thinkingBudget"],o),n}(O)),o}function No(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["contents"]);if(null!=r){let e=Xe(r);Array.isArray(e)&&(e=e.map(e=>So(e))),h(t,["contents"],e)}const i=g(n,["config"]);return null!=i&&h(t,["generationConfig"],ko(e,i,t)),t}function Po(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["contents"]);null!=r&&h(t,["requests[]","content"],$e(e,r));const i=g(n,["config"]);null!=i&&h(t,["config"],function(e,n){const t=g(e,["taskType"]);void 0!==n&&null!=t&&h(n,["requests[]","taskType"],t);const o=g(e,["title"]);void 0!==n&&null!=o&&h(n,["requests[]","title"],o);const r=g(e,["outputDimensionality"]);if(void 0!==n&&null!=r&&h(n,["requests[]","outputDimensionality"],r),void 0!==g(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==g(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(i,t));const l=g(n,["model"]);return void 0!==l&&h(t,["requests[]","model"],Fe(e,l)),t}function Ro(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["prompt"]);null!=r&&h(t,["instances[0]","prompt"],r);const i=g(n,["config"]);return null!=i&&h(t,["config"],function(e,n){if(void 0!==g(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==g(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const t=g(e,["numberOfImages"]);void 0!==n&&null!=t&&h(n,["parameters","sampleCount"],t);const o=g(e,["aspectRatio"]);void 0!==n&&null!=o&&h(n,["parameters","aspectRatio"],o);const r=g(e,["guidanceScale"]);if(void 0!==n&&null!=r&&h(n,["parameters","guidanceScale"],r),void 0!==g(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=g(e,["safetyFilterLevel"]);void 0!==n&&null!=i&&h(n,["parameters","safetySetting"],i);const l=g(e,["personGeneration"]);void 0!==n&&null!=l&&h(n,["parameters","personGeneration"],l);const a=g(e,["includeSafetyAttributes"]);void 0!==n&&null!=a&&h(n,["parameters","includeSafetyAttributes"],a);const s=g(e,["includeRaiReason"]);void 0!==n&&null!=s&&h(n,["parameters","includeRaiReason"],s);const u=g(e,["language"]);void 0!==n&&null!=u&&h(n,["parameters","language"],u);const c=g(e,["outputMimeType"]);void 0!==n&&null!=c&&h(n,["parameters","outputOptions","mimeType"],c);const d=g(e,["outputCompressionQuality"]);if(void 0!==n&&null!=d&&h(n,["parameters","outputOptions","compressionQuality"],d),void 0!==g(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");const p=g(e,["imageSize"]);if(void 0!==n&&null!=p&&h(n,["parameters","sampleImageSize"],p),void 0!==g(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.");return{}}(i,t)),t}function Mo(e,n){const t={},o=g(n,["config"]);return null!=o&&h(t,["config"],function(e,n,t){const o=g(n,["pageSize"]);void 0!==t&&null!=o&&h(t,["_query","pageSize"],o);const r=g(n,["pageToken"]);void 0!==t&&null!=r&&h(t,["_query","pageToken"],r);const i=g(n,["filter"]);void 0!==t&&null!=i&&h(t,["_query","filter"],i);const l=g(n,["queryBase"]);return void 0!==t&&null!=l&&h(t,["_url","models_url"],cn(e,l)),{}}(e,o,t)),t}function Do(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","name"],Fe(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],function(e,n){const t=g(e,["displayName"]);void 0!==n&&null!=t&&h(n,["displayName"],t);const o=g(e,["description"]);void 0!==n&&null!=o&&h(n,["description"],o);const r=g(e,["defaultCheckpointId"]);return void 0!==n&&null!=r&&h(n,["defaultCheckpointId"],r),{}}(r,t)),t}function Lo(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["contents"]);if(null!=r){let e=Xe(r);Array.isArray(e)&&(e=e.map(e=>So(e))),h(t,["contents"],e)}const i=g(n,["config"]);return null!=i&&h(t,["config"],function(e){if(void 0!==g(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==g(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==g(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.");return{}}(i)),t}function Uo(e){const n={};if(void 0!==g(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const t=g(e,["imageBytes"]);null!=t&&h(n,["bytesBase64Encoded"],sn(t));const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}function jo(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["prompt"]);null!=r&&h(t,["instances[0]","prompt"],r);const i=g(n,["image"]);if(null!=i&&h(t,["instances[0]","image"],Uo(i)),void 0!==g(n,["video"]))throw new Error("video parameter is not supported in Gemini API.");const l=g(n,["source"]);null!=l&&h(t,["config"],function(e,n){const t=g(e,["prompt"]);void 0!==n&&null!=t&&h(n,["instances[0]","prompt"],t);const o=g(e,["image"]);if(void 0!==n&&null!=o&&h(n,["instances[0]","image"],Uo(o)),void 0!==g(e,["video"]))throw new Error("video parameter is not supported in Gemini API.");return{}}(l,t));const a=g(n,["config"]);return null!=a&&h(t,["config"],function(e,n){const t=g(e,["numberOfVideos"]);if(void 0!==n&&null!=t&&h(n,["parameters","sampleCount"],t),void 0!==g(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==g(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const o=g(e,["durationSeconds"]);if(void 0!==n&&null!=o&&h(n,["parameters","durationSeconds"],o),void 0!==g(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const r=g(e,["aspectRatio"]);void 0!==n&&null!=r&&h(n,["parameters","aspectRatio"],r);const i=g(e,["resolution"]);void 0!==n&&null!=i&&h(n,["parameters","resolution"],i);const l=g(e,["personGeneration"]);if(void 0!==n&&null!=l&&h(n,["parameters","personGeneration"],l),void 0!==g(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=g(e,["negativePrompt"]);void 0!==n&&null!=a&&h(n,["parameters","negativePrompt"],a);const s=g(e,["enhancePrompt"]);if(void 0!==n&&null!=s&&h(n,["parameters","enhancePrompt"],s),void 0!==g(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");if(void 0!==g(e,["lastFrame"]))throw new Error("lastFrame parameter is not supported in Gemini API.");if(void 0!==g(e,["referenceImages"]))throw new Error("referenceImages parameter is not supported in Gemini API.");if(void 0!==g(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==g(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}(a,t)),t}function Fo(e){const n={},t=g(e,["videoMetadata"]);null!=t&&h(n,["videoMetadata"],function(e){const n={},t=g(e,["fps"]);null!=t&&h(n,["fps"],t);const o=g(e,["endOffset"]);null!=o&&h(n,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(n,["startOffset"],r),n}(t));const o=g(e,["thought"]);null!=o&&h(n,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(n,["inlineData"],function(e){const n={},t=g(e,["displayName"]);null!=t&&h(n,["displayName"],t);const o=g(e,["data"]);null!=o&&h(n,["data"],o);const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}(r));const i=g(e,["fileData"]);null!=i&&h(n,["fileData"],function(e){const n={},t=g(e,["displayName"]);null!=t&&h(n,["displayName"],t);const o=g(e,["fileUri"]);null!=o&&h(n,["fileUri"],o);const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(n,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(n,["functionCall"],function(e){const n={},t=g(e,["id"]);null!=t&&h(n,["id"],t);const o=g(e,["args"]);null!=o&&h(n,["args"],o);const r=g(e,["name"]);return null!=r&&h(n,["name"],r),n}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(n,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(n,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(n,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(n,["text"],d),n}function qo(e){const n={},t=g(e,["parts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>Fo(e))),h(n,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(n,["role"],o),n}function Ho(e){const n={},t=g(e,["timeRangeFilter"]);null!=t&&h(n,["timeRangeFilter"],function(e){const n={},t=g(e,["startTime"]);null!=t&&h(n,["startTime"],t);const o=g(e,["endTime"]);return null!=o&&h(n,["endTime"],o),n}(t));const o=g(e,["excludeDomains"]);return null!=o&&h(n,["excludeDomains"],o),n}function Go(e){const n={},t=g(e,["dynamicRetrievalConfig"]);return null!=t&&h(n,["dynamicRetrievalConfig"],function(e){const n={},t=g(e,["mode"]);null!=t&&h(n,["mode"],t);const o=g(e,["dynamicThreshold"]);return null!=o&&h(n,["dynamicThreshold"],o),n}(t)),n}function Vo(e){const n={},t=g(e,["apiKeyConfig"]);null!=t&&h(n,["apiKeyConfig"],function(e){const n={},t=g(e,["apiKeyString"]);return null!=t&&h(n,["apiKeyString"],t),n}(t));const o=g(e,["authType"]);null!=o&&h(n,["authType"],o);const r=g(e,["googleServiceAccountConfig"]);null!=r&&h(n,["googleServiceAccountConfig"],r);const i=g(e,["httpBasicAuthConfig"]);null!=i&&h(n,["httpBasicAuthConfig"],i);const l=g(e,["oauthConfig"]);null!=l&&h(n,["oauthConfig"],l);const a=g(e,["oidcConfig"]);return null!=a&&h(n,["oidcConfig"],a),n}function Bo(e){const n={},t=g(e,["functionDeclarations"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={};if(void 0!==g(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const t=g(e,["description"]);null!=t&&h(n,["description"],t);const o=g(e,["name"]);null!=o&&h(n,["name"],o);const r=g(e,["parameters"]);null!=r&&h(n,["parameters"],r);const i=g(e,["parametersJsonSchema"]);null!=i&&h(n,["parametersJsonSchema"],i);const l=g(e,["response"]);null!=l&&h(n,["response"],l);const a=g(e,["responseJsonSchema"]);return null!=a&&h(n,["responseJsonSchema"],a),n}(e))),h(n,["functionDeclarations"],e)}const o=g(e,["retrieval"]);null!=o&&h(n,["retrieval"],o);const r=g(e,["googleSearch"]);null!=r&&h(n,["googleSearch"],Ho(r));const i=g(e,["googleSearchRetrieval"]);null!=i&&h(n,["googleSearchRetrieval"],Go(i));const l=g(e,["enterpriseWebSearch"]);null!=l&&h(n,["enterpriseWebSearch"],function(e){const n={},t=g(e,["excludeDomains"]);return null!=t&&h(n,["excludeDomains"],t),n}(l));const a=g(e,["googleMaps"]);null!=a&&h(n,["googleMaps"],function(e){const n={},t=g(e,["authConfig"]);return null!=t&&h(n,["authConfig"],Vo(t)),n}(a));null!=g(e,["urlContext"])&&h(n,["urlContext"],{});const s=g(e,["computerUse"]);null!=s&&h(n,["computerUse"],function(e){const n={},t=g(e,["environment"]);return null!=t&&h(n,["environment"],t),n}(s));const u=g(e,["codeExecution"]);return null!=u&&h(n,["codeExecution"],u),n}function zo(e){const n={},t=g(e,["latLng"]);null!=t&&h(n,["latLng"],function(e){const n={},t=g(e,["latitude"]);null!=t&&h(n,["latitude"],t);const o=g(e,["longitude"]);return null!=o&&h(n,["longitude"],o),n}(t));const o=g(e,["languageCode"]);return null!=o&&h(n,["languageCode"],o),n}function Jo(e){const n={},t=g(e,["functionCallingConfig"]);null!=t&&h(n,["functionCallingConfig"],function(e){const n={},t=g(e,["mode"]);null!=t&&h(n,["mode"],t);const o=g(e,["allowedFunctionNames"]);return null!=o&&h(n,["allowedFunctionNames"],o),n}(t));const o=g(e,["retrievalConfig"]);return null!=o&&h(n,["retrievalConfig"],zo(o)),n}function Wo(e){const n={},t=g(e,["prebuiltVoiceConfig"]);return null!=t&&h(n,["prebuiltVoiceConfig"],function(e){const n={},t=g(e,["voiceName"]);return null!=t&&h(n,["voiceName"],t),n}(t)),n}function Yo(e,n,t){const o={},r=g(n,["systemInstruction"]);void 0!==t&&null!=r&&h(t,["systemInstruction"],qo(Qe(r)));const i=g(n,["temperature"]);null!=i&&h(o,["temperature"],i);const l=g(n,["topP"]);null!=l&&h(o,["topP"],l);const a=g(n,["topK"]);null!=a&&h(o,["topK"],a);const s=g(n,["candidateCount"]);null!=s&&h(o,["candidateCount"],s);const u=g(n,["maxOutputTokens"]);null!=u&&h(o,["maxOutputTokens"],u);const c=g(n,["stopSequences"]);null!=c&&h(o,["stopSequences"],c);const d=g(n,["responseLogprobs"]);null!=d&&h(o,["responseLogprobs"],d);const p=g(n,["logprobs"]);null!=p&&h(o,["logprobs"],p);const f=g(n,["presencePenalty"]);null!=f&&h(o,["presencePenalty"],f);const m=g(n,["frequencyPenalty"]);null!=m&&h(o,["frequencyPenalty"],m);const y=g(n,["seed"]);null!=y&&h(o,["seed"],y);const v=g(n,["responseMimeType"]);null!=v&&h(o,["responseMimeType"],v);const b=g(n,["responseSchema"]);null!=b&&h(o,["responseSchema"],function(e){const n={},t=g(e,["anyOf"]);null!=t&&h(n,["anyOf"],t);const o=g(e,["default"]);null!=o&&h(n,["default"],o);const r=g(e,["description"]);null!=r&&h(n,["description"],r);const i=g(e,["enum"]);null!=i&&h(n,["enum"],i);const l=g(e,["example"]);null!=l&&h(n,["example"],l);const a=g(e,["format"]);null!=a&&h(n,["format"],a);const s=g(e,["items"]);null!=s&&h(n,["items"],s);const u=g(e,["maxItems"]);null!=u&&h(n,["maxItems"],u);const c=g(e,["maxLength"]);null!=c&&h(n,["maxLength"],c);const d=g(e,["maxProperties"]);null!=d&&h(n,["maxProperties"],d);const p=g(e,["maximum"]);null!=p&&h(n,["maximum"],p);const f=g(e,["minItems"]);null!=f&&h(n,["minItems"],f);const m=g(e,["minLength"]);null!=m&&h(n,["minLength"],m);const y=g(e,["minProperties"]);null!=y&&h(n,["minProperties"],y);const v=g(e,["minimum"]);null!=v&&h(n,["minimum"],v);const b=g(e,["nullable"]);null!=b&&h(n,["nullable"],b);const C=g(e,["pattern"]);null!=C&&h(n,["pattern"],C);const E=g(e,["properties"]);null!=E&&h(n,["properties"],E);const S=g(e,["propertyOrdering"]);null!=S&&h(n,["propertyOrdering"],S);const T=g(e,["required"]);null!=T&&h(n,["required"],T);const _=g(e,["title"]);null!=_&&h(n,["title"],_);const w=g(e,["type"]);return null!=w&&h(n,["type"],w),n}(en(b)));const C=g(n,["responseJsonSchema"]);null!=C&&h(o,["responseJsonSchema"],C);const E=g(n,["routingConfig"]);null!=E&&h(o,["routingConfig"],E);const S=g(n,["modelSelectionConfig"]);null!=S&&h(o,["modelConfig"],function(e){const n={},t=g(e,["featureSelectionPreference"]);return null!=t&&h(n,["featureSelectionPreference"],t),n}(S));const T=g(n,["safetySettings"]);if(void 0!==t&&null!=T){let e=T;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["method"]);null!=t&&h(n,["method"],t);const o=g(e,["category"]);null!=o&&h(n,["category"],o);const r=g(e,["threshold"]);return null!=r&&h(n,["threshold"],r),n}(e))),h(t,["safetySettings"],e)}const _=g(n,["tools"]);if(void 0!==t&&null!=_){let e=rn(_);Array.isArray(e)&&(e=e.map(e=>Bo(on(e)))),h(t,["tools"],e)}const w=g(n,["toolConfig"]);void 0!==t&&null!=w&&h(t,["toolConfig"],Jo(w));const I=g(n,["labels"]);void 0!==t&&null!=I&&h(t,["labels"],I);const A=g(n,["cachedContent"]);void 0!==t&&null!=A&&h(t,["cachedContent"],ln(e,A));const O=g(n,["responseModalities"]);null!=O&&h(o,["responseModalities"],O);const x=g(n,["mediaResolution"]);null!=x&&h(o,["mediaResolution"],x);const k=g(n,["speechConfig"]);null!=k&&h(o,["speechConfig"],function(e){const n={},t=g(e,["voiceConfig"]);if(null!=t&&h(n,["voiceConfig"],Wo(t)),void 0!==g(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=g(e,["languageCode"]);return null!=o&&h(n,["languageCode"],o),n}(nn(k)));const N=g(n,["audioTimestamp"]);null!=N&&h(o,["audioTimestamp"],N);const P=g(n,["thinkingConfig"]);return null!=P&&h(o,["thinkingConfig"],function(e){const n={},t=g(e,["includeThoughts"]);null!=t&&h(n,["includeThoughts"],t);const o=g(e,["thinkingBudget"]);return null!=o&&h(n,["thinkingBudget"],o),n}(P)),o}function Ko(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["contents"]);if(null!=r){let e=Xe(r);Array.isArray(e)&&(e=e.map(e=>qo(e))),h(t,["contents"],e)}const i=g(n,["config"]);return null!=i&&h(t,["generationConfig"],Yo(e,i,t)),t}function Qo(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["contents"]);null!=r&&h(t,["instances[]","content"],$e(e,r));const i=g(n,["config"]);return null!=i&&h(t,["config"],function(e,n){const t=g(e,["taskType"]);void 0!==n&&null!=t&&h(n,["instances[]","task_type"],t);const o=g(e,["title"]);void 0!==n&&null!=o&&h(n,["instances[]","title"],o);const r=g(e,["outputDimensionality"]);void 0!==n&&null!=r&&h(n,["parameters","outputDimensionality"],r);const i=g(e,["mimeType"]);void 0!==n&&null!=i&&h(n,["instances[]","mimeType"],i);const l=g(e,["autoTruncate"]);return void 0!==n&&null!=l&&h(n,["parameters","autoTruncate"],l),{}}(i,t)),t}function $o(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["prompt"]);null!=r&&h(t,["instances[0]","prompt"],r);const i=g(n,["config"]);return null!=i&&h(t,["config"],function(e,n){const t=g(e,["outputGcsUri"]);void 0!==n&&null!=t&&h(n,["parameters","storageUri"],t);const o=g(e,["negativePrompt"]);void 0!==n&&null!=o&&h(n,["parameters","negativePrompt"],o);const r=g(e,["numberOfImages"]);void 0!==n&&null!=r&&h(n,["parameters","sampleCount"],r);const i=g(e,["aspectRatio"]);void 0!==n&&null!=i&&h(n,["parameters","aspectRatio"],i);const l=g(e,["guidanceScale"]);void 0!==n&&null!=l&&h(n,["parameters","guidanceScale"],l);const a=g(e,["seed"]);void 0!==n&&null!=a&&h(n,["parameters","seed"],a);const s=g(e,["safetyFilterLevel"]);void 0!==n&&null!=s&&h(n,["parameters","safetySetting"],s);const u=g(e,["personGeneration"]);void 0!==n&&null!=u&&h(n,["parameters","personGeneration"],u);const c=g(e,["includeSafetyAttributes"]);void 0!==n&&null!=c&&h(n,["parameters","includeSafetyAttributes"],c);const d=g(e,["includeRaiReason"]);void 0!==n&&null!=d&&h(n,["parameters","includeRaiReason"],d);const p=g(e,["language"]);void 0!==n&&null!=p&&h(n,["parameters","language"],p);const f=g(e,["outputMimeType"]);void 0!==n&&null!=f&&h(n,["parameters","outputOptions","mimeType"],f);const m=g(e,["outputCompressionQuality"]);void 0!==n&&null!=m&&h(n,["parameters","outputOptions","compressionQuality"],m);const y=g(e,["addWatermark"]);void 0!==n&&null!=y&&h(n,["parameters","addWatermark"],y);const v=g(e,["imageSize"]);void 0!==n&&null!=v&&h(n,["parameters","sampleImageSize"],v);const b=g(e,["enhancePrompt"]);return void 0!==n&&null!=b&&h(n,["parameters","enhancePrompt"],b),{}}(i,t)),t}function Xo(e){const n={},t=g(e,["gcsUri"]);null!=t&&h(n,["gcsUri"],t);const o=g(e,["imageBytes"]);null!=o&&h(n,["bytesBase64Encoded"],sn(o));const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}function Zo(e){const n={},t=g(e,["referenceImage"]);null!=t&&h(n,["referenceImage"],Xo(t));const o=g(e,["referenceId"]);null!=o&&h(n,["referenceId"],o);const r=g(e,["referenceType"]);null!=r&&h(n,["referenceType"],r);const i=g(e,["maskImageConfig"]);null!=i&&h(n,["maskImageConfig"],function(e){const n={},t=g(e,["maskMode"]);null!=t&&h(n,["maskMode"],t);const o=g(e,["segmentationClasses"]);null!=o&&h(n,["maskClasses"],o);const r=g(e,["maskDilation"]);return null!=r&&h(n,["dilation"],r),n}(i));const l=g(e,["controlImageConfig"]);null!=l&&h(n,["controlImageConfig"],function(e){const n={},t=g(e,["controlType"]);null!=t&&h(n,["controlType"],t);const o=g(e,["enableControlImageComputation"]);return null!=o&&h(n,["computeControl"],o),n}(l));const a=g(e,["styleImageConfig"]);null!=a&&h(n,["styleImageConfig"],function(e){const n={},t=g(e,["styleDescription"]);return null!=t&&h(n,["styleDescription"],t),n}(a));const s=g(e,["subjectImageConfig"]);return null!=s&&h(n,["subjectImageConfig"],function(e){const n={},t=g(e,["subjectType"]);null!=t&&h(n,["subjectType"],t);const o=g(e,["subjectDescription"]);return null!=o&&h(n,["subjectDescription"],o),n}(s)),n}function er(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["prompt"]);null!=r&&h(t,["instances[0]","prompt"],r);const i=g(n,["referenceImages"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>Zo(e))),h(t,["instances[0]","referenceImages"],e)}const l=g(n,["config"]);return null!=l&&h(t,["config"],function(e,n){const t=g(e,["outputGcsUri"]);void 0!==n&&null!=t&&h(n,["parameters","storageUri"],t);const o=g(e,["negativePrompt"]);void 0!==n&&null!=o&&h(n,["parameters","negativePrompt"],o);const r=g(e,["numberOfImages"]);void 0!==n&&null!=r&&h(n,["parameters","sampleCount"],r);const i=g(e,["aspectRatio"]);void 0!==n&&null!=i&&h(n,["parameters","aspectRatio"],i);const l=g(e,["guidanceScale"]);void 0!==n&&null!=l&&h(n,["parameters","guidanceScale"],l);const a=g(e,["seed"]);void 0!==n&&null!=a&&h(n,["parameters","seed"],a);const s=g(e,["safetyFilterLevel"]);void 0!==n&&null!=s&&h(n,["parameters","safetySetting"],s);const u=g(e,["personGeneration"]);void 0!==n&&null!=u&&h(n,["parameters","personGeneration"],u);const c=g(e,["includeSafetyAttributes"]);void 0!==n&&null!=c&&h(n,["parameters","includeSafetyAttributes"],c);const d=g(e,["includeRaiReason"]);void 0!==n&&null!=d&&h(n,["parameters","includeRaiReason"],d);const p=g(e,["language"]);void 0!==n&&null!=p&&h(n,["parameters","language"],p);const f=g(e,["outputMimeType"]);void 0!==n&&null!=f&&h(n,["parameters","outputOptions","mimeType"],f);const m=g(e,["outputCompressionQuality"]);void 0!==n&&null!=m&&h(n,["parameters","outputOptions","compressionQuality"],m);const y=g(e,["addWatermark"]);void 0!==n&&null!=y&&h(n,["parameters","addWatermark"],y);const v=g(e,["editMode"]);void 0!==n&&null!=v&&h(n,["parameters","editMode"],v);const b=g(e,["baseSteps"]);return void 0!==n&&null!=b&&h(n,["parameters","editConfig","baseSteps"],b),{}}(l,t)),t}function nr(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["image"]);null!=r&&h(t,["instances[0]","image"],Xo(r));const i=g(n,["upscaleFactor"]);null!=i&&h(t,["parameters","upscaleConfig","upscaleFactor"],i);const l=g(n,["config"]);return null!=l&&h(t,["config"],function(e,n){const t=g(e,["outputGcsUri"]);void 0!==n&&null!=t&&h(n,["parameters","storageUri"],t);const o=g(e,["includeRaiReason"]);void 0!==n&&null!=o&&h(n,["parameters","includeRaiReason"],o);const r=g(e,["outputMimeType"]);void 0!==n&&null!=r&&h(n,["parameters","outputOptions","mimeType"],r);const i=g(e,["outputCompressionQuality"]);void 0!==n&&null!=i&&h(n,["parameters","outputOptions","compressionQuality"],i);const l=g(e,["enhanceInputImage"]);void 0!==n&&null!=l&&h(n,["parameters","upscaleConfig","enhanceInputImage"],l);const a=g(e,["imagePreservationFactor"]);void 0!==n&&null!=a&&h(n,["parameters","upscaleConfig","imagePreservationFactor"],a);const s=g(e,["numberOfImages"]);void 0!==n&&null!=s&&h(n,["parameters","sampleCount"],s);const u=g(e,["mode"]);return void 0!==n&&null!=u&&h(n,["parameters","mode"],u),{}}(l,t)),t}function tr(e,n){const t=g(e,["prompt"]);void 0!==n&&null!=t&&h(n,["instances[0]","prompt"],t);const o=g(e,["personImage"]);void 0!==n&&null!=o&&h(n,["instances[0]","personImage","image"],Xo(o));const r=g(e,["productImages"]);if(void 0!==n&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["productImage"]);return null!=t&&h(n,["image"],Xo(t)),n}(e))),h(n,["instances[0]","productImages"],e)}return{}}function or(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["source"]);null!=r&&h(t,["config"],tr(r,t));const i=g(n,["config"]);return null!=i&&h(t,["config"],function(e,n){const t=g(e,["numberOfImages"]);void 0!==n&&null!=t&&h(n,["parameters","sampleCount"],t);const o=g(e,["baseSteps"]);void 0!==n&&null!=o&&h(n,["parameters","editConfig","baseSteps"],o);const r=g(e,["outputGcsUri"]);void 0!==n&&null!=r&&h(n,["parameters","storageUri"],r);const i=g(e,["seed"]);void 0!==n&&null!=i&&h(n,["parameters","seed"],i);const l=g(e,["safetyFilterLevel"]);void 0!==n&&null!=l&&h(n,["parameters","safetySetting"],l);const a=g(e,["personGeneration"]);void 0!==n&&null!=a&&h(n,["parameters","personGeneration"],a);const s=g(e,["addWatermark"]);void 0!==n&&null!=s&&h(n,["parameters","addWatermark"],s);const u=g(e,["outputMimeType"]);void 0!==n&&null!=u&&h(n,["parameters","outputOptions","mimeType"],u);const c=g(e,["outputCompressionQuality"]);void 0!==n&&null!=c&&h(n,["parameters","outputOptions","compressionQuality"],c);const d=g(e,["enhancePrompt"]);return void 0!==n&&null!=d&&h(n,["parameters","enhancePrompt"],d),{}}(i,t)),t}function rr(e,n){const t=g(e,["prompt"]);void 0!==n&&null!=t&&h(n,["instances[0]","prompt"],t);const o=g(e,["image"]);void 0!==n&&null!=o&&h(n,["instances[0]","image"],Xo(o));const r=g(e,["scribbleImage"]);return void 0!==n&&null!=r&&h(n,["instances[0]","scribble"],function(e){const n={},t=g(e,["image"]);return null!=t&&h(n,["image"],Xo(t)),n}(r)),{}}function ir(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["source"]);null!=r&&h(t,["config"],rr(r,t));const i=g(n,["config"]);return null!=i&&h(t,["config"],function(e,n){const t=g(e,["mode"]);void 0!==n&&null!=t&&h(n,["parameters","mode"],t);const o=g(e,["maxPredictions"]);void 0!==n&&null!=o&&h(n,["parameters","maxPredictions"],o);const r=g(e,["confidenceThreshold"]);void 0!==n&&null!=r&&h(n,["parameters","confidenceThreshold"],r);const i=g(e,["maskDilation"]);void 0!==n&&null!=i&&h(n,["parameters","maskDilation"],i);const l=g(e,["binaryColorThreshold"]);return void 0!==n&&null!=l&&h(n,["parameters","binaryColorThreshold"],l),{}}(i,t)),t}function lr(e,n){const t={},o=g(n,["config"]);return null!=o&&h(t,["config"],function(e,n,t){const o=g(n,["pageSize"]);void 0!==t&&null!=o&&h(t,["_query","pageSize"],o);const r=g(n,["pageToken"]);void 0!==t&&null!=r&&h(t,["_query","pageToken"],r);const i=g(n,["filter"]);void 0!==t&&null!=i&&h(t,["_query","filter"],i);const l=g(n,["queryBase"]);return void 0!==t&&null!=l&&h(t,["_url","models_url"],cn(e,l)),{}}(e,o,t)),t}function ar(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],function(e,n){const t=g(e,["displayName"]);void 0!==n&&null!=t&&h(n,["displayName"],t);const o=g(e,["description"]);void 0!==n&&null!=o&&h(n,["description"],o);const r=g(e,["defaultCheckpointId"]);return void 0!==n&&null!=r&&h(n,["defaultCheckpointId"],r),{}}(r,t)),t}function sr(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["contents"]);if(null!=r){let e=Xe(r);Array.isArray(e)&&(e=e.map(e=>qo(e))),h(t,["contents"],e)}const i=g(n,["config"]);return null!=i&&h(t,["config"],function(e,n){const t=g(e,["systemInstruction"]);void 0!==n&&null!=t&&h(n,["systemInstruction"],qo(Qe(t)));const o=g(e,["tools"]);if(void 0!==n&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Bo(e))),h(n,["tools"],e)}const r=g(e,["generationConfig"]);return void 0!==n&&null!=r&&h(n,["generationConfig"],r),{}}(i,t)),t}function ur(e){const n={},t=g(e,["uri"]);null!=t&&h(n,["gcsUri"],t);const o=g(e,["videoBytes"]);null!=o&&h(n,["bytesBase64Encoded"],sn(o));const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}function cr(e,n){const t=g(e,["numberOfVideos"]);void 0!==n&&null!=t&&h(n,["parameters","sampleCount"],t);const o=g(e,["outputGcsUri"]);void 0!==n&&null!=o&&h(n,["parameters","storageUri"],o);const r=g(e,["fps"]);void 0!==n&&null!=r&&h(n,["parameters","fps"],r);const i=g(e,["durationSeconds"]);void 0!==n&&null!=i&&h(n,["parameters","durationSeconds"],i);const l=g(e,["seed"]);void 0!==n&&null!=l&&h(n,["parameters","seed"],l);const a=g(e,["aspectRatio"]);void 0!==n&&null!=a&&h(n,["parameters","aspectRatio"],a);const s=g(e,["resolution"]);void 0!==n&&null!=s&&h(n,["parameters","resolution"],s);const u=g(e,["personGeneration"]);void 0!==n&&null!=u&&h(n,["parameters","personGeneration"],u);const c=g(e,["pubsubTopic"]);void 0!==n&&null!=c&&h(n,["parameters","pubsubTopic"],c);const d=g(e,["negativePrompt"]);void 0!==n&&null!=d&&h(n,["parameters","negativePrompt"],d);const p=g(e,["enhancePrompt"]);void 0!==n&&null!=p&&h(n,["parameters","enhancePrompt"],p);const f=g(e,["generateAudio"]);void 0!==n&&null!=f&&h(n,["parameters","generateAudio"],f);const m=g(e,["lastFrame"]);void 0!==n&&null!=m&&h(n,["instances[0]","lastFrame"],Xo(m));const y=g(e,["referenceImages"]);if(void 0!==n&&null!=y){let e=y;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["image"]);null!=t&&h(n,["image"],Xo(t));const o=g(e,["referenceType"]);return null!=o&&h(n,["referenceType"],o),n}(e))),h(n,["instances[0]","referenceImages"],e)}const v=g(e,["mask"]);void 0!==n&&null!=v&&h(n,["instances[0]","mask"],function(e){const n={},t=g(e,["image"]);null!=t&&h(n,["_self"],Xo(t));const o=g(e,["maskMode"]);return null!=o&&h(n,["maskMode"],o),n}(v));const b=g(e,["compressionQuality"]);return void 0!==n&&null!=b&&h(n,["parameters","compressionQuality"],b),{}}function dr(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["prompt"]);null!=r&&h(t,["instances[0]","prompt"],r);const i=g(n,["image"]);null!=i&&h(t,["instances[0]","image"],Xo(i));const l=g(n,["video"]);null!=l&&h(t,["instances[0]","video"],ur(l));const a=g(n,["source"]);null!=a&&h(t,["config"],function(e,n){const t=g(e,["prompt"]);void 0!==n&&null!=t&&h(n,["instances[0]","prompt"],t);const o=g(e,["image"]);void 0!==n&&null!=o&&h(n,["instances[0]","image"],Xo(o));const r=g(e,["video"]);return void 0!==n&&null!=r&&h(n,["instances[0]","video"],ur(r)),{}}(a,t));const s=g(n,["config"]);return null!=s&&h(t,["config"],cr(s,t)),t}function pr(e){const n={},t=g(e,["videoMetadata"]);null!=t&&h(n,["videoMetadata"],function(e){const n={},t=g(e,["fps"]);null!=t&&h(n,["fps"],t);const o=g(e,["endOffset"]);null!=o&&h(n,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(n,["startOffset"],r),n}(t));const o=g(e,["thought"]);null!=o&&h(n,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(n,["inlineData"],function(e){const n={},t=g(e,["data"]);null!=t&&h(n,["data"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(r));const i=g(e,["fileData"]);null!=i&&h(n,["fileData"],function(e){const n={},t=g(e,["fileUri"]);null!=t&&h(n,["fileUri"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(n,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(n,["functionCall"],function(e){const n={},t=g(e,["id"]);null!=t&&h(n,["id"],t);const o=g(e,["args"]);null!=o&&h(n,["args"],o);const r=g(e,["name"]);return null!=r&&h(n,["name"],r),n}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(n,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(n,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(n,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(n,["text"],d),n}function fr(e){const n={},t=g(e,["urlMetadata"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["retrievedUrl"]);null!=t&&h(n,["retrievedUrl"],t);const o=g(e,["urlRetrievalStatus"]);return null!=o&&h(n,["urlRetrievalStatus"],o),n}(e))),h(n,["urlMetadata"],e)}return n}function mr(e){const n={},t=g(e,["content"]);null!=t&&h(n,["content"],function(e){const n={},t=g(e,["parts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>pr(e))),h(n,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(n,["role"],o),n}(t));const o=g(e,["citationMetadata"]);null!=o&&h(n,["citationMetadata"],function(e){const n={},t=g(e,["citationSources"]);return null!=t&&h(n,["citations"],t),n}(o));const r=g(e,["tokenCount"]);null!=r&&h(n,["tokenCount"],r);const i=g(e,["finishReason"]);null!=i&&h(n,["finishReason"],i);const l=g(e,["urlContextMetadata"]);null!=l&&h(n,["urlContextMetadata"],fr(l));const a=g(e,["avgLogprobs"]);null!=a&&h(n,["avgLogprobs"],a);const s=g(e,["groundingMetadata"]);null!=s&&h(n,["groundingMetadata"],s);const u=g(e,["index"]);null!=u&&h(n,["index"],u);const c=g(e,["logprobsResult"]);null!=c&&h(n,["logprobsResult"],c);const d=g(e,["safetyRatings"]);return null!=d&&h(n,["safetyRatings"],d),n}function hr(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["candidates"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>mr(e))),h(n,["candidates"],e)}const r=g(e,["modelVersion"]);null!=r&&h(n,["modelVersion"],r);const i=g(e,["promptFeedback"]);null!=i&&h(n,["promptFeedback"],i);const l=g(e,["responseId"]);null!=l&&h(n,["responseId"],l);const a=g(e,["usageMetadata"]);return null!=a&&h(n,["usageMetadata"],a),n}function gr(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["embeddings"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["values"]);return null!=t&&h(n,["values"],t),n}(e))),h(n,["embeddings"],e)}return null!=g(e,["metadata"])&&h(n,["metadata"],{}),n}function yr(e){const n={},t=g(e,["safetyAttributes","categories"]);null!=t&&h(n,["categories"],t);const o=g(e,["safetyAttributes","scores"]);null!=o&&h(n,["scores"],o);const r=g(e,["contentType"]);return null!=r&&h(n,["contentType"],r),n}function vr(e){const n={},t=g(e,["_self"]);null!=t&&h(n,["image"],function(e){const n={},t=g(e,["bytesBase64Encoded"]);null!=t&&h(n,["imageBytes"],sn(t));const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(t));const o=g(e,["raiFilteredReason"]);null!=o&&h(n,["raiFilteredReason"],o);const r=g(e,["_self"]);return null!=r&&h(n,["safetyAttributes"],yr(r)),n}function br(e){const n={},t=g(e,["name"]);null!=t&&h(n,["name"],t);const o=g(e,["displayName"]);null!=o&&h(n,["displayName"],o);const r=g(e,["description"]);null!=r&&h(n,["description"],r);const i=g(e,["version"]);null!=i&&h(n,["version"],i);const l=g(e,["_self"]);null!=l&&h(n,["tunedModelInfo"],function(e){const n={},t=g(e,["baseModel"]);null!=t&&h(n,["baseModel"],t);const o=g(e,["createTime"]);null!=o&&h(n,["createTime"],o);const r=g(e,["updateTime"]);return null!=r&&h(n,["updateTime"],r),n}(l));const a=g(e,["inputTokenLimit"]);null!=a&&h(n,["inputTokenLimit"],a);const s=g(e,["outputTokenLimit"]);null!=s&&h(n,["outputTokenLimit"],s);const u=g(e,["supportedGenerationMethods"]);return null!=u&&h(n,["supportedActions"],u),n}function Cr(e){const n={},t=g(e,["_self"]);return null!=t&&h(n,["video"],function(e){const n={},t=g(e,["video","uri"]);null!=t&&h(n,["uri"],t);const o=g(e,["video","encodedVideo"]);null!=o&&h(n,["videoBytes"],sn(o));const r=g(e,["encoding"]);return null!=r&&h(n,["mimeType"],r),n}(t)),n}function Er(e){const n={},t=g(e,["name"]);null!=t&&h(n,["name"],t);const o=g(e,["metadata"]);null!=o&&h(n,["metadata"],o);const r=g(e,["done"]);null!=r&&h(n,["done"],r);const i=g(e,["error"]);null!=i&&h(n,["error"],i);const l=g(e,["response","generateVideoResponse"]);return null!=l&&h(n,["response"],function(e){const n={},t=g(e,["generatedSamples"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>Cr(e))),h(n,["generatedVideos"],e)}const o=g(e,["raiMediaFilteredCount"]);null!=o&&h(n,["raiMediaFilteredCount"],o);const r=g(e,["raiMediaFilteredReasons"]);return null!=r&&h(n,["raiMediaFilteredReasons"],r),n}(l)),n}function Sr(e){const n={},t=g(e,["videoMetadata"]);null!=t&&h(n,["videoMetadata"],function(e){const n={},t=g(e,["fps"]);null!=t&&h(n,["fps"],t);const o=g(e,["endOffset"]);null!=o&&h(n,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(n,["startOffset"],r),n}(t));const o=g(e,["thought"]);null!=o&&h(n,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(n,["inlineData"],function(e){const n={},t=g(e,["displayName"]);null!=t&&h(n,["displayName"],t);const o=g(e,["data"]);null!=o&&h(n,["data"],o);const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}(r));const i=g(e,["fileData"]);null!=i&&h(n,["fileData"],function(e){const n={},t=g(e,["displayName"]);null!=t&&h(n,["displayName"],t);const o=g(e,["fileUri"]);null!=o&&h(n,["fileUri"],o);const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(n,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(n,["functionCall"],function(e){const n={},t=g(e,["id"]);null!=t&&h(n,["id"],t);const o=g(e,["args"]);null!=o&&h(n,["args"],o);const r=g(e,["name"]);return null!=r&&h(n,["name"],r),n}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(n,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(n,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(n,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(n,["text"],d),n}function Tr(e){const n={},t=g(e,["urlMetadata"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["retrievedUrl"]);null!=t&&h(n,["retrievedUrl"],t);const o=g(e,["urlRetrievalStatus"]);return null!=o&&h(n,["urlRetrievalStatus"],o),n}(e))),h(n,["urlMetadata"],e)}return n}function _r(e){const n={},t=g(e,["content"]);null!=t&&h(n,["content"],function(e){const n={},t=g(e,["parts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>Sr(e))),h(n,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(n,["role"],o),n}(t));const o=g(e,["citationMetadata"]);null!=o&&h(n,["citationMetadata"],function(e){const n={},t=g(e,["citations"]);return null!=t&&h(n,["citations"],t),n}(o));const r=g(e,["finishMessage"]);null!=r&&h(n,["finishMessage"],r);const i=g(e,["finishReason"]);null!=i&&h(n,["finishReason"],i);const l=g(e,["urlContextMetadata"]);null!=l&&h(n,["urlContextMetadata"],Tr(l));const a=g(e,["avgLogprobs"]);null!=a&&h(n,["avgLogprobs"],a);const s=g(e,["groundingMetadata"]);null!=s&&h(n,["groundingMetadata"],s);const u=g(e,["index"]);null!=u&&h(n,["index"],u);const c=g(e,["logprobsResult"]);null!=c&&h(n,["logprobsResult"],c);const d=g(e,["safetyRatings"]);return null!=d&&h(n,["safetyRatings"],d),n}function wr(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["candidates"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>_r(e))),h(n,["candidates"],e)}const r=g(e,["createTime"]);null!=r&&h(n,["createTime"],r);const i=g(e,["modelVersion"]);null!=i&&h(n,["modelVersion"],i);const l=g(e,["promptFeedback"]);null!=l&&h(n,["promptFeedback"],l);const a=g(e,["responseId"]);null!=a&&h(n,["responseId"],a);const s=g(e,["usageMetadata"]);return null!=s&&h(n,["usageMetadata"],s),n}function Ir(e){const n={},t=g(e,["values"]);null!=t&&h(n,["values"],t);const o=g(e,["statistics"]);return null!=o&&h(n,["statistics"],function(e){const n={},t=g(e,["truncated"]);null!=t&&h(n,["truncated"],t);const o=g(e,["token_count"]);return null!=o&&h(n,["tokenCount"],o),n}(o)),n}function Ar(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["predictions[]","embeddings"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Ir(e))),h(n,["embeddings"],e)}const r=g(e,["metadata"]);return null!=r&&h(n,["metadata"],function(e){const n={},t=g(e,["billableCharacterCount"]);return null!=t&&h(n,["billableCharacterCount"],t),n}(r)),n}function Or(e){const n={},t=g(e,["gcsUri"]);null!=t&&h(n,["gcsUri"],t);const o=g(e,["bytesBase64Encoded"]);null!=o&&h(n,["imageBytes"],sn(o));const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}function xr(e){const n={},t=g(e,["safetyAttributes","categories"]);null!=t&&h(n,["categories"],t);const o=g(e,["safetyAttributes","scores"]);null!=o&&h(n,["scores"],o);const r=g(e,["contentType"]);return null!=r&&h(n,["contentType"],r),n}function kr(e){const n={},t=g(e,["_self"]);null!=t&&h(n,["image"],Or(t));const o=g(e,["raiFilteredReason"]);null!=o&&h(n,["raiFilteredReason"],o);const r=g(e,["_self"]);null!=r&&h(n,["safetyAttributes"],xr(r));const i=g(e,["prompt"]);return null!=i&&h(n,["enhancedPrompt"],i),n}function Nr(e){const n={},t=g(e,["_self"]);null!=t&&h(n,["mask"],Or(t));const o=g(e,["labels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["label"]);null!=t&&h(n,["label"],t);const o=g(e,["score"]);return null!=o&&h(n,["score"],o),n}(e))),h(n,["labels"],e)}return n}function Pr(e){const n={},t=g(e,["name"]);null!=t&&h(n,["name"],t);const o=g(e,["displayName"]);null!=o&&h(n,["displayName"],o);const r=g(e,["description"]);null!=r&&h(n,["description"],r);const i=g(e,["versionId"]);null!=i&&h(n,["version"],i);const l=g(e,["deployedModels"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["endpoint"]);null!=t&&h(n,["name"],t);const o=g(e,["deployedModelId"]);return null!=o&&h(n,["deployedModelId"],o),n}(e))),h(n,["endpoints"],e)}const a=g(e,["labels"]);null!=a&&h(n,["labels"],a);const s=g(e,["_self"]);null!=s&&h(n,["tunedModelInfo"],function(e){const n={},t=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=t&&h(n,["baseModel"],t);const o=g(e,["createTime"]);null!=o&&h(n,["createTime"],o);const r=g(e,["updateTime"]);return null!=r&&h(n,["updateTime"],r),n}(s));const u=g(e,["defaultCheckpointId"]);null!=u&&h(n,["defaultCheckpointId"],u);const c=g(e,["checkpoints"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["checkpointId"]);null!=t&&h(n,["checkpointId"],t);const o=g(e,["epoch"]);null!=o&&h(n,["epoch"],o);const r=g(e,["step"]);return null!=r&&h(n,["step"],r),n}(e))),h(n,["checkpoints"],e)}return n}function Rr(e){const n={},t=g(e,["_self"]);return null!=t&&h(n,["video"],function(e){const n={},t=g(e,["gcsUri"]);null!=t&&h(n,["uri"],t);const o=g(e,["bytesBase64Encoded"]);null!=o&&h(n,["videoBytes"],sn(o));const r=g(e,["mimeType"]);return null!=r&&h(n,["mimeType"],r),n}(t)),n}function Mr(e){const n={},t=g(e,["name"]);null!=t&&h(n,["name"],t);const o=g(e,["metadata"]);null!=o&&h(n,["metadata"],o);const r=g(e,["done"]);null!=r&&h(n,["done"],r);const i=g(e,["error"]);null!=i&&h(n,["error"],i);const l=g(e,["response"]);return null!=l&&h(n,["response"],function(e){const n={},t=g(e,["videos"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>Rr(e))),h(n,["generatedVideos"],e)}const o=g(e,["raiMediaFilteredCount"]);null!=o&&h(n,["raiMediaFilteredCount"],o);const r=g(e,["raiMediaFilteredReasons"]);return null!=r&&h(n,["raiMediaFilteredReasons"],r),n}(l)),n}const Dr="x-goog-api-client",Lr="google-genai-sdk/".concat("1.20.0"),Ur=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class jr{constructor(e){var n,t;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta1",o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta",o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?"https://".concat(this.clientOptions.location,"-aiplatform.googleapis.com/"):"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return"projects/".concat(this.clientOptions.project,"/locations/").concat(this.clientOptions.location)}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol="http:"==n.protocol?"ws":"wss",n.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,n,t){const o=[this.getRequestUrlInternal(n)];t&&o.push(this.getBaseResourcePath()),""!==e&&o.push(e);return new URL("".concat(o.join("/")))}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const t=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,t);if(e.queryParams)for(const[i,l]of Object.entries(e.queryParams))o.searchParams.append(i,String(l));let r={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,n,e.abortSignal),this.unaryApiCall(o,r,e.httpMethod)}patchHttpOptions(e,n){const t=JSON.parse(JSON.stringify(e));for(const[o,r]of Object.entries(n))"object"===typeof r?t[o]=Object.assign(Object.assign({},t[o]),r):void 0!==r&&(t[o]=r);return t}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const t=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,t);o.searchParams.has("alt")&&"sse"===o.searchParams.get("alt")||o.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,n,e.abortSignal),this.streamApiCall(o,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,t){if(n&&n.timeout||t){const o=new AbortController,r=o.signal;if(n.timeout&&(null===n||void 0===n?void 0:n.timeout)>0){const e=setTimeout(()=>o.abort(),n.timeout);e&&"function"===typeof e.unref&&e.unref()}t&&t.addEventListener("abort",()=>{o.abort()}),e.signal=r}return n&&null!==n.extraBody&&function(e,n){if(!n||0===Object.keys(n).length)return;if(e.body instanceof Blob)return void console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let t={};if("string"===typeof e.body&&e.body.length>0)try{const n=JSON.parse(e.body);if("object"!==typeof n||null===n||Array.isArray(n))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");t=n}catch(i){return void console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.")}function o(e,n){const t=Object.assign({},e);for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const e=n[r],i=t[r];e&&"object"===typeof e&&!Array.isArray(e)&&i&&"object"===typeof i&&!Array.isArray(i)?t[r]=o(i,e):(i&&e&&typeof i!==typeof e&&console.warn('includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "'.concat(r,'". Original type: ').concat(typeof i,", New type: ").concat(typeof e,". Overwriting.")),t[r]=e)}return t}const r=o(t,n);e.body=JSON.stringify(r)}(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,t){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:t})).then(async e=>(await Fr(e),new ye(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,n,t){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:t})).then(async e=>(await Fr(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){var n;return Ct(this,arguments,function*(){const t=null===(n=null===e||void 0===e?void 0:e.body)||void 0===n?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!t)throw new Error("Response body is empty");try{let n="";for(;;){const{done:i,value:l}=yield bt(t.read());if(i){if(n.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const a=o.decode(l,{stream:!0});try{const e=JSON.parse(a);if("error"in e){const n=JSON.parse(JSON.stringify(e.error)),t=n.status,o=n.code,r="got status: ".concat(t,". ").concat(JSON.stringify(e));if(o>=400&&o<600){throw new At({message:r,status:o})}}}catch(r){if("ApiError"===r.name)throw r}n+=a;let s=n.match(Ur);for(;s;){const t=s[1];try{const o=new Response(t,{headers:null===e||void 0===e?void 0:e.headers,status:null===e||void 0===e?void 0:e.status,statusText:null===e||void 0===e?void 0:e.statusText});yield yield bt(new ye(o)),n=n.slice(s[0].length),s=n.match(Ur)}catch(r){throw new Error("exception parsing stream chunk ".concat(t,". ").concat(r))}}}}finally{t.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(e=>{throw new Error("exception ".concat(e," sending request"))})}getDefaultHeaders(){const e={},n=Lr+" "+this.clientOptions.userAgentExtra;return e["User-Agent"]=n,e[Dr]=n,e["Content-Type"]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[t,o]of Object.entries(e.headers))n.append(t,o);e.timeout&&e.timeout>0&&n.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var t;const o={};null!=n&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name="files/".concat(o.name));const r=this.clientOptions.uploader,i=await r.stat(e);o.sizeBytes=String(i.size);const l=null!==(t=null===n||void 0===n?void 0:n.mimeType)&&void 0!==t?t:i.type;if(void 0===l||""===l)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=l;const a=await this.fetchUploadUrl(o,n);return r.upload(e,a,this)}async downloadFile(e){const n=this.clientOptions.downloader;await n.download(e,this)}async fetchUploadUrl(e,n){var t;let o={};o=(null===n||void 0===n?void 0:n.httpOptions)?n.httpOptions:{apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(e.sizeBytes),"X-Goog-Upload-Header-Content-Type":"".concat(e.mimeType)}};const r={file:e},i=await this.request({path:m("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:o});if(!i||!(null===i||void 0===i?void 0:i.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=null===(t=null===i||void 0===i?void 0:i.headers)||void 0===t?void 0:t["x-goog-upload-url"];if(void 0===l)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function Fr(e){var n;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const t=e.status;let o;o=(null===(n=e.headers.get("content-type"))||void 0===n?void 0:n.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);if(t>=400&&t<600){throw new At({message:r,status:t})}throw new Error(r)}}let qr=!1;function Hr(e){for(const n of e){if(Vr(n))return!0;if("object"===typeof n&&"inputSchema"in n)return!0}return qr}function Gr(e){var n;const t=null!==(n=e[Dr])&&void 0!==n?n:"";e[Dr]=(t+" ".concat("mcp_used/unknown")).trimStart()}function Vr(e){return null!==e&&"object"===typeof e&&e instanceof zr}function Br(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Ct(this,arguments,function*(){let t,o=0;for(;o<n;){const n=yield bt(e.listTools({cursor:t}));for(const e of n.tools)yield yield bt(e),o++;if(!n.nextCursor)break;t=n.nextCursor}})}class zr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new zr(e,n)}async initialize(){var e,n,t,o;if(this.mcpTools.length>0)return;const r={},i=[];for(const c of this.mcpClients)try{for(var l,a=!0,s=(n=void 0,Et(Br(c)));!(e=(l=await s.next()).done);a=!0){o=l.value,a=!1;const e=o;i.push(e);const n=e.name;if(r[n])throw new Error("Duplicate function name ".concat(n," found in MCP tools. Please ensure function names are unique."));r[n]=c}}catch(u){n={error:u}}finally{try{a||e||!(t=s.return)||await t.call(s)}finally{if(n)throw n.error}}this.mcpTools=i,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=[],o=new Set;for(const r of e){const e=r.name;if(o.has(e))throw new Error("Duplicate function name ".concat(e," found in MCP tools. Please ensure function names are unique."));o.add(e);const i=fn(r,n);i.functionDeclarations&&t.push(...i.functionDeclarations)}return{functionDeclarations:t}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const t of e)if(t.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[t.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const r=await e.callTool({name:t.name,arguments:t.args},void 0,o);n.push({functionResponse:{name:t.name,response:r.isError?{error:r}:r}})}return n}}class Jr{constructor(e,n,t){this.apiClient=e,this.auth=n,this.webSocketFactory=t}async connect(e){var n,t;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),i=function(e){const n=new Headers;for(const[t,o]of Object.entries(e))n.append(t,o);return n}(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),a="".concat(o,"/ws/google.ai.generativelanguage.").concat(r,".GenerativeService.BidiGenerateMusic?key=").concat(l);let s=()=>{};const u=new Promise(e=>{s=e}),c=e.callbacks,d=(this.apiClient,{onopen:function(){s({})},onmessage:e=>{!async function(e,n,t){const o=new je;let r;r=t.data instanceof Blob?JSON.parse(await t.data.text()):JSON.parse(t.data);const i=mo(r);Object.assign(o,i),n(o)}(0,c.onmessage,e)},onerror:null!==(n=null===c||void 0===c?void 0:c.onerror)&&void 0!==n?n:function(e){},onclose:null!==(t=null===c||void 0===c?void 0:c.onclose)&&void 0!==t?t:function(e){}}),p=this.webSocketFactory.create(a,function(e){const n={};return e.forEach((e,t)=>{n[t]=e}),n}(i),d);p.connect(),await u;const f=Jt({setup:Bt({model:Fe(this.apiClient,e.model)})});return p.send(JSON.stringify(f)),new Wr(p,this.apiClient)}}class Wr{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=zt(function(e){const n={},t=g(e,["weightedPrompts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>Gt(e))),h(n,["weightedPrompts"],e)}return n}(e));this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Jt(function(e){const n={},t=g(e,["musicGenerationConfig"]);return null!=t&&h(n,["musicGenerationConfig"],Vt(t)),n}(e));this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n=Jt({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(he.PLAY)}pause(){this.sendPlaybackControl(he.PAUSE)}stop(){this.sendPlaybackControl(he.STOP)}resetContext(){this.sendPlaybackControl(he.RESET_CONTEXT)}close(){this.conn.close()}}class Yr{constructor(e,n,t){this.apiClient=e,this.auth=n,this.webSocketFactory=t,this.music=new Jr(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,t,o,r,i,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion();let u;const c=this.apiClient.getHeaders();e.config&&e.config.tools&&Hr(e.config.tools)&&Gr(c);const d=function(e){const n=new Headers;for(const[t,o]of Object.entries(e))n.append(t,o);return n}(c);if(this.apiClient.isVertexAI())u="".concat(a,"/ws/google.cloud.aiplatform.").concat(s,".LlmBidiService/BidiGenerateContent"),await this.auth.addAuthHeaders(d);else{const e=this.apiClient.getApiKey();let n="BidiGenerateContent",t="key";(null===e||void 0===e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),"v1alpha"!==s&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),n="BidiGenerateContentConstrained",t="access_token"),u="".concat(a,"/ws/google.ai.generativelanguage.").concat(s,".GenerativeService.").concat(n,"?").concat(t,"=").concat(e)}let p=()=>{};const f=new Promise(e=>{p=e}),m=e.callbacks,y=this.apiClient,v={onopen:function(){var e;null===(e=null===m||void 0===m?void 0:m.onopen)||void 0===e||e.call(m),p({})},onmessage:e=>{!async function(e,n,t){const o=new Ue;let r;r=t.data instanceof Blob?await t.data.text():t.data instanceof ArrayBuffer?(new TextDecoder).decode(t.data):t.data;const i=JSON.parse(r);if(e.isVertexAI()){const e=Co(i);Object.assign(o,e)}else{const e=uo(i);Object.assign(o,e)}n(o)}(y,m.onmessage,e)},onerror:null!==(n=null===m||void 0===m?void 0:m.onerror)&&void 0!==n?n:function(e){},onclose:null!==(t=null===m||void 0===m?void 0:m.onclose)&&void 0!==t?t:function(e){}},b=this.webSocketFactory.create(u,function(e){const n={};return e.forEach((e,t)=>{n[t]=e}),n}(d),v);b.connect(),await f;let C=Fe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const e=this.apiClient.getProject(),n=this.apiClient.getLocation();C="projects/".concat(e,"/locations/").concat(n,"/")+C}let E={};this.apiClient.isVertexAI()&&void 0===(null===(o=e.config)||void 0===o?void 0:o.responseModalities)&&(void 0===e.config?e.config={responseModalities:[U.AUDIO]}:e.config.responseModalities=[U.AUDIO]),(null===(r=e.config)||void 0===r?void 0:r.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const S=null!==(l=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==l?l:[],T=[];for(const h of S)if(this.isCallableTool(h)){const e=h;T.push(await e.tool())}else T.push(h);T.length>0&&(e.config.tools=T);const _={model:C,config:e.config,callbacks:e.callbacks};return E=this.apiClient.isVertexAI()?function(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["setup","model"],Fe(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],no(r,t)),t}(this.apiClient,_):function(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["setup","model"],Fe(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],qt(r,t)),t}(this.apiClient,_),delete E.config,b.send(JSON.stringify(E)),new Qr(b,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"===typeof e.callTool}}const Kr={turnComplete:!0};class Qr{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(null!==n.turns&&void 0!==n.turns){let o=[];try{o=Xe(n.turns),o=e.isVertexAI()?o.map(e=>qo(e)):o.map(e=>So(e))}catch(t){throw new Error('Failed to parse client content "turns", type: \''.concat(typeof n.turns,"'"))}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let t=[];if(null==n.functionResponses)throw new Error("functionResponses is required.");if(t=Array.isArray(n.functionResponses)?n.functionResponses:[n.functionResponses],0===t.length)throw new Error("functionResponses is required.");for(const o of t){if("object"!==typeof o||null===o||!("name"in o)||!("response"in o))throw new Error("Could not parse function response, type '".concat(typeof o,"'."));if(!e.isVertexAI()&&!("id"in o))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:t}}}sendClientContent(e){e=Object.assign(Object.assign({},Kr),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};n=this.apiClient.isVertexAI()?{realtimeInput:to(e)}:{realtimeInput:Ht(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function $r(e){var n,t,o;if(null===(n=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===n?void 0:n.disable)return!0;let r=!1;for(const l of null!==(t=null===e||void 0===e?void 0:e.tools)&&void 0!==t?t:[])if(Xr(l)){r=!0;break}if(!r)return!0;const i=null===(o=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===o?void 0:o.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0)}function Xr(e){return"callTool"in e&&"function"===typeof e.callTool}function Zr(e){var n;return!(null===(n=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===n?void 0:n.ignoreCallHistory)}class ei extends f{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var n,t,o,r,i;const l=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var n,t,o;return null!==(o=null===(t=null===(n=e.config)||void 0===n?void 0:n.tools)||void 0===t?void 0:t.some(e=>Xr(e)))&&void 0!==o&&o}(e)||$r(e.config))return await this.generateContentInternal(l);if(function(e){var n,t,o;return null!==(o=null===(t=null===(n=e.config)||void 0===n?void 0:n.tools)||void 0===t?void 0:t.some(e=>!Xr(e)))&&void 0!==o&&o}(e))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let a,s;const u=Xe(l.contents),c=null!==(o=null===(t=null===(n=l.config)||void 0===n?void 0:n.automaticFunctionCalling)||void 0===t?void 0:t.maximumRemoteCalls)&&void 0!==o?o:10;let d=0;for(;d<c&&(a=await this.generateContentInternal(l),a.functionCalls&&0!==a.functionCalls.length);){const n=a.candidates[0].content,t=[];for(const o of null!==(i=null===(r=e.config)||void 0===r?void 0:r.tools)&&void 0!==i?i:[])if(Xr(o)){const e=o,n=await e.callTool(a.functionCalls);t.push(...n)}d++,s={role:"user",parts:t},l.contents=Xe(l.contents),l.contents.push(n),l.contents.push(s),Zr(l.config)&&(u.push(n),u.push(s))}return Zr(l.config)&&(a.automaticFunctionCallingHistory=u),a},this.generateContentStream=async e=>{if(this.maybeMoveToResponseJsonSchem(e),$r(e.config)){const n=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(n)}return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var n;let t;const o=[];if(null===e||void 0===e?void 0:e.generatedImages)for(const i of e.generatedImages)i&&(null===i||void 0===i?void 0:i.safetyAttributes)&&"Positive Prompt"===(null===(n=null===i||void 0===i?void 0:i.safetyAttributes)||void 0===n?void 0:n.contentType)?t=null===i||void 0===i?void 0:i.safetyAttributes:o.push(i);let r;return r=t?{generatedImages:o,positivePromptSafetyAttributes:t,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:o,sdkHttpResponse:e.sdkHttpResponse},r}),this.list=async e=>{var n;const t={config:Object.assign(Object.assign({},{queryBase:!0}),null===e||void 0===e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!t.config.queryBase){if(null===(n=t.config)||void 0===n?void 0:n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");t.config.filter="labels.tune-type:*"}return new Jn(ge.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(t),t)},this.editImage=async e=>{const n={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(n.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async e=>{let n={numberOfImages:1,mode:"upscale"};e.config&&(n=Object.assign(Object.assign({},n),e.config));const t={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:n};return await this.upscaleImageInternal(t)},this.generateVideos=async e=>{if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,t,o;const r=null===(n=e.config)||void 0===n?void 0:n.tools;if(!r)return e;const i=await Promise.all(r.map(async e=>{if(Xr(e)){const n=e;return await n.tool()}return e})),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(l.config.tools=i,e.config&&e.config.tools&&Hr(e.config.tools)){const n=null!==(o=null===(t=e.config.httpOptions)||void 0===t?void 0:t.headers)&&void 0!==o?o:{};let r=Object.assign({},n);0===Object.keys(r).length&&(r=this.apiClient.getDefaultHeaders()),Gr(r),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:r})}return l}async initAfcToolsMap(e){var n,t,o;const r=new Map;for(const i of null!==(t=null===(n=e.config)||void 0===n?void 0:n.tools)&&void 0!==t?t:[])if(Xr(i)){const e=i,n=await e.tool();for(const t of null!==(o=n.functionDeclarations)&&void 0!==o?o:[]){if(!t.name)throw new Error("Function declaration name is required.");if(r.has(t.name))throw new Error("Duplicate tool declaration name: ".concat(t.name));r.set(t.name,e)}}return r}async processAfcStream(e){var n,t,o;const r=null!==(o=null===(t=null===(n=e.config)||void 0===n?void 0:n.automaticFunctionCalling)||void 0===t?void 0:t.maximumRemoteCalls)&&void 0!==o?o:10;let i=!1,l=0;return function(e,n,t){var o,a;return Ct(this,arguments,function*(){for(var s,u,c,d;l<r;){i&&(l++,i=!1);const g=yield bt(e.processParamsMaybeAddMcpUsage(t)),y=yield bt(e.generateContentStreamInternal(g)),v=[],b=[];try{for(var p,f=!0,m=(u=void 0,Et(y));!(s=(p=yield bt(m.next())).done);f=!0){d=p.value,f=!1;const e=d;if(yield yield bt(e),e.candidates&&(null===(o=e.candidates[0])||void 0===o?void 0:o.content)){b.push(e.candidates[0].content);for(const t of null!==(a=e.candidates[0].content.parts)&&void 0!==a?a:[])if(l<r&&t.functionCall){if(!t.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!n.has(t.functionCall.name))throw new Error("Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ".concat(n.keys(),", mising tool: ").concat(t.functionCall.name));{const e=yield bt(n.get(t.functionCall.name).callTool([t.functionCall]));v.push(...e)}}}}}catch(h){u={error:h}}finally{try{f||s||!(c=m.return)||(yield bt(c.call(m)))}finally{if(u)throw u.error}}if(!(v.length>0))break;{i=!0;const e=new ve;e.candidates=[{content:{role:"user",parts:v}}],yield yield bt(e);const n=[];n.push(...b),n.push({role:"user",parts:v});const o=Xe(t.contents).concat(n);t.contents=o}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=Ko(this.apiClient,e);return l=m("{model}:generateContent",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=wr(e),t=new ve;return Object.assign(t,n),t})}{const n=No(this.apiClient,e);return l=m("{model}:generateContent",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=hr(e),t=new ve;return Object.assign(t,n),t})}}async generateContentStreamInternal(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=Ko(this.apiClient,e);l=m("{model}:streamGenerateContent?alt=sse",o._url),a=o._query,delete o.config,delete o._url,delete o._query;return i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}),i.then(function(e){return Ct(this,arguments,function*(){var n,t,o,r;try{for(var i,l=!0,a=Et(e);!(n=(i=yield bt(a.next())).done);l=!0){r=i.value,l=!1;const e=r,n=wr(yield bt(e.json()));n.sdkHttpResponse={headers:e.headers};const t=new ve;Object.assign(t,n),yield yield bt(t)}}catch(s){t={error:s}}finally{try{l||n||!(o=a.return)||(yield bt(o.call(a)))}finally{if(t)throw t.error}}})})}{const n=No(this.apiClient,e);l=m("{model}:streamGenerateContent?alt=sse",n._url),a=n._query,delete n.config,delete n._url,delete n._query;return i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}),i.then(function(e){return Ct(this,arguments,function*(){var n,t,o,r;try{for(var i,l=!0,a=Et(e);!(n=(i=yield bt(a.next())).done);l=!0){r=i.value,l=!1;const e=r,n=hr(yield bt(e.json()));n.sdkHttpResponse={headers:e.headers};const t=new ve;Object.assign(t,n),yield yield bt(t)}}catch(s){t={error:s}}finally{try{l||n||!(o=a.return)||(yield bt(o.call(a)))}finally{if(t)throw t.error}}})})}}async embedContent(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=Qo(this.apiClient,e);return l=m("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=Ar(e),t=new be;return Object.assign(t,n),t})}{const n=Po(this.apiClient,e);return l=m("{model}:batchEmbedContents",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=gr(e),t=new be;return Object.assign(t,n),t})}}async generateImagesInternal(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=$o(this.apiClient,e);return l=m("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>kr(e))),h(n,["generatedImages"],e)}const r=g(e,["positivePromptSafetyAttributes"]);return null!=r&&h(n,["positivePromptSafetyAttributes"],xr(r)),n}(e),t=new Ce;return Object.assign(t,n),t})}{const n=Ro(this.apiClient,e);return l=m("{model}:predict",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>vr(e))),h(n,["generatedImages"],e)}const r=g(e,["positivePromptSafetyAttributes"]);return null!=r&&h(n,["positivePromptSafetyAttributes"],yr(r)),n}(e),t=new Ce;return Object.assign(t,n),t})}}async editImageInternal(e){var n,t;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=er(this.apiClient,e);return r=m("{model}:predict",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),o.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>kr(e))),h(n,["generatedImages"],e)}return n}(e),t=new Ee;return Object.assign(t,n),t})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,t;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=nr(this.apiClient,e);return r=m("{model}:predict",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),o.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>kr(e))),h(n,["generatedImages"],e)}return n}(e),t=new Se;return Object.assign(t,n),t})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,t;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=or(this.apiClient,e);return r=m("{model}:predict",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),o.then(e=>{const n=function(e){const n={},t=g(e,["predictions"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>kr(e))),h(n,["generatedImages"],e)}return n}(e),t=new Te;return Object.assign(t,n),t})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,t;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=ir(this.apiClient,e);return r=m("{model}:predict",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),o.then(e=>{const n=function(e){const n={},t=g(e,["predictions"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>Nr(e))),h(n,["generatedMasks"],e)}return n}(e),t=new _e;return Object.assign(t,n),t})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","name"],Fe(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],r),t}(this.apiClient,e);return l=m("{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),i.then(e=>Pr(e))}{const n=function(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","name"],Fe(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],r),t}(this.apiClient,e);return l=m("{name}",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>br(e))}}async listInternal(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=lr(this.apiClient,e);return l=m("{models_url}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["nextPageToken"]);null!=o&&h(n,["nextPageToken"],o);const r=g(e,["_self"]);if(null!=r){let e=dn(r);Array.isArray(e)&&(e=e.map(e=>Pr(e))),h(n,["models"],e)}return n}(e),t=new we;return Object.assign(t,n),t})}{const n=Mo(this.apiClient,e);return l=m("{models_url}",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["nextPageToken"]);null!=o&&h(n,["nextPageToken"],o);const r=g(e,["_self"]);if(null!=r){let e=dn(r);Array.isArray(e)&&(e=e.map(e=>br(e))),h(n,["models"],e)}return n}(e),t=new we;return Object.assign(t,n),t})}}async update(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=ar(this.apiClient,e);return l=m("{model}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"PATCH",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),i.then(e=>Pr(e))}{const n=Do(this.apiClient,e);return l=m("{name}",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"PATCH",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>br(e))}}async delete(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","name"],Fe(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],r),t}(this.apiClient,e);return l=m("{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);return null!=t&&h(n,["sdkHttpResponse"],t),n}(e),t=new Ie;return Object.assign(t,n),t})}{const n=function(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","name"],Fe(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],r),t}(this.apiClient,e);return l=m("{name}",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"DELETE",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);return null!=t&&h(n,["sdkHttpResponse"],t),n}(e),t=new Ie;return Object.assign(t,n),t})}}async countTokens(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=sr(this.apiClient,e);return l=m("{model}:countTokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["totalTokens"]);return null!=o&&h(n,["totalTokens"],o),n}(e),t=new Ae;return Object.assign(t,n),t})}{const n=Lo(this.apiClient,e);return l=m("{model}:countTokens",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["totalTokens"]);null!=o&&h(n,["totalTokens"],o);const r=g(e,["cachedContentTokenCount"]);return null!=r&&h(n,["cachedContentTokenCount"],r),n}(e),t=new Ae;return Object.assign(t,n),t})}}async computeTokens(e){var n,t;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=function(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["_url","model"],Fe(e,o));const r=g(n,["contents"]);if(null!=r){let e=Xe(r);Array.isArray(e)&&(e=e.map(e=>qo(e))),h(t,["contents"],e)}const i=g(n,["config"]);return null!=i&&h(t,["config"],i),t}(this.apiClient,e);return r=m("{model}:computeTokens",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),o.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["tokensInfo"]);return null!=o&&h(n,["tokensInfo"],o),n}(e),t=new Oe;return Object.assign(t,n),t})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=dr(this.apiClient,e);return l=m("{model}:predictLongRunning",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),i.then(e=>{const n=Mr(e),t=new xe;return Object.assign(t,n),t})}{const n=jo(this.apiClient,e);return l=m("{model}:predictLongRunning",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>{const n=Er(e),t=new xe;return Object.assign(t,n),t})}}}class ni extends f{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,t=e.config;if(void 0===n.name||""===n.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=n.name.split("/operations/")[0];let o;t&&"httpOptions"in t&&(o=t.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:e,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:r,isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:n.name,config:t});return n._fromAPIResponse({apiResponse:e,isVertexAI:!1})}}async get(e){const n=e.operation,t=e.config;if(void 0===n.name||""===n.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=n.name.split("/operations/")[0];let o;t&&"httpOptions"in t&&(o=t.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:e,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:r,isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:n.name,config:t});return n._fromAPIResponse({apiResponse:e,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e){const n={},t=g(e,["operationName"]);null!=t&&h(n,["_url","operationName"],t);const o=g(e,["config"]);return null!=o&&h(n,["config"],o),n}(e);return l=m("{operationName}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),i}{const n=function(e){const n={},t=g(e,["operationName"]);null!=t&&h(n,["_url","operationName"],t);const o=g(e,["config"]);return null!=o&&h(n,["config"],o),n}(e);return l=m("{operationName}",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i}}async fetchPredictVideosOperationInternal(e){var n,t;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=function(e){const n={},t=g(e,["operationName"]);null!=t&&h(n,["operationName"],t);const o=g(e,["resourceName"]);null!=o&&h(n,["_url","resourceName"],o);const r=g(e,["config"]);return null!=r&&h(n,["config"],r),n}(e);return r=m("{resourceName}:fetchPredictOperation",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),o}throw new Error("This method is only supported by the Vertex AI.")}}function ti(e){const n={},t=g(e,["prebuiltVoiceConfig"]);return null!=t&&h(n,["prebuiltVoiceConfig"],function(e){const n={},t=g(e,["voiceName"]);return null!=t&&h(n,["voiceName"],t),n}(t)),n}function oi(e){const n={},t=g(e,["speakerVoiceConfigs"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["speaker"]);null!=t&&h(n,["speaker"],t);const o=g(e,["voiceConfig"]);return null!=o&&h(n,["voiceConfig"],ti(o)),n}(e))),h(n,["speakerVoiceConfigs"],e)}return n}function ri(e){const n={},t=g(e,["videoMetadata"]);null!=t&&h(n,["videoMetadata"],function(e){const n={},t=g(e,["fps"]);null!=t&&h(n,["fps"],t);const o=g(e,["endOffset"]);null!=o&&h(n,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(n,["startOffset"],r),n}(t));const o=g(e,["thought"]);null!=o&&h(n,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(n,["inlineData"],function(e){const n={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const t=g(e,["data"]);null!=t&&h(n,["data"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(r));const i=g(e,["fileData"]);null!=i&&h(n,["fileData"],function(e){const n={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const t=g(e,["fileUri"]);null!=t&&h(n,["fileUri"],t);const o=g(e,["mimeType"]);return null!=o&&h(n,["mimeType"],o),n}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(n,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(n,["functionCall"],function(e){const n={},t=g(e,["id"]);null!=t&&h(n,["id"],t);const o=g(e,["args"]);null!=o&&h(n,["args"],o);const r=g(e,["name"]);return null!=r&&h(n,["name"],r),n}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(n,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(n,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(n,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(n,["text"],d),n}function ii(e){const n={},t=g(e,["timeRangeFilter"]);if(null!=t&&h(n,["timeRangeFilter"],function(e){const n={},t=g(e,["startTime"]);null!=t&&h(n,["startTime"],t);const o=g(e,["endTime"]);return null!=o&&h(n,["endTime"],o),n}(t)),void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function li(e){const n={},t=g(e,["dynamicRetrievalConfig"]);return null!=t&&h(n,["dynamicRetrievalConfig"],function(e){const n={},t=g(e,["mode"]);null!=t&&h(n,["mode"],t);const o=g(e,["dynamicThreshold"]);return null!=o&&h(n,["dynamicThreshold"],o),n}(t)),n}function ai(e){const n={},t=g(e,["functionDeclarations"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["behavior"]);null!=t&&h(n,["behavior"],t);const o=g(e,["description"]);null!=o&&h(n,["description"],o);const r=g(e,["name"]);null!=r&&h(n,["name"],r);const i=g(e,["parameters"]);null!=i&&h(n,["parameters"],i);const l=g(e,["parametersJsonSchema"]);null!=l&&h(n,["parametersJsonSchema"],l);const a=g(e,["response"]);null!=a&&h(n,["response"],a);const s=g(e,["responseJsonSchema"]);return null!=s&&h(n,["responseJsonSchema"],s),n}(e))),h(n,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearch"]);null!=o&&h(n,["googleSearch"],ii(o));const r=g(e,["googleSearchRetrieval"]);if(null!=r&&h(n,["googleSearchRetrieval"],li(r)),void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==g(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=g(e,["urlContext"])&&h(n,["urlContext"],{});const i=g(e,["computerUse"]);null!=i&&h(n,["computerUse"],function(e){const n={},t=g(e,["environment"]);return null!=t&&h(n,["environment"],t),n}(i));const l=g(e,["codeExecution"]);return null!=l&&h(n,["codeExecution"],l),n}function si(e){const n={},t=g(e,["automaticActivityDetection"]);null!=t&&h(n,["automaticActivityDetection"],function(e){const n={},t=g(e,["disabled"]);null!=t&&h(n,["disabled"],t);const o=g(e,["startOfSpeechSensitivity"]);null!=o&&h(n,["startOfSpeechSensitivity"],o);const r=g(e,["endOfSpeechSensitivity"]);null!=r&&h(n,["endOfSpeechSensitivity"],r);const i=g(e,["prefixPaddingMs"]);null!=i&&h(n,["prefixPaddingMs"],i);const l=g(e,["silenceDurationMs"]);return null!=l&&h(n,["silenceDurationMs"],l),n}(t));const o=g(e,["activityHandling"]);null!=o&&h(n,["activityHandling"],o);const r=g(e,["turnCoverage"]);return null!=r&&h(n,["turnCoverage"],r),n}function ui(e){const n={},t=g(e,["triggerTokens"]);null!=t&&h(n,["triggerTokens"],t);const o=g(e,["slidingWindow"]);return null!=o&&h(n,["slidingWindow"],function(e){const n={},t=g(e,["targetTokens"]);return null!=t&&h(n,["targetTokens"],t),n}(o)),n}function ci(e,n){const t=g(e,["generationConfig"]);void 0!==n&&null!=t&&h(n,["setup","generationConfig"],t);const o=g(e,["responseModalities"]);void 0!==n&&null!=o&&h(n,["setup","generationConfig","responseModalities"],o);const r=g(e,["temperature"]);void 0!==n&&null!=r&&h(n,["setup","generationConfig","temperature"],r);const i=g(e,["topP"]);void 0!==n&&null!=i&&h(n,["setup","generationConfig","topP"],i);const l=g(e,["topK"]);void 0!==n&&null!=l&&h(n,["setup","generationConfig","topK"],l);const a=g(e,["maxOutputTokens"]);void 0!==n&&null!=a&&h(n,["setup","generationConfig","maxOutputTokens"],a);const s=g(e,["mediaResolution"]);void 0!==n&&null!=s&&h(n,["setup","generationConfig","mediaResolution"],s);const u=g(e,["seed"]);void 0!==n&&null!=u&&h(n,["setup","generationConfig","seed"],u);const c=g(e,["speechConfig"]);void 0!==n&&null!=c&&h(n,["setup","generationConfig","speechConfig"],function(e){const n={},t=g(e,["voiceConfig"]);null!=t&&h(n,["voiceConfig"],ti(t));const o=g(e,["multiSpeakerVoiceConfig"]);null!=o&&h(n,["multiSpeakerVoiceConfig"],oi(o));const r=g(e,["languageCode"]);return null!=r&&h(n,["languageCode"],r),n}(tn(c)));const d=g(e,["enableAffectiveDialog"]);void 0!==n&&null!=d&&h(n,["setup","generationConfig","enableAffectiveDialog"],d);const p=g(e,["systemInstruction"]);void 0!==n&&null!=p&&h(n,["setup","systemInstruction"],function(e){const n={},t=g(e,["parts"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>ri(e))),h(n,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(n,["role"],o),n}(Qe(p)));const f=g(e,["tools"]);if(void 0!==n&&null!=f){let e=rn(f);Array.isArray(e)&&(e=e.map(e=>ai(on(e)))),h(n,["setup","tools"],e)}const m=g(e,["sessionResumption"]);void 0!==n&&null!=m&&h(n,["setup","sessionResumption"],function(e){const n={},t=g(e,["handle"]);if(null!=t&&h(n,["handle"],t),void 0!==g(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return n}(m));const y=g(e,["inputAudioTranscription"]);void 0!==n&&null!=y&&h(n,["setup","inputAudioTranscription"],{});const v=g(e,["outputAudioTranscription"]);void 0!==n&&null!=v&&h(n,["setup","outputAudioTranscription"],{});const b=g(e,["realtimeInputConfig"]);void 0!==n&&null!=b&&h(n,["setup","realtimeInputConfig"],si(b));const C=g(e,["contextWindowCompression"]);void 0!==n&&null!=C&&h(n,["setup","contextWindowCompression"],ui(C));const E=g(e,["proactivity"]);return void 0!==n&&null!=E&&h(n,["setup","proactivity"],function(e){const n={},t=g(e,["proactiveAudio"]);return null!=t&&h(n,["proactiveAudio"],t),n}(E)),{}}function di(e,n,t){const o=g(n,["expireTime"]);void 0!==t&&null!=o&&h(t,["expireTime"],o);const r=g(n,["newSessionExpireTime"]);void 0!==t&&null!=r&&h(t,["newSessionExpireTime"],r);const i=g(n,["uses"]);void 0!==t&&null!=i&&h(t,["uses"],i);const l=g(n,["liveConnectConstraints"]);void 0!==t&&null!=l&&h(t,["bidiGenerateContentSetup"],function(e,n){const t={},o=g(n,["model"]);null!=o&&h(t,["setup","model"],Fe(e,o));const r=g(n,["config"]);return null!=r&&h(t,["config"],ci(r,t)),t}(e,l));const a=g(n,["lockAdditionalFields"]);return void 0!==t&&null!=a&&h(t,["fieldMask"],a),{}}function pi(e,n){let t=null;const o=e.bidiGenerateContentSetup;if("object"===typeof o&&null!==o&&"setup"in o){const n=o.setup;"object"===typeof n&&null!==n?(e.bidiGenerateContentSetup=n,t=n):delete e.bidiGenerateContentSetup}else void 0!==o&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(t){const o=function(e){const n=[];for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const o=e[t];if("object"===typeof o&&null!=o&&Object.keys(o).length>0){const e=Object.keys(o).map(e=>"".concat(t,".").concat(e));n.push(...e)}else n.push(t)}return n.join(",")}(t);if(Array.isArray(null===n||void 0===n?void 0:n.lockAdditionalFields)&&0===(null===n||void 0===n?void 0:n.lockAdditionalFields.length))o?e.fieldMask=o:delete e.fieldMask;else if((null===n||void 0===n?void 0:n.lockAdditionalFields)&&n.lockAdditionalFields.length>0&&null!==r&&Array.isArray(r)&&r.length>0){const n=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let t=[];r.length>0&&(t=r.map(e=>n.includes(e)?"generationConfig.".concat(e):e));const i=[];o&&i.push(o),t.length>0&&i.push(...t),i.length>0?e.fieldMask=i.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==r&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class fi extends f{constructor(e){super(),this.apiClient=e}async create(e){var n,t;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=function(e,n){const t={},o=g(n,["config"]);return null!=o&&h(t,["config"],di(e,o,t)),t}(this.apiClient,e);r=m("auth_tokens",l._url),i=l._query,delete l.config,delete l._url,delete l._query;const a=pi(l,e.config);return o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json()),o.then(e=>function(e){const n={},t=g(e,["name"]);return null!=t&&h(n,["name"],t),n}(e))}}}function mi(e){const n={},t=g(e,["config"]);return null!=t&&h(n,["config"],function(e,n){const t=g(e,["pageSize"]);void 0!==n&&null!=t&&h(n,["_query","pageSize"],t);const o=g(e,["pageToken"]);void 0!==n&&null!=o&&h(n,["_query","pageToken"],o);const r=g(e,["filter"]);return void 0!==n&&null!=r&&h(n,["_query","filter"],r),{}}(t,n)),n}function hi(e){const n={};if(void 0!==g(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==g(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const t=g(e,["examples"]);if(null!=t){let e=t;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["textInput"]);null!=t&&h(n,["textInput"],t);const o=g(e,["output"]);return null!=o&&h(n,["output"],o),n}(e))),h(n,["examples","examples"],e)}return n}function gi(e){const n={},t=g(e,["baseModel"]);null!=t&&h(n,["baseModel"],t);const o=g(e,["preTunedModel"]);null!=o&&h(n,["preTunedModel"],o);const r=g(e,["trainingDataset"]);null!=r&&h(n,["tuningTask","trainingData"],hi(r));const i=g(e,["config"]);return null!=i&&h(n,["config"],function(e,n){const t={};if(void 0!==g(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const o=g(e,["tunedModelDisplayName"]);if(void 0!==n&&null!=o&&h(n,["displayName"],o),void 0!==g(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const r=g(e,["epochCount"]);void 0!==n&&null!=r&&h(n,["tuningTask","hyperparameters","epochCount"],r);const i=g(e,["learningRateMultiplier"]);if(null!=i&&h(t,["tuningTask","hyperparameters","learningRateMultiplier"],i),void 0!==g(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==g(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==g(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const l=g(e,["batchSize"]);void 0!==n&&null!=l&&h(n,["tuningTask","hyperparameters","batchSize"],l);const a=g(e,["learningRate"]);if(void 0!==n&&null!=a&&h(n,["tuningTask","hyperparameters","learningRate"],a),void 0!==g(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");return t}(i,n)),n}function yi(e){const n={},t=g(e,["config"]);return null!=t&&h(n,["config"],function(e,n){const t=g(e,["pageSize"]);void 0!==n&&null!=t&&h(n,["_query","pageSize"],t);const o=g(e,["pageToken"]);void 0!==n&&null!=o&&h(n,["_query","pageToken"],o);const r=g(e,["filter"]);return void 0!==n&&null!=r&&h(n,["_query","filter"],r),{}}(t,n)),n}function vi(e,n){const t={},o=g(e,["validationDataset"]);void 0!==n&&null!=o&&h(n,["supervisedTuningSpec"],function(e,n){const t={},o=g(e,["gcsUri"]);null!=o&&h(t,["validationDatasetUri"],o);const r=g(e,["vertexDatasetResource"]);return void 0!==n&&null!=r&&h(n,["supervisedTuningSpec","trainingDatasetUri"],r),t}(o,t));const r=g(e,["tunedModelDisplayName"]);void 0!==n&&null!=r&&h(n,["tunedModelDisplayName"],r);const i=g(e,["description"]);void 0!==n&&null!=i&&h(n,["description"],i);const l=g(e,["epochCount"]);void 0!==n&&null!=l&&h(n,["supervisedTuningSpec","hyperParameters","epochCount"],l);const a=g(e,["learningRateMultiplier"]);void 0!==n&&null!=a&&h(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],a);const s=g(e,["exportLastCheckpointOnly"]);void 0!==n&&null!=s&&h(n,["supervisedTuningSpec","exportLastCheckpointOnly"],s);const u=g(e,["preTunedModelCheckpointId"]);null!=u&&h(t,["preTunedModel","checkpointId"],u);const c=g(e,["adapterSize"]);if(void 0!==n&&null!=c&&h(n,["supervisedTuningSpec","hyperParameters","adapterSize"],c),void 0!==g(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==g(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const d=g(e,["labels"]);return void 0!==n&&null!=d&&h(n,["labels"],d),t}function bi(e){const n={},t=g(e,["baseModel"]);null!=t&&h(n,["baseModel"],t);const o=g(e,["preTunedModel"]);null!=o&&h(n,["preTunedModel"],o);const r=g(e,["trainingDataset"]);null!=r&&h(n,["supervisedTuningSpec","trainingDatasetUri"],function(e,n){const t=g(e,["gcsUri"]);void 0!==n&&null!=t&&h(n,["supervisedTuningSpec","trainingDatasetUri"],t);const o=g(e,["vertexDatasetResource"]);if(void 0!==n&&null!=o&&h(n,["supervisedTuningSpec","trainingDatasetUri"],o),void 0!==g(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.");return{}}(r,n));const i=g(e,["config"]);return null!=i&&h(n,["config"],vi(i,n)),n}function Ci(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["name"]);null!=o&&h(n,["name"],o);const r=g(e,["state"]);null!=r&&h(n,["state"],an(r));const i=g(e,["createTime"]);null!=i&&h(n,["createTime"],i);const l=g(e,["tuningTask","startTime"]);null!=l&&h(n,["startTime"],l);const a=g(e,["tuningTask","completeTime"]);null!=a&&h(n,["endTime"],a);const s=g(e,["updateTime"]);null!=s&&h(n,["updateTime"],s);const u=g(e,["description"]);null!=u&&h(n,["description"],u);const c=g(e,["baseModel"]);null!=c&&h(n,["baseModel"],c);const d=g(e,["_self"]);null!=d&&h(n,["tunedModel"],function(e){const n={},t=g(e,["name"]);null!=t&&h(n,["model"],t);const o=g(e,["name"]);return null!=o&&h(n,["endpoint"],o),n}(d));const p=g(e,["customBaseModel"]);null!=p&&h(n,["customBaseModel"],p);const f=g(e,["experiment"]);null!=f&&h(n,["experiment"],f);const m=g(e,["labels"]);null!=m&&h(n,["labels"],m);const y=g(e,["outputUri"]);null!=y&&h(n,["outputUri"],y);const v=g(e,["pipelineJob"]);null!=v&&h(n,["pipelineJob"],v);const b=g(e,["serviceAccount"]);null!=b&&h(n,["serviceAccount"],b);const C=g(e,["tunedModelDisplayName"]);return null!=C&&h(n,["tunedModelDisplayName"],C),n}function Ei(e){const n={},t=g(e,["model"]);null!=t&&h(n,["model"],t);const o=g(e,["endpoint"]);null!=o&&h(n,["endpoint"],o);const r=g(e,["checkpoints"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const n={},t=g(e,["checkpointId"]);null!=t&&h(n,["checkpointId"],t);const o=g(e,["epoch"]);null!=o&&h(n,["epoch"],o);const r=g(e,["step"]);null!=r&&h(n,["step"],r);const i=g(e,["endpoint"]);return null!=i&&h(n,["endpoint"],i),n}(e))),h(n,["checkpoints"],e)}return n}function Si(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["name"]);null!=o&&h(n,["name"],o);const r=g(e,["state"]);null!=r&&h(n,["state"],an(r));const i=g(e,["createTime"]);null!=i&&h(n,["createTime"],i);const l=g(e,["startTime"]);null!=l&&h(n,["startTime"],l);const a=g(e,["endTime"]);null!=a&&h(n,["endTime"],a);const s=g(e,["updateTime"]);null!=s&&h(n,["updateTime"],s);const u=g(e,["error"]);null!=u&&h(n,["error"],u);const c=g(e,["description"]);null!=c&&h(n,["description"],c);const d=g(e,["baseModel"]);null!=d&&h(n,["baseModel"],d);const p=g(e,["tunedModel"]);null!=p&&h(n,["tunedModel"],Ei(p));const f=g(e,["preTunedModel"]);null!=f&&h(n,["preTunedModel"],f);const m=g(e,["supervisedTuningSpec"]);null!=m&&h(n,["supervisedTuningSpec"],m);const y=g(e,["tuningDataStats"]);null!=y&&h(n,["tuningDataStats"],y);const v=g(e,["encryptionSpec"]);null!=v&&h(n,["encryptionSpec"],v);const b=g(e,["partnerModelTuningSpec"]);null!=b&&h(n,["partnerModelTuningSpec"],b);const C=g(e,["customBaseModel"]);null!=C&&h(n,["customBaseModel"],C);const E=g(e,["experiment"]);null!=E&&h(n,["experiment"],E);const S=g(e,["labels"]);null!=S&&h(n,["labels"],S);const T=g(e,["outputUri"]);null!=T&&h(n,["outputUri"],T);const _=g(e,["pipelineJob"]);null!=_&&h(n,["pipelineJob"],_);const w=g(e,["serviceAccount"]);null!=w&&h(n,["serviceAccount"],w);const I=g(e,["tunedModelDisplayName"]);return null!=I&&h(n,["tunedModelDisplayName"],I),n}class Ti extends f{constructor(e){var n;super(),n=this,this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Jn(ge.PAGED_ITEM_TUNING_JOBS,e=>n.listInternal(e),await n.listInternal(e),e)},this.tune=async e=>{if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const n={tunedModelName:e.baseModel},t=Object.assign(Object.assign({},e),{preTunedModel:n});return t.baseModel=void 0,await this.tuneInternal(t)}{const n=Object.assign({},e);return await this.tuneInternal(n)}}{const n=Object.assign({},e),t=await this.tuneMldevInternal(n);let o="";void 0!==t.metadata&&void 0!==t.metadata.tunedModel?o=t.metadata.tunedModel:void 0!==t.name&&t.name.includes("/operations/")&&(o=t.name.split("/operations/")[0]);return{name:o,state:F.JOB_STATE_QUEUED}}}}async getInternal(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e){const n={},t=g(e,["name"]);null!=t&&h(n,["_url","name"],t);const o=g(e,["config"]);return null!=o&&h(n,["config"],o),n}(e);return l=m("{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>Si(e))}{const n=function(e){const n={},t=g(e,["name"]);null!=t&&h(n,["_url","name"],t);const o=g(e,["config"]);return null!=o&&h(n,["config"],o),n}(e);return l=m("{name}",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>Ci(e))}}async listInternal(e){var n,t,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=yi(e);return l=m("tuningJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["nextPageToken"]);null!=o&&h(n,["nextPageToken"],o);const r=g(e,["tuningJobs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Si(e))),h(n,["tuningJobs"],e)}return n}(e),t=new ke;return Object.assign(t,n),t})}{const n=mi(e);return l=m("tunedModels",n._url),a=n._query,delete n.config,delete n._url,delete n._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(n),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),i.then(e=>{const n=function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["nextPageToken"]);null!=o&&h(n,["nextPageToken"],o);const r=g(e,["tunedModels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Ci(e))),h(n,["tuningJobs"],e)}return n}(e),t=new ke;return Object.assign(t,n),t})}}async cancel(e){var n,t,o,r;let i="",l={};if(this.apiClient.isVertexAI()){const o=function(e){const n={},t=g(e,["name"]);null!=t&&h(n,["_url","name"],t);const o=g(e,["config"]);return null!=o&&h(n,["config"],o),n}(e);i=m("{name}:cancel",o._url),l=o._query,delete o.config,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal})}else{const n=function(e){const n={},t=g(e,["name"]);null!=t&&h(n,["_url","name"],t);const o=g(e,["config"]);return null!=o&&h(n,["config"],o),n}(e);i=m("{name}:cancel",n._url),l=n._query,delete n.config,delete n._url,delete n._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(n),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal})}}async tuneInternal(e){var n,t;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=bi(e);return r=m("tuningJobs",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),o.then(e=>Si(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,t;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=gi(e);return r=m("tunedModels",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(n=e.config)||void 0===n?void 0:n.httpOptions,abortSignal:null===(t=e.config)||void 0===t?void 0:t.abortSignal}).then(e=>e.json().then(n=>{const t=n;return t.sdkHttpResponse={headers:e.headers},t})),o.then(e=>function(e){const n={},t=g(e,["sdkHttpResponse"]);null!=t&&h(n,["sdkHttpResponse"],t);const o=g(e,["name"]);null!=o&&h(n,["name"],o);const r=g(e,["metadata"]);null!=r&&h(n,["metadata"],r);const i=g(e,["done"]);null!=i&&h(n,["done"],i);const l=g(e,["error"]);return null!=l&&h(n,["error"],l),n}(e))}}}class _i{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const wi="x-goog-upload-status";function Ii(e){return new Promise(n=>setTimeout(n,e))}class Ai{async upload(e,n,t){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,n,t){var o,r,i;let l=0,a=0,s=new ye(new Response),u="upload";for(l=e.size;a<l;){const i=Math.min(8388608,l-a),c=e.slice(a,a+i);a+i>=l&&(u+=", finalize");let d=0,p=1e3;for(;d<3&&(s=await t.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(a),"Content-Length":String(i)}}}),!(null===(o=null===s||void 0===s?void 0:s.headers)||void 0===o?void 0:o[wi]));)d++,await Ii(p),p*=2;if(a+=i,"active"!==(null===(r=null===s||void 0===s?void 0:s.headers)||void 0===r?void 0:r[wi]))break;if(l<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(null===s||void 0===s?void 0:s.json());if("final"!==(null===(i=null===s||void 0===s?void 0:s.headers)||void 0===i?void 0:i[wi]))throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}(e,n,t)}async stat(e){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}class Oi{create(e,n,t){return new xi(e,n,t)}}class xi{constructor(e,n,t){this.url=e,this.headers=n,this.callbacks=t}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}const ki="x-goog-api-key";class Ni{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(null===e.get(ki)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ki,this.apiKey)}}}class Pi{constructor(e){var n;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(n=e.vertexai)&&void 0!==n&&n,this.apiKey=e.apiKey;const t=p(e.httpOptions,e.vertexai,void 0,void 0);t&&(e.httpOptions?e.httpOptions.baseUrl=t:e.httpOptions={baseUrl:t}),this.apiVersion=e.apiVersion;const o=new Ni(this.apiKey);this.apiClient=new jr({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/web",uploader:new Ai,downloader:new _i}),this.models=new ei(this.apiClient),this.live=new Yr(this.apiClient,o,new Oi),this.batches=new Wn(this.apiClient),this.chats=new wt(this.models,this.apiClient),this.caches=new yt(this.apiClient),this.files=new Nt(this.apiClient),this.operations=new ni(this.apiClient),this.authTokens=new fi(this.apiClient),this.tunings=new Ti(this.apiClient)}}const Ri=new class{constructor(){this.client=null,this.isInitialized=!1}initialize(e){if(!e||"string"!==typeof e)throw new Error("Valid API key required for Nano Banana API");try{this.client=new Pi({apiKey:e}),this.isInitialized=!0,console.log("Nano Banana API initialized successfully")}catch(n){throw console.error("Failed to initialize Nano Banana API:",n),new Error("Failed to initialize Nano Banana API")}}isReady(){return this.isInitialized&&null!==this.client}async generateImage(e){if(!this.isReady())throw new Error("Nano Banana API not initialized. Call initialize() first.");if(!e||"string"!==typeof e||0===e.trim().length)throw new Error("Valid prompt required for image generation");try{console.log("Generating image with prompt:",e);const n=await this.client.models.generateContent({model:"gemini-2.5-flash-image-preview",contents:[{text:e.trim()}]}),t=this.extractImageFromResponse(n);if(!t)throw new Error("No image data received from API");return console.log("Image generated successfully"),t}catch(n){throw console.error("Image generation failed:",n),new Error("Image generation failed: ".concat(n.message))}}async editImage(e,n){if(!this.isReady())throw new Error("Nano Banana API not initialized. Call initialize() first.");if(!Array.isArray(e)||0===e.length)throw new Error("At least one image required for editing");if(e.length>3)throw new Error("Maximum 3 images supported for editing");if(!n||"string"!==typeof n||0===n.trim().length)throw new Error("Valid prompt required for image editing");try{console.log("[NanoBananaAPI] Editing ".concat(e.length," image(s) with prompt:"),n),console.log("[NanoBananaAPI] Input images:",e.map(e=>{var n;return{type:typeof e,hasData:!(null===e||void 0===e||!e.data),hasMimeType:!(null===e||void 0===e||!e.mimeType),dataLength:(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.length)||("string"===typeof e?e.length:0)}}));const t=[];e.forEach((e,n)=>{let o,r;if("string"===typeof e)o=e,r="image/png";else{if(!(e&&e.data&&e.mimeType))throw new Error("Invalid image data at index ".concat(n));o=e.data,r=e.mimeType}console.log("[NanoBananaAPI] Adding image ".concat(n+1,":"),{mimeType:r,dataLength:o.length}),t.push({inlineData:{data:o,mimeType:r}})});const o="".concat(n.trim());t.push({text:o}),console.log("[NanoBananaAPI] Final parts structure:",t.map(e=>({hasInlineData:!!e.inlineData,hasText:!!e.text,text:e.text||"[IMAGE]"}))),console.log("[NanoBananaAPI] Calling Gemini API...");const r=await this.client.models.generateContent({model:"gemini-2.5-flash-image-preview",contents:t});console.log("[NanoBananaAPI] Gemini API response received");const i=this.extractImageFromResponse(r);if(!i)throw new Error("No image data received from API");return console.log("Image editing completed successfully"),i}catch(t){throw console.error("Image editing failed:",t),new Error("Image editing failed: ".concat(t.message))}}extractImageFromResponse(e){try{var n,t,o;if(null===e||void 0===e||null===(n=e.candidates)||void 0===n||null===(t=n[0])||void 0===t||null===(o=t.content)||void 0===o||!o.parts)return console.error("Invalid response structure:",e),null;const r=e.candidates[0].content.parts;for(const e of r)if(e.inlineData&&e.inlineData.data)return{imageData:e.inlineData.data,mimeType:e.inlineData.mimeType||"image/png"};return console.error("No inline data found in response parts:",r),null}catch(r){return console.error("Error extracting image from response:",r),null}}async fileToBase64(e){return new Promise((n,t)=>{if(!e||!e.type.startsWith("image/"))return void t(new Error("Valid image file required"));const o=new FileReader;o.onload=()=>{try{const t=o.result.split(",")[1];n({data:t,mimeType:e.type})}catch(r){t(new Error("Failed to convert file to base64"))}},o.onerror=()=>{t(new Error("Failed to read file"))},o.readAsDataURL(e)})}async generateText(e){if(!this.isReady())throw new Error("Nano Banana API not initialized. Call initialize() first.");if(!e||"string"!==typeof e||0===e.trim().length)throw new Error("Valid prompt required for text generation");try{var n,t,o,r,i;console.log("Generating text with prompt:",e.substring(0,100)+"...");const l=await this.client.models.generateContent({model:"gemini-2.5-flash",contents:[{text:e.trim()}]});if(null===l||void 0===l||null===(n=l.candidates)||void 0===n||null===(t=n[0])||void 0===t||null===(o=t.content)||void 0===o||null===(r=o.parts)||void 0===r||null===(i=r[0])||void 0===i||!i.text)throw new Error("No text response received from API");const a=l.candidates[0].content.parts[0].text;return console.log("Text generated successfully"),{text:a}}catch(l){throw console.error("Text generation failed:",l),new Error("Text generation failed: ".concat(l.message))}}async urlToBase64(e){try{const n=await fetch(e);if(!n.ok)throw new Error("Failed to fetch image: ".concat(n.status));const t=await n.blob();return new Promise((e,n)=>{const o=new FileReader;o.onload=()=>{try{const n=o.result.split(",")[1];e({data:n,mimeType:t.type||"image/png"})}catch(r){n(new Error("Failed to convert URL to base64"))}},o.onerror=()=>{n(new Error("Failed to read blob"))},o.readAsDataURL(t)})}catch(n){throw console.error("URL to base64 conversion failed:",n),new Error("URL conversion failed: ".concat(n.message))}}};const Mi=new class{async analyzePrompt(e){if(!e||"string"!==typeof e)throw new Error("Invalid prompt provided for analysis");const n='Analyze this image generation prompt and extract the following metadata in JSON format:\n\n"'.concat(e,'"\n\nPlease provide a JSON response with these exact fields:\n{\n  "category": "Choose from: Portrait, Landscape, Abstract, Architecture, Animal, Product, Fantasy, Sci-Fi, Food, Vehicle, Other",\n  "subject": "Main subject or focal point (2-4 words)",\n  "action": "What is happening or the pose/activity (2-5 words)",\n  "environment": "Location, setting, or background (2-4 words)",\n  "artStyle": "Photography style, artistic technique, or camera used (3-6 words)",\n  "lighting": "Lighting conditions or mood (2-4 words)"\n}\n\nGuidelines:\n- Be concise and specific\n- Use title case for proper nouns\n- If something is not explicitly mentioned, infer from context\n- For "category", choose the most appropriate from the list\n- For "artStyle", include camera models, artistic styles, or techniques mentioned\n- For "lighting", describe the quality, direction, or mood of light\n\nReturn only valid JSON, no additional text.');try{const o=await Ri.generateText(n);if(!o||!o.text)throw new Error("No analysis result received from AI");let r;try{let e=o.text.trim();e.startsWith("```json")?e=e.replace(/```json\s*/,"").replace(/```\s*$/,""):e.startsWith("```")&&(e=e.replace(/```\s*/,"").replace(/```\s*$/,"")),r=JSON.parse(e)}catch(t){console.warn("Failed to parse AI analysis response, using fallback:",t),r=this.generateFallbackMetadata(e)}return this.validateMetadata(r)}catch(o){return console.warn("AI analysis failed, using fallback metadata:",o),this.generateFallbackMetadata(e)}}generateFallbackMetadata(e){const n=e.toLowerCase(),t={Portrait:["person","woman","man","face","portrait","headshot","selfie"],Landscape:["landscape","mountain","forest","ocean","beach","valley","horizon"],Architecture:["building","house","church","bridge","tower","architecture"],Animal:["cat","dog","bird","animal","pet","wildlife","horse","lion"],Fantasy:["dragon","fairy","magic","fantasy","wizard","medieval","mythical"],"Sci-Fi":["robot","spaceship","alien","future","cyberpunk","sci-fi","space"],Food:["food","meal","cooking","restaurant","kitchen","recipe","delicious"],Vehicle:["car","truck","motorcycle","boat","plane","vehicle","transport"]};let o="Other";for(const[i,l]of Object.entries(t))if(l.some(e=>n.includes(e))){o=i;break}const r=e.split(" ").slice(0,4).join(" ");return{category:o,subject:r.charAt(0).toUpperCase()+r.slice(1)||"General Image",action:this.extractAction(e),environment:this.extractEnvironment(e),artStyle:this.extractArtStyle(e),lighting:this.extractLighting(e)}}extractAction(e){const n=["sitting","standing","walking","running","smiling","looking","holding","dancing","flying","swimming"],t=e.toLowerCase();for(const o of n)if(t.includes(o))return o.charAt(0).toUpperCase()+o.slice(1);return"Static Pose"}extractEnvironment(e){const n=["studio","outdoor","indoor","cafe","park","street","home","office","beach","forest"],t=e.toLowerCase();for(const o of n)if(t.includes(o))return o.charAt(0).toUpperCase()+o.slice(1);return"Neutral Background"}extractArtStyle(e){const n=["canon","nikon","sony","photograph","painting","digital art","sketch","watercolor","oil painting"],t=e.toLowerCase();for(const o of n)if(t.includes(o))return o.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return"Digital Photography"}extractLighting(e){const n=["natural light","soft light","dramatic","bright","dark","warm","cool","golden hour","studio lighting"],t=e.toLowerCase();for(const o of n)if(t.includes(o))return o.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return"Natural Light"}validateMetadata(e){return{category:["Portrait","Landscape","Abstract","Architecture","Animal","Product","Fantasy","Sci-Fi","Food","Vehicle","Other"].includes(e.category)?e.category:"Other",subject:this.sanitizeField(e.subject)||"General Image",action:this.sanitizeField(e.action)||"Static Pose",environment:this.sanitizeField(e.environment)||"Neutral Background",artStyle:this.sanitizeField(e.artStyle)||"Digital Photography",lighting:this.sanitizeField(e.lighting)||"Natural Light"}}sanitizeField(e){return e&&"string"===typeof e?e.trim().slice(0,50).replace(/^\w/,e=>e.toUpperCase()):""}};var Di=t(579);const Li=function(){const[e,n]=(0,o.useState)(""),[,t]=(0,o.useState)(null),[r,i]=(0,o.useState)(null),[l,a]=(0,o.useState)(!1),[s,c]=(0,o.useState)([]),[d,p]=(0,o.useState)(""),[f,m]=(0,o.useState)(!1),h=(0,o.useRef)(null),[g,y]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1),[C,E]=(0,o.useState)([]),[S,T]=(0,o.useState)({name:"",category:"",subject:"",action:"",environment:"",artStyle:"",lighting:""}),[_,w]=(0,o.useState)(""),[I,A]=(0,o.useState)("all");(0,o.useEffect)(()=>{(async()=>{try{const n="AIzaSyCXsjzN10l3fOMlw7hqDry-ZuhXssE-Hnk";if(n)return p(n),void O(n,!0);const o=await fetch("/api/settings");if(o.ok){var e;const n=await o.json();t(n),null!==(e=n.nanoBanana)&&void 0!==e&&e.apiKey&&(p(n.nanoBanana.apiKey),O(n.nanoBanana.apiKey,!1))}}catch(n){console.error("Failed to load settings:",n)}})()},[]);const O=(0,o.useCallback)(async function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{Ri.initialize(e),m(!0),console.log("Nano Banana API ready"),n||await x(e)}catch(t){console.error("Failed to initialize API:",t),m(!1),alert("Failed to initialize Nano Banana API. Please check your API key.")}},[]),x=async e=>{try{const n=await fetch("/api/env/apikey",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:e})});if(!n.ok){const e=await n.json();throw console.warn("Failed to save API key:",e.error),new Error(e.error||"Failed to save API key")}{console.log("API key saved to .env file");const e=await fetch("/api/settings");if(e.ok){const n=await e.json();t(n)}}}catch(n){throw console.error("Error saving API key:",n),n}},k=async e=>{if(e&&e.type.startsWith("image/"))try{r&&c(e=>[...e,r]);const n=await Ri.fileToBase64(e),t="data:".concat(n.mimeType,";base64,").concat(n.data);i({url:t,prompt:"Uploaded: ".concat(e.name),timestamp:(new Date).toISOString(),isModification:!1}),console.log("File uploaded and set as generated image")}catch(n){console.error("Failed to upload file:",n),alert("Failed to upload file. Please try again.")}else alert("Please upload a valid image file.")},N=async()=>{try{const e=await fetch("/api/prompts");if(e.ok){const n=await e.json();E(n)}}catch(e){console.error("Failed to load saved prompts:",e)}},P=()=>C.filter(e=>{const n=!_||e.prompt.toLowerCase().includes(_.toLowerCase())||e.name.toLowerCase().includes(_.toLowerCase())||e.subject.toLowerCase().includes(_.toLowerCase()),t="all"===I||e.category===I;return n&&t});return(0,o.useEffect)(()=>{N()},[]),(0,Di.jsxs)("div",{className:"app",children:[(0,Di.jsxs)("header",{className:"app-header",children:[(0,Di.jsxs)("h1",{className:"app-title",children:[(0,Di.jsx)("span",{className:"pixel-text",children:"Pixel"}),(0,Di.jsx)("span",{className:"prompt-text",children:"Prompt"})]}),(0,Di.jsx)("p",{className:"app-subtitle",children:"Spark Creativity, Pixel by Pixel"})]}),(0,Di.jsxs)("main",{className:"app-main",children:[!f&&(0,Di.jsxs)("div",{className:"api-key-section",children:[(0,Di.jsx)("label",{htmlFor:"api-key",className:"api-key-label",children:"Google AI API Key:"}),(0,Di.jsxs)("div",{className:"api-key-input-group",children:[(0,Di.jsx)("input",{id:"api-key",type:"password",className:"api-key-input",value:d,onChange:e=>{p(e.target.value)},placeholder:"Enter your Google AI API key"}),(0,Di.jsx)("button",{className:"api-key-submit",onClick:async()=>{d.trim()&&await O(d.trim(),!1)},disabled:!d.trim(),type:"button",children:"Set Key"})]}),(0,Di.jsxs)("p",{className:"api-key-help",children:["Get your API key from ",(0,Di.jsx)("a",{href:"https://aistudio.google.com/apikey",target:"_blank",rel:"noopener noreferrer",children:"Google AI Studio"})]})]}),(0,Di.jsxs)("div",{className:"app-layout",children:[(0,Di.jsx)("div",{className:"left-panel",children:(0,Di.jsxs)("div",{className:"prompt-section",children:[(0,Di.jsx)("h2",{className:"section-title",children:"Prompt"}),(0,Di.jsx)("textarea",{className:"prompt-textarea",value:e,onChange:e=>{n(e.target.value)},placeholder:r?"Describe how to modify the current image...":"Describe what you want to generate...",rows:5}),(0,Di.jsxs)("div",{className:"prompt-actions",children:[(0,Di.jsxs)("button",{className:"prompt-ideas-button",onClick:async()=>{await N(),b(!0)},type:"button",title:"Browse saved prompt ideas",children:[(0,Di.jsx)("span",{className:"material-symbols-outlined",children:"lightbulb"}),"Prompt Ideas"]}),(0,Di.jsx)("button",{className:"generate-button",disabled:!e.trim()||!f||l,onClick:async()=>{if(f)if(e.trim()){a(!0);try{let t;if(r){console.log("Modifying existing image with prompt");const n=r.url.split(",")[1];t=await Ri.editImage([n],e)}else console.log("Generating new image from text prompt"),t=await Ri.generateImage(e);if(t){let o;r&&c(e=>[...e,r]),o=r&&r.prompt?"".concat(r.prompt," \u2192 ").concat(e):e;const l="data:".concat(t.mimeType,";base64,").concat(t.imageData);i({url:l,prompt:o,timestamp:(new Date).toISOString(),isModification:!!r}),console.log("Image generated successfully"),n("")}}catch(t){console.error("Generation failed:",t),alert("Failed to generate image: ".concat(t.message))}finally{a(!1)}}else alert("Please enter a prompt.");else alert("Please configure your API key first.")},type:"button",children:l?"Generating...":r?"Modify Image":"Generate Image"}),e.trim()&&(0,Di.jsx)("button",{className:"clear-prompt-button",onClick:()=>{n("")},type:"button",title:"Clear prompt",children:"Clear"})]}),(0,Di.jsxs)("div",{className:"best-practices-section",children:[(0,Di.jsx)("h3",{className:"best-practices-title",children:"Best Practices for Better Images"}),(0,Di.jsx)("p",{className:"best-practices-subtitle",children:"Include these elements in your prompt:"}),(0,Di.jsxs)("div",{className:"best-practices-list",children:[(0,Di.jsxs)("div",{className:"practice-item",children:[(0,Di.jsx)("span",{className:"practice-number",children:"1)"}),(0,Di.jsx)("span",{className:"practice-label",children:"Subject"}),(0,Di.jsx)("span",{className:"practice-example",children:"- A young woman with freckles"})]}),(0,Di.jsxs)("div",{className:"practice-item",children:[(0,Di.jsx)("span",{className:"practice-number",children:"2)"}),(0,Di.jsx)("span",{className:"practice-label",children:"Action"}),(0,Di.jsx)("span",{className:"practice-example",children:"- smiling thoughtfully, sitting on a sunlit window seat"})]}),(0,Di.jsxs)("div",{className:"practice-item",children:[(0,Di.jsx)("span",{className:"practice-number",children:"3)"}),(0,Di.jsx)("span",{className:"practice-label",children:"Environment"}),(0,Di.jsx)("span",{className:"practice-example",children:"- in a cozy cafe"})]}),(0,Di.jsxs)("div",{className:"practice-item",children:[(0,Di.jsx)("span",{className:"practice-number",children:"4)"}),(0,Di.jsx)("span",{className:"practice-label",children:"Art Style"}),(0,Di.jsx)("span",{className:"practice-example",children:"- shot on a Canon 5D Mark IV Camera"})]}),(0,Di.jsxs)("div",{className:"practice-item",children:[(0,Di.jsx)("span",{className:"practice-number",children:"5)"}),(0,Di.jsx)("span",{className:"practice-label",children:"Lighting"}),(0,Di.jsx)("span",{className:"practice-example",children:"- soft natural light, warm and inviting"})]})]}),(0,Di.jsxs)("div",{className:"example-prompt-section",children:[(0,Di.jsx)("h4",{className:"example-prompt-title",children:"Complete Example:"}),(0,Di.jsxs)("div",{className:"example-prompt-container",children:[(0,Di.jsx)("p",{className:"example-prompt-text",children:'"A young woman with freckles smiling thoughtfully, sitting on a sunlit window seat in a cozy cafe, shot on a Canon 5D Mark IV Camera, soft natural light, warm and inviting"'}),(0,Di.jsxs)("button",{className:"copy-prompt-button",onClick:async()=>{const e="A young woman with freckles smiling thoughtfully, sitting on a sunlit window seat in a cozy cafe, shot on a Canon 5D Mark IV Camera, soft natural light, warm and inviting";try{await navigator.clipboard.writeText(e),console.log("Example prompt copied to clipboard")}catch(n){const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),console.log("Example prompt copied to clipboard (fallback)")}},type:"button",title:"Copy example prompt",children:[(0,Di.jsx)("span",{className:"material-symbols-outlined",children:"content_copy"}),"Copy"]})]})]})]})]})}),(0,Di.jsx)("div",{className:"right-panel",children:(0,Di.jsx)("div",{className:"image-section",children:r?(0,Di.jsxs)("div",{className:"generated-image-container",children:[(0,Di.jsxs)("div",{className:"generated-image-header",children:[(0,Di.jsx)("h3",{children:"Generated Image"}),(0,Di.jsxs)("div",{className:"image-actions",children:[(0,Di.jsx)("button",{className:"download-generated-button",onClick:()=>{if(!r)return;const e=new Date(r.timestamp).toISOString().replace(/[:.]/g,"-"),n=r.prompt.slice(0,30).replace(/[^a-zA-Z0-9]/g,"_"),t="generated_".concat(n,"_").concat(e,".png"),o=document.createElement("a");o.href=r.url,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)},type:"button",title:"Download generated image",children:"Download"}),(s.length>0||r)&&(0,Di.jsx)("button",{className:"undo-button",onClick:()=>{if(s.length>0){const e=s[s.length-1];i(e),c(e=>e.slice(0,-1))}else i(null)},type:"button",children:"Undo"}),(0,Di.jsx)("button",{className:"start-over-button",onClick:()=>{i(null),c([])},type:"button",children:"Start Over"})]})]}),(0,Di.jsx)("div",{className:"generated-image-wrapper",children:(0,Di.jsx)("img",{src:r.url,alt:"Generated content",className:"generated-image"})}),(0,Di.jsxs)("div",{className:"generated-image-info",children:[(0,Di.jsxs)("div",{className:"prompt-used",children:[(0,Di.jsxs)("strong",{children:["Prompt",r.prompt.includes(" \u2192 ")?" History":"",":"]}),(0,Di.jsxs)("span",{className:"prompt-text",children:['"',r.prompt,'"']})]}),(0,Di.jsxs)("p",{className:"generation-time",children:["Generated: ",new Date(r.timestamp).toLocaleString()]}),(0,Di.jsx)("div",{className:"prompt-actions-bottom",children:(0,Di.jsxs)("button",{className:"save-prompt-button",onClick:async()=>{if(r&&r.prompt)try{const e=await Mi.analyzePrompt(r.prompt);T(u({name:"Generated ".concat((new Date).toLocaleDateString())},e)),y(!0)}catch(e){console.error("Failed to analyze prompt:",e),T({name:"Generated ".concat((new Date).toLocaleDateString()),category:"Other",subject:"General Image",action:"Static Pose",environment:"Neutral Background",artStyle:"Digital Photography",lighting:"Natural Light"}),y(!0)}else alert("No prompt to save. Generate an image first.")},type:"button",title:"Save this prompt to your library",children:[(0,Di.jsx)("span",{className:"material-symbols-outlined",children:"bookmark_add"}),"Save Prompt"]})})]})]}):(0,Di.jsxs)("div",{className:"drop-zone",onDrop:e=>{e.preventDefault();const n=e.dataTransfer.files;n.length>0&&k(n[0])},onDragOver:e=>{e.preventDefault()},onDragEnter:e=>{e.preventDefault()},onDragLeave:e=>{e.preventDefault()},onClick:()=>{var e;null===(e=h.current)||void 0===e||e.click()},children:[(0,Di.jsx)("input",{type:"file",ref:h,onChange:e=>{const n=e.target.files;n.length>0&&k(n[0])},accept:"image/*",style:{display:"none"}}),(0,Di.jsxs)("div",{className:"drop-zone-content",children:[(0,Di.jsx)("div",{className:"material-symbols-outlined drop-icon",children:l?"hourglass_empty":"add_photo_alternate"}),(0,Di.jsx)("h3",{children:l?"Generating...":"Drop Image or Generate"}),(0,Di.jsx)("p",{children:l?"Creating your image...":f?"Drop an image to edit or enter a prompt to generate":"Please configure your API key to get started"}),l&&(0,Di.jsx)("div",{className:"generating-spinner",children:(0,Di.jsx)("div",{className:"spinner"})})]})]})})})]})]}),(0,Di.jsxs)("footer",{className:"app-footer",children:[(0,Di.jsx)("p",{children:"Pixel Prompt v1.0.0"}),(0,Di.jsx)("p",{children:"\xa9 2025 David Seguin Consulting Inc. All rights reserved."})]}),g&&(0,Di.jsx)("div",{className:"dialog-overlay",onClick:()=>y(!1),children:(0,Di.jsxs)("div",{className:"dialog",onClick:e=>e.stopPropagation(),children:[(0,Di.jsxs)("div",{className:"dialog-header",children:[(0,Di.jsx)("h3",{children:"Save Prompt to Library"}),(0,Di.jsx)("button",{className:"dialog-close",onClick:()=>y(!1),type:"button",children:(0,Di.jsx)("span",{className:"material-symbols-outlined",children:"close"})})]}),(0,Di.jsxs)("div",{className:"dialog-content",children:[(0,Di.jsx)("p",{className:"dialog-subtitle",children:"AI has analyzed your prompt and suggested metadata. Feel free to edit:"}),(0,Di.jsxs)("div",{className:"form-group",children:[(0,Di.jsx)("label",{htmlFor:"prompt-name",children:"Prompt Name:"}),(0,Di.jsx)("input",{id:"prompt-name",type:"text",value:S.name,onChange:e=>T(u(u({},S),{},{name:e.target.value})),placeholder:"Enter a name for this prompt"})]}),(0,Di.jsxs)("div",{className:"form-row",children:[(0,Di.jsxs)("div",{className:"form-group",children:[(0,Di.jsx)("label",{htmlFor:"prompt-category",children:"Category:"}),(0,Di.jsxs)("select",{id:"prompt-category",value:S.category,onChange:e=>T(u(u({},S),{},{category:e.target.value})),children:[(0,Di.jsx)("option",{value:"Portrait",children:"Portrait"}),(0,Di.jsx)("option",{value:"Landscape",children:"Landscape"}),(0,Di.jsx)("option",{value:"Abstract",children:"Abstract"}),(0,Di.jsx)("option",{value:"Architecture",children:"Architecture"}),(0,Di.jsx)("option",{value:"Animal",children:"Animal"}),(0,Di.jsx)("option",{value:"Product",children:"Product"}),(0,Di.jsx)("option",{value:"Fantasy",children:"Fantasy"}),(0,Di.jsx)("option",{value:"Sci-Fi",children:"Sci-Fi"}),(0,Di.jsx)("option",{value:"Food",children:"Food"}),(0,Di.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,Di.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,Di.jsxs)("div",{className:"form-group",children:[(0,Di.jsx)("label",{htmlFor:"prompt-subject",children:"Subject:"}),(0,Di.jsx)("input",{id:"prompt-subject",type:"text",value:S.subject,onChange:e=>T(u(u({},S),{},{subject:e.target.value})),placeholder:"Main subject"})]})]}),(0,Di.jsxs)("div",{className:"form-row",children:[(0,Di.jsxs)("div",{className:"form-group",children:[(0,Di.jsx)("label",{htmlFor:"prompt-action",children:"Action:"}),(0,Di.jsx)("input",{id:"prompt-action",type:"text",value:S.action,onChange:e=>T(u(u({},S),{},{action:e.target.value})),placeholder:"Action or pose"})]}),(0,Di.jsxs)("div",{className:"form-group",children:[(0,Di.jsx)("label",{htmlFor:"prompt-environment",children:"Environment:"}),(0,Di.jsx)("input",{id:"prompt-environment",type:"text",value:S.environment,onChange:e=>T(u(u({},S),{},{environment:e.target.value})),placeholder:"Setting or location"})]})]}),(0,Di.jsxs)("div",{className:"form-row",children:[(0,Di.jsxs)("div",{className:"form-group",children:[(0,Di.jsx)("label",{htmlFor:"prompt-artstyle",children:"Art Style:"}),(0,Di.jsx)("input",{id:"prompt-artstyle",type:"text",value:S.artStyle,onChange:e=>T(u(u({},S),{},{artStyle:e.target.value})),placeholder:"Photography or art style"})]}),(0,Di.jsxs)("div",{className:"form-group",children:[(0,Di.jsx)("label",{htmlFor:"prompt-lighting",children:"Lighting:"}),(0,Di.jsx)("input",{id:"prompt-lighting",type:"text",value:S.lighting,onChange:e=>T(u(u({},S),{},{lighting:e.target.value})),placeholder:"Lighting conditions"})]})]}),(0,Di.jsxs)("div",{className:"prompt-preview",children:[(0,Di.jsx)("strong",{children:"Original Prompt:"}),(0,Di.jsxs)("p",{children:['"',null===r||void 0===r?void 0:r.prompt,'"']})]})]}),(0,Di.jsxs)("div",{className:"dialog-actions",children:[(0,Di.jsx)("button",{className:"dialog-button secondary",onClick:()=>y(!1),type:"button",children:"Cancel"}),(0,Di.jsx)("button",{className:"dialog-button primary",onClick:async()=>{try{const e={id:Date.now().toString(),name:S.name,prompt:r.prompt,category:S.category,subject:S.subject,action:S.action,environment:S.environment,artStyle:S.artStyle,lighting:S.lighting,createdAt:(new Date).toISOString()};if(!(await fetch("/api/prompts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to save prompt");console.log("Prompt saved successfully"),y(!1),N()}catch(e){console.error("Error saving prompt:",e),alert("Failed to save prompt. Please try again.")}},type:"button",disabled:!S.name.trim(),children:"Save Prompt"})]})]})}),v&&(0,Di.jsx)("div",{className:"dialog-overlay",onClick:()=>b(!1),children:(0,Di.jsxs)("div",{className:"dialog large",onClick:e=>e.stopPropagation(),children:[(0,Di.jsxs)("div",{className:"dialog-header",children:[(0,Di.jsx)("h3",{children:"Prompt Ideas Library"}),(0,Di.jsx)("button",{className:"dialog-close",onClick:()=>b(!1),type:"button",children:(0,Di.jsx)("span",{className:"material-symbols-outlined",children:"close"})})]}),(0,Di.jsxs)("div",{className:"dialog-content",children:[(0,Di.jsx)("div",{className:"prompt-filters",children:(0,Di.jsxs)("div",{className:"filter-row",children:[(0,Di.jsxs)("div",{className:"search-group",children:[(0,Di.jsx)("span",{className:"material-symbols-outlined",children:"search"}),(0,Di.jsx)("input",{type:"text",placeholder:"Search prompts...",value:_,onChange:e=>w(e.target.value),className:"search-input"})]}),(0,Di.jsxs)("select",{value:I,onChange:e=>A(e.target.value),className:"category-filter",children:[(0,Di.jsx)("option",{value:"all",children:"All Categories"}),(0,Di.jsx)("option",{value:"Portrait",children:"Portrait"}),(0,Di.jsx)("option",{value:"Landscape",children:"Landscape"}),(0,Di.jsx)("option",{value:"Abstract",children:"Abstract"}),(0,Di.jsx)("option",{value:"Architecture",children:"Architecture"}),(0,Di.jsx)("option",{value:"Animal",children:"Animal"}),(0,Di.jsx)("option",{value:"Product",children:"Product"}),(0,Di.jsx)("option",{value:"Fantasy",children:"Fantasy"}),(0,Di.jsx)("option",{value:"Sci-Fi",children:"Sci-Fi"}),(0,Di.jsx)("option",{value:"Food",children:"Food"}),(0,Di.jsx)("option",{value:"Vehicle",children:"Vehicle"}),(0,Di.jsx)("option",{value:"Other",children:"Other"})]})]})}),(0,Di.jsx)("div",{className:"prompts-grid",children:0===P().length?(0,Di.jsxs)("div",{className:"no-prompts",children:[(0,Di.jsx)("span",{className:"material-symbols-outlined",children:"bookmark_border"}),(0,Di.jsx)("p",{children:"No saved prompts found."}),(0,Di.jsx)("p",{children:"Generate some images and save their prompts to build your library!"})]}):P().map(e=>(0,Di.jsxs)("div",{className:"prompt-card",children:[(0,Di.jsxs)("div",{className:"prompt-card-header",children:[(0,Di.jsx)("h4",{children:e.name}),(0,Di.jsx)("span",{className:"prompt-category",children:e.category})]}),(0,Di.jsxs)("div",{className:"prompt-card-body",children:[(0,Di.jsxs)("p",{className:"prompt-text",children:['"',e.prompt,'"']}),(0,Di.jsxs)("div",{className:"prompt-metadata",children:[(0,Di.jsxs)("div",{className:"metadata-item",children:[(0,Di.jsx)("span",{className:"metadata-label",children:"Subject:"}),(0,Di.jsx)("span",{children:e.subject})]}),(0,Di.jsxs)("div",{className:"metadata-item",children:[(0,Di.jsx)("span",{className:"metadata-label",children:"Action:"}),(0,Di.jsx)("span",{children:e.action})]}),(0,Di.jsxs)("div",{className:"metadata-item",children:[(0,Di.jsx)("span",{className:"metadata-label",children:"Environment:"}),(0,Di.jsx)("span",{children:e.environment})]}),(0,Di.jsxs)("div",{className:"metadata-item",children:[(0,Di.jsx)("span",{className:"metadata-label",children:"Art Style:"}),(0,Di.jsx)("span",{children:e.artStyle})]}),(0,Di.jsxs)("div",{className:"metadata-item",children:[(0,Di.jsx)("span",{className:"metadata-label",children:"Lighting:"}),(0,Di.jsx)("span",{children:e.lighting})]})]})]}),(0,Di.jsx)("div",{className:"prompt-card-actions",children:(0,Di.jsxs)("button",{className:"use-prompt-button",onClick:()=>(e=>{n(e.prompt),b(!1)})(e),type:"button",children:[(0,Di.jsx)("span",{className:"material-symbols-outlined",children:"play_arrow"}),"Use This Prompt"]})})]},e.id))})]})]})})]})};r.createRoot(document.getElementById("root")).render((0,Di.jsx)(o.StrictMode,{children:(0,Di.jsx)(Li,{})}))})();
//# sourceMappingURL=main.0f4737e0.js.map